(function(){"use strict";var cn=(()=>{var R=self.location.href;return function(u){var f=u||{},t=typeof f<"u"?f:{},g,T;t.ready=new Promise(function(r,n){g=r,T=n});const M=self.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete self.sqlite3InitModuleState,M.debugModule("self.location =",self.location);const B="emscripten-bug-17951";t[B]=function r(n,i){n.env.foo=function(){};const s=t.locateFile(r.uri,typeof ae>"u"?"":ae);M.debugModule("instantiateWasm() uri =",s);const o=()=>fetch(s,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(o(),n).then(b=>i(b.instance,b.module)):async()=>o().then(b=>b.arrayBuffer()).then(b=>WebAssembly.instantiate(b,n)).then(b=>i(b.instance,b.module)))(),{}},t[B].uri="sqlite3.wasm";var X=Object.assign({},t),me="./this.program",fe=typeof window=="object",ce=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var ae="";function ne(r){return t.locateFile?t.locateFile(r,ae):ae+r}var Me,ze,Ue;(fe||ce)&&(ce?ae=self.location.href:typeof document<"u"&&document.currentScript&&(ae=document.currentScript.src),R&&(ae=R),ae.indexOf("blob:")!==0?ae=ae.substr(0,ae.replace(/[?#].*/,"").lastIndexOf("/")+1):ae="",Me=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.send(null),n.responseText},ce&&(Ue=r=>{var n=new XMLHttpRequest;return n.open("GET",r,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),ze=(r,n,i)=>{var s=new XMLHttpRequest;s.open("GET",r,!0),s.responseType="arraybuffer",s.onload=()=>{if(s.status==200||s.status==0&&s.response){n(s.response);return}i()},s.onerror=i,s.send(null)});var qe=t.print||console.log.bind(console),ve=t.printErr||console.warn.bind(console);Object.assign(t,X),X=null,t.arguments&&t.arguments,t.thisProgram&&(me=t.thisProgram),t.quit&&t.quit;var We;t.wasmBinary&&(We=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!="object"&&nt("no native wasm support detected");var Pe,Ne=!1;function Qe(r,n){r||nt(n)}var Ye=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ge(r,n,i){for(var s=n+i,o=n;r[o]&&!(o>=s);)++o;if(o-n>16&&r.buffer&&Ye)return Ye.decode(r.subarray(n,o));for(var a="";n<o;){var b=r[n++];if(!(b&128)){a+=String.fromCharCode(b);continue}var E=r[n++]&63;if((b&224)==192){a+=String.fromCharCode((b&31)<<6|E);continue}var P=r[n++]&63;if((b&240)==224?b=(b&15)<<12|E<<6|P:b=(b&7)<<18|E<<12|P<<6|r[n++]&63,b<65536)a+=String.fromCharCode(b);else{var W=b-65536;a+=String.fromCharCode(55296|W>>10,56320|W&1023)}}return a}function Fn(r,n){return r?Ge(ot,r,n):""}function _t(r,n,i,s){if(!(s>0))return 0;for(var o=i,a=i+s-1,b=0;b<r.length;++b){var E=r.charCodeAt(b);if(E>=55296&&E<=57343){var P=r.charCodeAt(++b);E=65536+((E&1023)<<10)|P&1023}if(E<=127){if(i>=a)break;n[i++]=E}else if(E<=2047){if(i+1>=a)break;n[i++]=192|E>>6,n[i++]=128|E&63}else if(E<=65535){if(i+2>=a)break;n[i++]=224|E>>12,n[i++]=128|E>>6&63,n[i++]=128|E&63}else{if(i+3>=a)break;n[i++]=240|E>>18,n[i++]=128|E>>12&63,n[i++]=128|E>>6&63,n[i++]=128|E&63}}return n[i]=0,i-o}function Wt(r,n,i){return _t(r,ot,n,i)}function it(r){for(var n=0,i=0;i<r.length;++i){var s=r.charCodeAt(i);s<=127?n++:s<=2047?n+=2:s>=55296&&s<=57343?(n+=4,++i):n+=3}return n}var je,ot,Qt,he,Fe;function $t(){var r=Pe.buffer;t.HEAP8=je=new Int8Array(r),t.HEAP16=Qt=new Int16Array(r),t.HEAP32=he=new Int32Array(r),t.HEAPU8=ot=new Uint8Array(r),t.HEAPU16=new Uint16Array(r),t.HEAPU32=Fe=new Uint32Array(r),t.HEAPF32=new Float32Array(r),t.HEAPF64=new Float64Array(r),t.HEAP64=new BigInt64Array(r),t.HEAPU64=new BigUint64Array(r)}var Ht=t.INITIAL_MEMORY||16777216;t.wasmMemory?Pe=t.wasmMemory:Pe=new WebAssembly.Memory({initial:Ht/65536,maximum:32768}),$t(),Ht=Pe.buffer.byteLength;var Vt=[],Gt=[],Kt=[];function On(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Rn(t.preRun.shift());xt(Vt)}function Pn(){!t.noFSInit&&!l.init.initialized&&l.init(),l.ignorePermissions=!1,xt(Gt)}function Ln(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Cn(t.postRun.shift());xt(Kt)}function Rn(r){Vt.unshift(r)}function Dn(r){Gt.unshift(r)}function Cn(r){Kt.unshift(r)}var tt=0,lt=null;function Cr(r){return r}function wt(r){tt++,t.monitorRunDependencies&&t.monitorRunDependencies(tt)}function pt(r){if(tt--,t.monitorRunDependencies&&t.monitorRunDependencies(tt),tt==0&&lt){var n=lt;lt=null,n()}}function nt(r){t.onAbort&&t.onAbort(r),r="Aborted("+r+")",ve(r),Ne=!0,r+=". Build with -sASSERTIONS for more info.";var n=new WebAssembly.RuntimeError(r);throw T(n),n}var zn="data:application/octet-stream;base64,";function Jt(r){return r.startsWith(zn)}var $e;t.locateFile?($e="sqlite3.wasm",Jt($e)||($e=ne($e))):$e=new URL("/sqlite-wiki/assets/sqlite3-2d34bf92.wasm",self.location).href;function Xt(r){try{if(r==$e&&We)return new Uint8Array(We);if(Ue)return Ue(r);throw"both async and sync fetching of the wasm failed"}catch(n){nt(n)}}function Mn(){return!We&&(fe||ce)&&typeof fetch=="function"?fetch($e,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+$e+"'";return r.arrayBuffer()}).catch(function(){return Xt($e)}):Promise.resolve().then(function(){return Xt($e)})}function Nn(){var r={env:rn,wasi_snapshot_preview1:rn};function n(b,E){var P=b.exports;t.asm=P,t.asm.__indirect_function_table,Dn(t.asm.__wasm_call_ctors),pt()}wt();function i(b){n(b.instance)}function s(b){return Mn().then(function(E){return WebAssembly.instantiate(E,r)}).then(function(E){return E}).then(b,function(E){ve("failed to asynchronously prepare wasm: "+E),nt(E)})}function o(){return!We&&typeof WebAssembly.instantiateStreaming=="function"&&!Jt($e)&&typeof fetch=="function"?fetch($e,{credentials:"same-origin"}).then(function(b){var E=WebAssembly.instantiateStreaming(b,r);return E.then(i,function(P){return ve("wasm streaming compile failed: "+P),ve("falling back to ArrayBuffer instantiation"),s(i)})}):s(i)}if(t.instantiateWasm)try{var a=t.instantiateWasm(r,n);return a}catch(b){ve("Module.instantiateWasm callback failed with error: "+b),T(b)}return o().catch(T),{}}var ge,Le;function xt(r){for(;r.length>0;)r.shift()(t)}var be={isAbs:r=>r.charAt(0)==="/",splitPath:r=>{var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(r).slice(1)},normalizeArray:(r,n)=>{for(var i=0,s=r.length-1;s>=0;s--){var o=r[s];o==="."?r.splice(s,1):o===".."?(r.splice(s,1),i++):i&&(r.splice(s,1),i--)}if(n)for(;i;i--)r.unshift("..");return r},normalize:r=>{var n=be.isAbs(r),i=r.substr(-1)==="/";return r=be.normalizeArray(r.split("/").filter(s=>!!s),!n).join("/"),!r&&!n&&(r="."),r&&i&&(r+="/"),(n?"/":"")+r},dirname:r=>{var n=be.splitPath(r),i=n[0],s=n[1];return!i&&!s?".":(s&&(s=s.substr(0,s.length-1)),i+s)},basename:r=>{if(r==="/")return"/";r=be.normalize(r),r=r.replace(/\/$/,"");var n=r.lastIndexOf("/");return n===-1?r:r.substr(n+1)},join:function(){var r=Array.prototype.slice.call(arguments);return be.normalize(r.join("/"))},join2:(r,n)=>be.normalize(r+"/"+n)};function jn(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var r=new Uint8Array(1);return()=>(crypto.getRandomValues(r),r[0])}else return()=>nt("randomDevice")}var Ke={resolve:function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:l.cwd();if(typeof s!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!s)return"";r=s+"/"+r,n=be.isAbs(s)}return r=be.normalizeArray(r.split("/").filter(o=>!!o),!n).join("/"),(n?"/":"")+r||"."},relative:(r,n)=>{r=Ke.resolve(r).substr(1),n=Ke.resolve(n).substr(1);function i(W){for(var G=0;G<W.length&&W[G]==="";G++);for(var ee=W.length-1;ee>=0&&W[ee]==="";ee--);return G>ee?[]:W.slice(G,ee-G+1)}for(var s=i(r.split("/")),o=i(n.split("/")),a=Math.min(s.length,o.length),b=a,E=0;E<a;E++)if(s[E]!==o[E]){b=E;break}for(var P=[],E=b;E<s.length;E++)P.push("..");return P=P.concat(o.slice(b)),P.join("/")}};function vt(r,n,i){var s=i>0?i:it(r)+1,o=new Array(s),a=_t(r,o,0,o.length);return n&&(o.length=a),o}var rt={ttys:[],init:function(){},shutdown:function(){},register:function(r,n){rt.ttys[r]={input:[],output:[],ops:n},l.registerDevice(r,rt.stream_ops)},stream_ops:{open:function(r){var n=rt.ttys[r.node.rdev];if(!n)throw new l.ErrnoError(43);r.tty=n,r.seekable=!1},close:function(r){r.tty.ops.fsync(r.tty)},fsync:function(r){r.tty.ops.fsync(r.tty)},read:function(r,n,i,s,o){if(!r.tty||!r.tty.ops.get_char)throw new l.ErrnoError(60);for(var a=0,b=0;b<s;b++){var E;try{E=r.tty.ops.get_char(r.tty)}catch{throw new l.ErrnoError(29)}if(E===void 0&&a===0)throw new l.ErrnoError(6);if(E==null)break;a++,n[i+b]=E}return a&&(r.node.timestamp=Date.now()),a},write:function(r,n,i,s,o){if(!r.tty||!r.tty.ops.put_char)throw new l.ErrnoError(60);try{for(var a=0;a<s;a++)r.tty.ops.put_char(r.tty,n[i+a])}catch{throw new l.ErrnoError(29)}return s&&(r.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(r){if(!r.input.length){var n=null;if(typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "),n!==null&&(n+=`
`)):typeof readline=="function"&&(n=readline(),n!==null&&(n+=`
`)),!n)return null;r.input=vt(n,!0)}return r.input.shift()},put_char:function(r,n){n===null||n===10?(qe(Ge(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},fsync:function(r){r.output&&r.output.length>0&&(qe(Ge(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,n){n===null||n===10?(ve(Ge(r.output,0)),r.output=[]):n!=0&&r.output.push(n)},fsync:function(r){r.output&&r.output.length>0&&(ve(Ge(r.output,0)),r.output=[])}}};function Zt(r){nt()}var de={ops_table:null,mount:function(r){return de.createNode(null,"/",16895,0)},createNode:function(r,n,i,s){if(l.isBlkdev(i)||l.isFIFO(i))throw new l.ErrnoError(63);de.ops_table||(de.ops_table={dir:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,lookup:de.node_ops.lookup,mknod:de.node_ops.mknod,rename:de.node_ops.rename,unlink:de.node_ops.unlink,rmdir:de.node_ops.rmdir,readdir:de.node_ops.readdir,symlink:de.node_ops.symlink},stream:{llseek:de.stream_ops.llseek}},file:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:{llseek:de.stream_ops.llseek,read:de.stream_ops.read,write:de.stream_ops.write,allocate:de.stream_ops.allocate,mmap:de.stream_ops.mmap,msync:de.stream_ops.msync}},link:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr,readlink:de.node_ops.readlink},stream:{}},chrdev:{node:{getattr:de.node_ops.getattr,setattr:de.node_ops.setattr},stream:l.chrdev_stream_ops}});var o=l.createNode(r,n,i,s);return l.isDir(o.mode)?(o.node_ops=de.ops_table.dir.node,o.stream_ops=de.ops_table.dir.stream,o.contents={}):l.isFile(o.mode)?(o.node_ops=de.ops_table.file.node,o.stream_ops=de.ops_table.file.stream,o.usedBytes=0,o.contents=null):l.isLink(o.mode)?(o.node_ops=de.ops_table.link.node,o.stream_ops=de.ops_table.link.stream):l.isChrdev(o.mode)&&(o.node_ops=de.ops_table.chrdev.node,o.stream_ops=de.ops_table.chrdev.stream),o.timestamp=Date.now(),r&&(r.contents[n]=o,r.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array(0)},expandFileStorage:function(r,n){var i=r.contents?r.contents.length:0;if(!(i>=n)){var s=1024*1024;n=Math.max(n,i*(i<s?2:1.125)>>>0),i!=0&&(n=Math.max(n,256));var o=r.contents;r.contents=new Uint8Array(n),r.usedBytes>0&&r.contents.set(o.subarray(0,r.usedBytes),0)}},resizeFileStorage:function(r,n){if(r.usedBytes!=n)if(n==0)r.contents=null,r.usedBytes=0;else{var i=r.contents;r.contents=new Uint8Array(n),i&&r.contents.set(i.subarray(0,Math.min(n,r.usedBytes))),r.usedBytes=n}},node_ops:{getattr:function(r){var n={};return n.dev=l.isChrdev(r.mode)?r.id:1,n.ino=r.id,n.mode=r.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=r.rdev,l.isDir(r.mode)?n.size=4096:l.isFile(r.mode)?n.size=r.usedBytes:l.isLink(r.mode)?n.size=r.link.length:n.size=0,n.atime=new Date(r.timestamp),n.mtime=new Date(r.timestamp),n.ctime=new Date(r.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(r,n){n.mode!==void 0&&(r.mode=n.mode),n.timestamp!==void 0&&(r.timestamp=n.timestamp),n.size!==void 0&&de.resizeFileStorage(r,n.size)},lookup:function(r,n){throw l.genericErrors[44]},mknod:function(r,n,i,s){return de.createNode(r,n,i,s)},rename:function(r,n,i){if(l.isDir(r.mode)){var s;try{s=l.lookupNode(n,i)}catch{}if(s)for(var o in s.contents)throw new l.ErrnoError(55)}delete r.parent.contents[r.name],r.parent.timestamp=Date.now(),r.name=i,n.contents[i]=r,n.timestamp=r.parent.timestamp,r.parent=n},unlink:function(r,n){delete r.contents[n],r.timestamp=Date.now()},rmdir:function(r,n){var i=l.lookupNode(r,n);for(var s in i.contents)throw new l.ErrnoError(55);delete r.contents[n],r.timestamp=Date.now()},readdir:function(r){var n=[".",".."];for(var i in r.contents)r.contents.hasOwnProperty(i)&&n.push(i);return n},symlink:function(r,n,i){var s=de.createNode(r,n,41471,0);return s.link=i,s},readlink:function(r){if(!l.isLink(r.mode))throw new l.ErrnoError(28);return r.link}},stream_ops:{read:function(r,n,i,s,o){var a=r.node.contents;if(o>=r.node.usedBytes)return 0;var b=Math.min(r.node.usedBytes-o,s);if(b>8&&a.subarray)n.set(a.subarray(o,o+b),i);else for(var E=0;E<b;E++)n[i+E]=a[o+E];return b},write:function(r,n,i,s,o,a){if(n.buffer===je.buffer&&(a=!1),!s)return 0;var b=r.node;if(b.timestamp=Date.now(),n.subarray&&(!b.contents||b.contents.subarray)){if(a)return b.contents=n.subarray(i,i+s),b.usedBytes=s,s;if(b.usedBytes===0&&o===0)return b.contents=n.slice(i,i+s),b.usedBytes=s,s;if(o+s<=b.usedBytes)return b.contents.set(n.subarray(i,i+s),o),s}if(de.expandFileStorage(b,o+s),b.contents.subarray&&n.subarray)b.contents.set(n.subarray(i,i+s),o);else for(var E=0;E<s;E++)b.contents[o+E]=n[i+E];return b.usedBytes=Math.max(b.usedBytes,o+s),s},llseek:function(r,n,i){var s=n;if(i===1?s+=r.position:i===2&&l.isFile(r.node.mode)&&(s+=r.node.usedBytes),s<0)throw new l.ErrnoError(28);return s},allocate:function(r,n,i){de.expandFileStorage(r.node,n+i),r.node.usedBytes=Math.max(r.node.usedBytes,n+i)},mmap:function(r,n,i,s,o){if(!l.isFile(r.node.mode))throw new l.ErrnoError(43);var a,b,E=r.node.contents;if(!(o&2)&&E.buffer===je.buffer)b=!1,a=E.byteOffset;else{if((i>0||i+n<E.length)&&(E.subarray?E=E.subarray(i,i+n):E=Array.prototype.slice.call(E,i,i+n)),b=!0,a=Zt(),!a)throw new l.ErrnoError(48);je.set(E,a)}return{ptr:a,allocated:b}},msync:function(r,n,i,s,o){return de.stream_ops.write(r,n,0,s,i,!1),0}}};function Bn(r,n,i,s){var o=s?"":"al "+r;ze(r,a=>{Qe(a,'Loading data file "'+r+'" failed (no arrayBuffer).'),n(new Uint8Array(a)),o&&pt()},a=>{if(i)i();else throw'Loading data file "'+r+'" failed.'}),o&&wt()}var l={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(r,n={})=>{if(r=Ke.resolve(r),!r)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};if(n=Object.assign(i,n),n.recurse_count>8)throw new l.ErrnoError(32);for(var s=r.split("/").filter(ee=>!!ee),o=l.root,a="/",b=0;b<s.length;b++){var E=b===s.length-1;if(E&&n.parent)break;if(o=l.lookupNode(o,s[b]),a=be.join2(a,s[b]),l.isMountpoint(o)&&(!E||E&&n.follow_mount)&&(o=o.mounted.root),!E||n.follow)for(var P=0;l.isLink(o.mode);){var W=l.readlink(a);a=Ke.resolve(be.dirname(a),W);var G=l.lookupPath(a,{recurse_count:n.recurse_count+1});if(o=G.node,P++>40)throw new l.ErrnoError(32)}}return{path:a,node:o}},getPath:r=>{for(var n;;){if(l.isRoot(r)){var i=r.mount.mountpoint;return n?i[i.length-1]!=="/"?i+"/"+n:i+n:i}n=n?r.name+"/"+n:r.name,r=r.parent}},hashName:(r,n)=>{for(var i=0,s=0;s<n.length;s++)i=(i<<5)-i+n.charCodeAt(s)|0;return(r+i>>>0)%l.nameTable.length},hashAddNode:r=>{var n=l.hashName(r.parent.id,r.name);r.name_next=l.nameTable[n],l.nameTable[n]=r},hashRemoveNode:r=>{var n=l.hashName(r.parent.id,r.name);if(l.nameTable[n]===r)l.nameTable[n]=r.name_next;else for(var i=l.nameTable[n];i;){if(i.name_next===r){i.name_next=r.name_next;break}i=i.name_next}},lookupNode:(r,n)=>{var i=l.mayLookup(r);if(i)throw new l.ErrnoError(i,r);for(var s=l.hashName(r.id,n),o=l.nameTable[s];o;o=o.name_next){var a=o.name;if(o.parent.id===r.id&&a===n)return o}return l.lookup(r,n)},createNode:(r,n,i,s)=>{var o=new l.FSNode(r,n,i,s);return l.hashAddNode(o),o},destroyNode:r=>{l.hashRemoveNode(r)},isRoot:r=>r===r.parent,isMountpoint:r=>!!r.mounted,isFile:r=>(r&61440)===32768,isDir:r=>(r&61440)===16384,isLink:r=>(r&61440)===40960,isChrdev:r=>(r&61440)===8192,isBlkdev:r=>(r&61440)===24576,isFIFO:r=>(r&61440)===4096,isSocket:r=>(r&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:r=>{var n=l.flagModes[r];if(typeof n>"u")throw new Error("Unknown file open mode: "+r);return n},flagsToPermissionString:r=>{var n=["r","w","rw"][r&3];return r&512&&(n+="w"),n},nodePermissions:(r,n)=>l.ignorePermissions?0:n.includes("r")&&!(r.mode&292)||n.includes("w")&&!(r.mode&146)||n.includes("x")&&!(r.mode&73)?2:0,mayLookup:r=>{var n=l.nodePermissions(r,"x");return n||(r.node_ops.lookup?0:2)},mayCreate:(r,n)=>{try{var i=l.lookupNode(r,n);return 20}catch{}return l.nodePermissions(r,"wx")},mayDelete:(r,n,i)=>{var s;try{s=l.lookupNode(r,n)}catch(a){return a.errno}var o=l.nodePermissions(r,"wx");if(o)return o;if(i){if(!l.isDir(s.mode))return 54;if(l.isRoot(s)||l.getPath(s)===l.cwd())return 10}else if(l.isDir(s.mode))return 31;return 0},mayOpen:(r,n)=>r?l.isLink(r.mode)?32:l.isDir(r.mode)&&(l.flagsToPermissionString(n)!=="r"||n&512)?31:l.nodePermissions(r,l.flagsToPermissionString(n)):44,MAX_OPEN_FDS:4096,nextfd:(r=0,n=l.MAX_OPEN_FDS)=>{for(var i=r;i<=n;i++)if(!l.streams[i])return i;throw new l.ErrnoError(33)},getStream:r=>l.streams[r],createStream:(r,n,i)=>{l.FSStream||(l.FSStream=function(){this.shared={}},l.FSStream.prototype={},Object.defineProperties(l.FSStream.prototype,{object:{get:function(){return this.node},set:function(o){this.node=o}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(o){this.shared.flags=o}},position:{get:function(){return this.shared.position},set:function(o){this.shared.position=o}}})),r=Object.assign(new l.FSStream,r);var s=l.nextfd(n,i);return r.fd=s,l.streams[s]=r,r},closeStream:r=>{l.streams[r]=null},chrdev_stream_ops:{open:r=>{var n=l.getDevice(r.node.rdev);r.stream_ops=n.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:()=>{throw new l.ErrnoError(70)}},major:r=>r>>8,minor:r=>r&255,makedev:(r,n)=>r<<8|n,registerDevice:(r,n)=>{l.devices[r]={stream_ops:n}},getDevice:r=>l.devices[r],getMounts:r=>{for(var n=[],i=[r];i.length;){var s=i.pop();n.push(s),i.push.apply(i,s.mounts)}return n},syncfs:(r,n)=>{typeof r=="function"&&(n=r,r=!1),l.syncFSRequests++,l.syncFSRequests>1&&ve("warning: "+l.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=l.getMounts(l.root.mount),s=0;function o(b){return l.syncFSRequests--,n(b)}function a(b){if(b)return a.errored?void 0:(a.errored=!0,o(b));++s>=i.length&&o(null)}i.forEach(b=>{if(!b.type.syncfs)return a(null);b.type.syncfs(b,r,a)})},mount:(r,n,i)=>{var s=i==="/",o=!i,a;if(s&&l.root)throw new l.ErrnoError(10);if(!s&&!o){var b=l.lookupPath(i,{follow_mount:!1});if(i=b.path,a=b.node,l.isMountpoint(a))throw new l.ErrnoError(10);if(!l.isDir(a.mode))throw new l.ErrnoError(54)}var E={type:r,opts:n,mountpoint:i,mounts:[]},P=r.mount(E);return P.mount=E,E.root=P,s?l.root=P:a&&(a.mounted=E,a.mount&&a.mount.mounts.push(E)),P},unmount:r=>{var n=l.lookupPath(r,{follow_mount:!1});if(!l.isMountpoint(n.node))throw new l.ErrnoError(28);var i=n.node,s=i.mounted,o=l.getMounts(s);Object.keys(l.nameTable).forEach(b=>{for(var E=l.nameTable[b];E;){var P=E.name_next;o.includes(E.mount)&&l.destroyNode(E),E=P}}),i.mounted=null;var a=i.mount.mounts.indexOf(s);i.mount.mounts.splice(a,1)},lookup:(r,n)=>r.node_ops.lookup(r,n),mknod:(r,n,i)=>{var s=l.lookupPath(r,{parent:!0}),o=s.node,a=be.basename(r);if(!a||a==="."||a==="..")throw new l.ErrnoError(28);var b=l.mayCreate(o,a);if(b)throw new l.ErrnoError(b);if(!o.node_ops.mknod)throw new l.ErrnoError(63);return o.node_ops.mknod(o,a,n,i)},create:(r,n)=>(n=n!==void 0?n:438,n&=4095,n|=32768,l.mknod(r,n,0)),mkdir:(r,n)=>(n=n!==void 0?n:511,n&=1023,n|=16384,l.mknod(r,n,0)),mkdirTree:(r,n)=>{for(var i=r.split("/"),s="",o=0;o<i.length;++o)if(i[o]){s+="/"+i[o];try{l.mkdir(s,n)}catch(a){if(a.errno!=20)throw a}}},mkdev:(r,n,i)=>(typeof i>"u"&&(i=n,n=438),n|=8192,l.mknod(r,n,i)),symlink:(r,n)=>{if(!Ke.resolve(r))throw new l.ErrnoError(44);var i=l.lookupPath(n,{parent:!0}),s=i.node;if(!s)throw new l.ErrnoError(44);var o=be.basename(n),a=l.mayCreate(s,o);if(a)throw new l.ErrnoError(a);if(!s.node_ops.symlink)throw new l.ErrnoError(63);return s.node_ops.symlink(s,o,r)},rename:(r,n)=>{var i=be.dirname(r),s=be.dirname(n),o=be.basename(r),a=be.basename(n),b,E,P;if(b=l.lookupPath(r,{parent:!0}),E=b.node,b=l.lookupPath(n,{parent:!0}),P=b.node,!E||!P)throw new l.ErrnoError(44);if(E.mount!==P.mount)throw new l.ErrnoError(75);var W=l.lookupNode(E,o),G=Ke.relative(r,s);if(G.charAt(0)!==".")throw new l.ErrnoError(28);if(G=Ke.relative(n,i),G.charAt(0)!==".")throw new l.ErrnoError(55);var ee;try{ee=l.lookupNode(P,a)}catch{}if(W!==ee){var x=l.isDir(W.mode),q=l.mayDelete(E,o,x);if(q)throw new l.ErrnoError(q);if(q=ee?l.mayDelete(P,a,x):l.mayCreate(P,a),q)throw new l.ErrnoError(q);if(!E.node_ops.rename)throw new l.ErrnoError(63);if(l.isMountpoint(W)||ee&&l.isMountpoint(ee))throw new l.ErrnoError(10);if(P!==E&&(q=l.nodePermissions(E,"w"),q))throw new l.ErrnoError(q);l.hashRemoveNode(W);try{E.node_ops.rename(W,P,a)}catch(h){throw h}finally{l.hashAddNode(W)}}},rmdir:r=>{var n=l.lookupPath(r,{parent:!0}),i=n.node,s=be.basename(r),o=l.lookupNode(i,s),a=l.mayDelete(i,s,!0);if(a)throw new l.ErrnoError(a);if(!i.node_ops.rmdir)throw new l.ErrnoError(63);if(l.isMountpoint(o))throw new l.ErrnoError(10);i.node_ops.rmdir(i,s),l.destroyNode(o)},readdir:r=>{var n=l.lookupPath(r,{follow:!0}),i=n.node;if(!i.node_ops.readdir)throw new l.ErrnoError(54);return i.node_ops.readdir(i)},unlink:r=>{var n=l.lookupPath(r,{parent:!0}),i=n.node;if(!i)throw new l.ErrnoError(44);var s=be.basename(r),o=l.lookupNode(i,s),a=l.mayDelete(i,s,!1);if(a)throw new l.ErrnoError(a);if(!i.node_ops.unlink)throw new l.ErrnoError(63);if(l.isMountpoint(o))throw new l.ErrnoError(10);i.node_ops.unlink(i,s),l.destroyNode(o)},readlink:r=>{var n=l.lookupPath(r),i=n.node;if(!i)throw new l.ErrnoError(44);if(!i.node_ops.readlink)throw new l.ErrnoError(28);return Ke.resolve(l.getPath(i.parent),i.node_ops.readlink(i))},stat:(r,n)=>{var i=l.lookupPath(r,{follow:!n}),s=i.node;if(!s)throw new l.ErrnoError(44);if(!s.node_ops.getattr)throw new l.ErrnoError(63);return s.node_ops.getattr(s)},lstat:r=>l.stat(r,!0),chmod:(r,n,i)=>{var s;if(typeof r=="string"){var o=l.lookupPath(r,{follow:!i});s=o.node}else s=r;if(!s.node_ops.setattr)throw new l.ErrnoError(63);s.node_ops.setattr(s,{mode:n&4095|s.mode&-4096,timestamp:Date.now()})},lchmod:(r,n)=>{l.chmod(r,n,!0)},fchmod:(r,n)=>{var i=l.getStream(r);if(!i)throw new l.ErrnoError(8);l.chmod(i.node,n)},chown:(r,n,i,s)=>{var o;if(typeof r=="string"){var a=l.lookupPath(r,{follow:!s});o=a.node}else o=r;if(!o.node_ops.setattr)throw new l.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(r,n,i)=>{l.chown(r,n,i,!0)},fchown:(r,n,i)=>{var s=l.getStream(r);if(!s)throw new l.ErrnoError(8);l.chown(s.node,n,i)},truncate:(r,n)=>{if(n<0)throw new l.ErrnoError(28);var i;if(typeof r=="string"){var s=l.lookupPath(r,{follow:!0});i=s.node}else i=r;if(!i.node_ops.setattr)throw new l.ErrnoError(63);if(l.isDir(i.mode))throw new l.ErrnoError(31);if(!l.isFile(i.mode))throw new l.ErrnoError(28);var o=l.nodePermissions(i,"w");if(o)throw new l.ErrnoError(o);i.node_ops.setattr(i,{size:n,timestamp:Date.now()})},ftruncate:(r,n)=>{var i=l.getStream(r);if(!i)throw new l.ErrnoError(8);if(!(i.flags&2097155))throw new l.ErrnoError(28);l.truncate(i.node,n)},utime:(r,n,i)=>{var s=l.lookupPath(r,{follow:!0}),o=s.node;o.node_ops.setattr(o,{timestamp:Math.max(n,i)})},open:(r,n,i)=>{if(r==="")throw new l.ErrnoError(44);n=typeof n=="string"?l.modeStringToFlags(n):n,i=typeof i>"u"?438:i,n&64?i=i&4095|32768:i=0;var s;if(typeof r=="object")s=r;else{r=be.normalize(r);try{var o=l.lookupPath(r,{follow:!(n&131072)});s=o.node}catch{}}var a=!1;if(n&64)if(s){if(n&128)throw new l.ErrnoError(20)}else s=l.mknod(r,i,0),a=!0;if(!s)throw new l.ErrnoError(44);if(l.isChrdev(s.mode)&&(n&=-513),n&65536&&!l.isDir(s.mode))throw new l.ErrnoError(54);if(!a){var b=l.mayOpen(s,n);if(b)throw new l.ErrnoError(b)}n&512&&!a&&l.truncate(s,0),n&=-131713;var E=l.createStream({node:s,path:l.getPath(s),flags:n,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1});return E.stream_ops.open&&E.stream_ops.open(E),t.logReadFiles&&!(n&1)&&(l.readFiles||(l.readFiles={}),r in l.readFiles||(l.readFiles[r]=1)),E},close:r=>{if(l.isClosed(r))throw new l.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(n){throw n}finally{l.closeStream(r.fd)}r.fd=null},isClosed:r=>r.fd===null,llseek:(r,n,i)=>{if(l.isClosed(r))throw new l.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new l.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new l.ErrnoError(28);return r.position=r.stream_ops.llseek(r,n,i),r.ungotten=[],r.position},read:(r,n,i,s,o)=>{if(s<0||o<0)throw new l.ErrnoError(28);if(l.isClosed(r))throw new l.ErrnoError(8);if((r.flags&2097155)===1)throw new l.ErrnoError(8);if(l.isDir(r.node.mode))throw new l.ErrnoError(31);if(!r.stream_ops.read)throw new l.ErrnoError(28);var a=typeof o<"u";if(!a)o=r.position;else if(!r.seekable)throw new l.ErrnoError(70);var b=r.stream_ops.read(r,n,i,s,o);return a||(r.position+=b),b},write:(r,n,i,s,o,a)=>{if(s<0||o<0)throw new l.ErrnoError(28);if(l.isClosed(r))throw new l.ErrnoError(8);if(!(r.flags&2097155))throw new l.ErrnoError(8);if(l.isDir(r.node.mode))throw new l.ErrnoError(31);if(!r.stream_ops.write)throw new l.ErrnoError(28);r.seekable&&r.flags&1024&&l.llseek(r,0,2);var b=typeof o<"u";if(!b)o=r.position;else if(!r.seekable)throw new l.ErrnoError(70);var E=r.stream_ops.write(r,n,i,s,o,a);return b||(r.position+=E),E},allocate:(r,n,i)=>{if(l.isClosed(r))throw new l.ErrnoError(8);if(n<0||i<=0)throw new l.ErrnoError(28);if(!(r.flags&2097155))throw new l.ErrnoError(8);if(!l.isFile(r.node.mode)&&!l.isDir(r.node.mode))throw new l.ErrnoError(43);if(!r.stream_ops.allocate)throw new l.ErrnoError(138);r.stream_ops.allocate(r,n,i)},mmap:(r,n,i,s,o)=>{if(s&2&&!(o&2)&&(r.flags&2097155)!==2)throw new l.ErrnoError(2);if((r.flags&2097155)===1)throw new l.ErrnoError(2);if(!r.stream_ops.mmap)throw new l.ErrnoError(43);return r.stream_ops.mmap(r,n,i,s,o)},msync:(r,n,i,s,o)=>r.stream_ops.msync?r.stream_ops.msync(r,n,i,s,o):0,munmap:r=>0,ioctl:(r,n,i)=>{if(!r.stream_ops.ioctl)throw new l.ErrnoError(59);return r.stream_ops.ioctl(r,n,i)},readFile:(r,n={})=>{if(n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error('Invalid encoding type "'+n.encoding+'"');var i,s=l.open(r,n.flags),o=l.stat(r),a=o.size,b=new Uint8Array(a);return l.read(s,b,0,a,0),n.encoding==="utf8"?i=Ge(b,0):n.encoding==="binary"&&(i=b),l.close(s),i},writeFile:(r,n,i={})=>{i.flags=i.flags||577;var s=l.open(r,i.flags,i.mode);if(typeof n=="string"){var o=new Uint8Array(it(n)+1),a=_t(n,o,0,o.length);l.write(s,o,0,a,void 0,i.canOwn)}else if(ArrayBuffer.isView(n))l.write(s,n,0,n.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");l.close(s)},cwd:()=>l.currentPath,chdir:r=>{var n=l.lookupPath(r,{follow:!0});if(n.node===null)throw new l.ErrnoError(44);if(!l.isDir(n.node.mode))throw new l.ErrnoError(54);var i=l.nodePermissions(n.node,"x");if(i)throw new l.ErrnoError(i);l.currentPath=n.path},createDefaultDirectories:()=>{l.mkdir("/tmp"),l.mkdir("/home"),l.mkdir("/home/web_user")},createDefaultDevices:()=>{l.mkdir("/dev"),l.registerDevice(l.makedev(1,3),{read:()=>0,write:(n,i,s,o,a)=>o}),l.mkdev("/dev/null",l.makedev(1,3)),rt.register(l.makedev(5,0),rt.default_tty_ops),rt.register(l.makedev(6,0),rt.default_tty1_ops),l.mkdev("/dev/tty",l.makedev(5,0)),l.mkdev("/dev/tty1",l.makedev(6,0));var r=jn();l.createDevice("/dev","random",r),l.createDevice("/dev","urandom",r),l.mkdir("/dev/shm"),l.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{l.mkdir("/proc");var r=l.mkdir("/proc/self");l.mkdir("/proc/self/fd"),l.mount({mount:()=>{var n=l.createNode(r,"fd",16895,73);return n.node_ops={lookup:(i,s)=>{var o=+s,a=l.getStream(o);if(!a)throw new l.ErrnoError(8);var b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return b.parent=b,b}},n}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?l.createDevice("/dev","stdin",t.stdin):l.symlink("/dev/tty","/dev/stdin"),t.stdout?l.createDevice("/dev","stdout",null,t.stdout):l.symlink("/dev/tty","/dev/stdout"),t.stderr?l.createDevice("/dev","stderr",null,t.stderr):l.symlink("/dev/tty1","/dev/stderr"),l.open("/dev/stdin",0),l.open("/dev/stdout",1),l.open("/dev/stderr",1)},ensureErrnoError:()=>{l.ErrnoError||(l.ErrnoError=function(n,i){this.node=i,this.setErrno=function(s){this.errno=s},this.setErrno(n),this.message="FS error"},l.ErrnoError.prototype=new Error,l.ErrnoError.prototype.constructor=l.ErrnoError,[44].forEach(r=>{l.genericErrors[r]=new l.ErrnoError(r),l.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:()=>{l.ensureErrnoError(),l.nameTable=new Array(4096),l.mount(de,{},"/"),l.createDefaultDirectories(),l.createDefaultDevices(),l.createSpecialDirectories(),l.filesystems={MEMFS:de}},init:(r,n,i)=>{l.init.initialized=!0,l.ensureErrnoError(),t.stdin=r||t.stdin,t.stdout=n||t.stdout,t.stderr=i||t.stderr,l.createStandardStreams()},quit:()=>{l.init.initialized=!1;for(var r=0;r<l.streams.length;r++){var n=l.streams[r];n&&l.close(n)}},getMode:(r,n)=>{var i=0;return r&&(i|=365),n&&(i|=146),i},findObject:(r,n)=>{var i=l.analyzePath(r,n);return i.exists?i.object:null},analyzePath:(r,n)=>{try{var i=l.lookupPath(r,{follow:!n});r=i.path}catch{}var s={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=l.lookupPath(r,{parent:!0});s.parentExists=!0,s.parentPath=i.path,s.parentObject=i.node,s.name=be.basename(r),i=l.lookupPath(r,{follow:!n}),s.exists=!0,s.path=i.path,s.object=i.node,s.name=i.node.name,s.isRoot=i.path==="/"}catch(o){s.error=o.errno}return s},createPath:(r,n,i,s)=>{r=typeof r=="string"?r:l.getPath(r);for(var o=n.split("/").reverse();o.length;){var a=o.pop();if(a){var b=be.join2(r,a);try{l.mkdir(b)}catch{}r=b}}return b},createFile:(r,n,i,s,o)=>{var a=be.join2(typeof r=="string"?r:l.getPath(r),n),b=l.getMode(s,o);return l.create(a,b)},createDataFile:(r,n,i,s,o,a)=>{var b=n;r&&(r=typeof r=="string"?r:l.getPath(r),b=n?be.join2(r,n):r);var E=l.getMode(s,o),P=l.create(b,E);if(i){if(typeof i=="string"){for(var W=new Array(i.length),G=0,ee=i.length;G<ee;++G)W[G]=i.charCodeAt(G);i=W}l.chmod(P,E|146);var x=l.open(P,577);l.write(x,i,0,i.length,0,a),l.close(x),l.chmod(P,E)}return P},createDevice:(r,n,i,s)=>{var o=be.join2(typeof r=="string"?r:l.getPath(r),n),a=l.getMode(!!i,!!s);l.createDevice.major||(l.createDevice.major=64);var b=l.makedev(l.createDevice.major++,0);return l.registerDevice(b,{open:E=>{E.seekable=!1},close:E=>{s&&s.buffer&&s.buffer.length&&s(10)},read:(E,P,W,G,ee)=>{for(var x=0,q=0;q<G;q++){var h;try{h=i()}catch{throw new l.ErrnoError(29)}if(h===void 0&&x===0)throw new l.ErrnoError(6);if(h==null)break;x++,P[W+q]=h}return x&&(E.node.timestamp=Date.now()),x},write:(E,P,W,G,ee)=>{for(var x=0;x<G;x++)try{s(P[W+x])}catch{throw new l.ErrnoError(29)}return G&&(E.node.timestamp=Date.now()),x}}),l.mkdev(o,a,b)},forceLoadFile:r=>{if(r.isDevice||r.isFolder||r.link||r.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Me)try{r.contents=vt(Me(r.url),!0),r.usedBytes=r.contents.length}catch{throw new l.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(r,n,i,s,o)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(q){if(!(q>this.length-1||q<0)){var h=q%this.chunkSize,y=q/this.chunkSize|0;return this.getter(y)[h]}},a.prototype.setDataGetter=function(q){this.getter=q},a.prototype.cacheLength=function(){var q=new XMLHttpRequest;if(q.open("HEAD",i,!1),q.send(null),!(q.status>=200&&q.status<300||q.status===304))throw new Error("Couldn't load "+i+". Status: "+q.status);var h=Number(q.getResponseHeader("Content-length")),y,w=(y=q.getResponseHeader("Accept-Ranges"))&&y==="bytes",v=(y=q.getResponseHeader("Content-Encoding"))&&y==="gzip",D=1024*1024;w||(D=h);var z=(Q,H)=>{if(Q>H)throw new Error("invalid range ("+Q+", "+H+") or no bytes requested!");if(H>h-1)throw new Error("only "+h+" bytes available! programmer error!");var d=new XMLHttpRequest;if(d.open("GET",i,!1),h!==D&&d.setRequestHeader("Range","bytes="+Q+"-"+H),d.responseType="arraybuffer",d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.send(null),!(d.status>=200&&d.status<300||d.status===304))throw new Error("Couldn't load "+i+". Status: "+d.status);return d.response!==void 0?new Uint8Array(d.response||[]):vt(d.responseText||"",!0)},L=this;L.setDataGetter(Q=>{var H=Q*D,d=(Q+1)*D-1;if(d=Math.min(d,h-1),typeof L.chunks[Q]>"u"&&(L.chunks[Q]=z(H,d)),typeof L.chunks[Q]>"u")throw new Error("doXHR failed!");return L.chunks[Q]}),(v||!h)&&(D=h=1,h=this.getter(0).length,D=h,qe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=h,this._chunkSize=D,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ce)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var b=new a;Object.defineProperties(b,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var E={isDevice:!1,contents:b}}else var E={isDevice:!1,url:i};var P=l.createFile(r,n,E,s,o);E.contents?P.contents=E.contents:E.url&&(P.contents=null,P.url=E.url),Object.defineProperties(P,{usedBytes:{get:function(){return this.contents.length}}});var W={},G=Object.keys(P.stream_ops);G.forEach(x=>{var q=P.stream_ops[x];W[x]=function(){return l.forceLoadFile(P),q.apply(null,arguments)}});function ee(x,q,h,y,w){var v=x.node.contents;if(w>=v.length)return 0;var D=Math.min(v.length-w,y);if(v.slice)for(var z=0;z<D;z++)q[h+z]=v[w+z];else for(var z=0;z<D;z++)q[h+z]=v.get(w+z);return D}return W.read=(x,q,h,y,w)=>(l.forceLoadFile(P),ee(x,q,h,y,w)),W.mmap=(x,q,h,y,w)=>{l.forceLoadFile(P);var v=Zt();if(!v)throw new l.ErrnoError(48);return ee(x,je,v,q,h),{ptr:v,allocated:!0}},P.stream_ops=W,P},createPreloadedFile:(r,n,i,s,o,a,b,E,P,W)=>{var G=n?Ke.resolve(be.join2(r,n)):r;function ee(x){function q(h){W&&W(),E||l.createDataFile(r,n,h,s,o,P),a&&a(),pt()}Browser.handledByPreloadPlugin(x,G,q,()=>{b&&b(),pt()})||q(x)}wt(),typeof i=="string"?Bn(i,x=>ee(x),b):ee(i)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(r,n,i)=>{n=n||(()=>{}),i=i||(()=>{});var s=l.indexedDB();try{var o=s.open(l.DB_NAME(),l.DB_VERSION)}catch(a){return i(a)}o.onupgradeneeded=()=>{qe("creating db");var a=o.result;a.createObjectStore(l.DB_STORE_NAME)},o.onsuccess=()=>{var a=o.result,b=a.transaction([l.DB_STORE_NAME],"readwrite"),E=b.objectStore(l.DB_STORE_NAME),P=0,W=0,G=r.length;function ee(){W==0?n():i()}r.forEach(x=>{var q=E.put(l.analyzePath(x).object.contents,x);q.onsuccess=()=>{P++,P+W==G&&ee()},q.onerror=()=>{W++,P+W==G&&ee()}}),b.onerror=i},o.onerror=i},loadFilesFromDB:(r,n,i)=>{n=n||(()=>{}),i=i||(()=>{});var s=l.indexedDB();try{var o=s.open(l.DB_NAME(),l.DB_VERSION)}catch(a){return i(a)}o.onupgradeneeded=i,o.onsuccess=()=>{var a=o.result;try{var b=a.transaction([l.DB_STORE_NAME],"readonly")}catch(x){i(x);return}var E=b.objectStore(l.DB_STORE_NAME),P=0,W=0,G=r.length;function ee(){W==0?n():i()}r.forEach(x=>{var q=E.get(x);q.onsuccess=()=>{l.analyzePath(x).exists&&l.unlink(x),l.createDataFile(be.dirname(x),be.basename(x),q.result,!0,!0,!0),P++,P+W==G&&ee()},q.onerror=()=>{W++,P+W==G&&ee()}}),b.onerror=i},o.onerror=i}},_e={DEFAULT_POLLMASK:5,calculateAt:function(r,n,i){if(be.isAbs(n))return n;var s;if(r===-100)s=l.cwd();else{var o=_e.getStreamFromFD(r);s=o.path}if(n.length==0){if(!i)throw new l.ErrnoError(44);return s}return be.join2(s,n)},doStat:function(r,n,i){try{var s=r(n)}catch(E){if(E&&E.node&&be.normalize(n)!==be.normalize(l.getPath(E.node)))return-54;throw E}he[i>>2]=s.dev,he[i+8>>2]=s.ino,he[i+12>>2]=s.mode,Fe[i+16>>2]=s.nlink,he[i+20>>2]=s.uid,he[i+24>>2]=s.gid,he[i+28>>2]=s.rdev,Le=[s.size>>>0,(ge=s.size,+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[i+40>>2]=Le[0],he[i+44>>2]=Le[1],he[i+48>>2]=4096,he[i+52>>2]=s.blocks;var o=s.atime.getTime(),a=s.mtime.getTime(),b=s.ctime.getTime();return Le=[Math.floor(o/1e3)>>>0,(ge=Math.floor(o/1e3),+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[i+56>>2]=Le[0],he[i+60>>2]=Le[1],Fe[i+64>>2]=o%1e3*1e3,Le=[Math.floor(a/1e3)>>>0,(ge=Math.floor(a/1e3),+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[i+72>>2]=Le[0],he[i+76>>2]=Le[1],Fe[i+80>>2]=a%1e3*1e3,Le=[Math.floor(b/1e3)>>>0,(ge=Math.floor(b/1e3),+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[i+88>>2]=Le[0],he[i+92>>2]=Le[1],Fe[i+96>>2]=b%1e3*1e3,Le=[s.ino>>>0,(ge=s.ino,+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[i+104>>2]=Le[0],he[i+108>>2]=Le[1],0},doMsync:function(r,n,i,s,o){if(!l.isFile(n.node.mode))throw new l.ErrnoError(43);if(s&2)return 0;var a=ot.slice(r,r+i);l.msync(n,a,o,i,s)},varargs:void 0,get:function(){_e.varargs+=4;var r=he[_e.varargs-4>>2];return r},getStr:function(r){var n=Fn(r);return n},getStreamFromFD:function(r){var n=l.getStream(r);if(!n)throw new l.ErrnoError(8);return n}};function Un(r,n){try{return r=_e.getStr(r),l.chmod(r,n),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function Wn(r,n,i,s){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n),i&-8)return-28;var o=l.lookupPath(n,{follow:!0}),a=o.node;if(!a)return-44;var b="";return i&4&&(b+="r"),i&2&&(b+="w"),i&1&&(b+="x"),b&&l.nodePermissions(a,b)?-2:0}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function Qn(r,n){try{return l.fchmod(r,n),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function $n(r,n,i){try{return l.fchown(r,n,i),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function Hn(r){return he[sn()>>2]=r,r}function Vn(r,n,i){_e.varargs=i;try{var s=_e.getStreamFromFD(r);switch(n){case 0:{var o=_e.get();if(o<0)return-28;var a;return a=l.createStream(s,o),a.fd}case 1:case 2:return 0;case 3:return s.flags;case 4:{var o=_e.get();return s.flags|=o,0}case 5:{var o=_e.get(),b=0;return Qt[o+b>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Hn(28),-1;default:return-28}}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function Gn(r,n){try{var i=_e.getStreamFromFD(r);return _e.doStat(l.stat,i.path,n)}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}var Kn=9007199254740992,Jn=-9007199254740992;function Yt(r){return r<Jn||r>Kn?NaN:Number(r)}function Xn(r,n){try{return n=Yt(n),isNaN(n)?-61:(l.ftruncate(r,n),0)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function Zn(r,n){try{if(n===0)return-28;var i=l.cwd(),s=it(i)+1;return n<s?-68:(Wt(i,r,n),s)}catch(o){if(typeof l>"u"||!(o instanceof l.ErrnoError))throw o;return-o.errno}}function Yn(r,n,i){_e.varargs=i;try{var s=_e.getStreamFromFD(r);switch(n){case 21509:case 21505:return s.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return s.tty?0:-59;case 21519:{if(!s.tty)return-59;var o=_e.get();return he[o>>2]=0,0}case 21520:return s.tty?-28:-59;case 21531:{var o=_e.get();return l.ioctl(s,n,o)}case 21523:return s.tty?0:-59;case 21524:return s.tty?0:-59;default:return-28}}catch(a){if(typeof l>"u"||!(a instanceof l.ErrnoError))throw a;return-a.errno}}function er(r,n){try{return r=_e.getStr(r),_e.doStat(l.lstat,r,n)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function tr(r,n,i){try{return n=_e.getStr(n),n=_e.calculateAt(r,n),n=be.normalize(n),n[n.length-1]==="/"&&(n=n.substr(0,n.length-1)),l.mkdir(n,i,0),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function nr(r,n,i,s){try{n=_e.getStr(n);var o=s&256,a=s&4096;return s=s&-6401,n=_e.calculateAt(r,n,a),_e.doStat(o?l.lstat:l.stat,n,i)}catch(b){if(typeof l>"u"||!(b instanceof l.ErrnoError))throw b;return-b.errno}}function rr(r,n,i,s){_e.varargs=s;try{n=_e.getStr(n),n=_e.calculateAt(r,n);var o=s?_e.get():0;return l.open(n,i,o).fd}catch(a){if(typeof l>"u"||!(a instanceof l.ErrnoError))throw a;return-a.errno}}function sr(r,n,i,s){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n),s<=0)return-28;var o=l.readlink(n),a=Math.min(s,it(o)),b=je[i+a];return Wt(o,i,s+1),je[i+a]=b,a}catch(E){if(typeof l>"u"||!(E instanceof l.ErrnoError))throw E;return-E.errno}}function ir(r){try{return r=_e.getStr(r),l.rmdir(r),0}catch(n){if(typeof l>"u"||!(n instanceof l.ErrnoError))throw n;return-n.errno}}function or(r,n){try{return r=_e.getStr(r),_e.doStat(l.stat,r,n)}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return-i.errno}}function lr(r,n,i){try{return n=_e.getStr(n),n=_e.calculateAt(r,n),i===0?l.unlink(n):i===512?l.rmdir(n):nt("Invalid flags passed to unlinkat"),0}catch(s){if(typeof l>"u"||!(s instanceof l.ErrnoError))throw s;return-s.errno}}function Et(r){return Fe[r>>2]+he[r+4>>2]*4294967296}function ar(r,n,i,s){try{if(n=_e.getStr(n),n=_e.calculateAt(r,n,!0),i){var b=Et(i),E=he[i+8>>2];o=b*1e3+E/1e6,i+=16,b=Et(i),E=he[i+8>>2],a=b*1e3+E/1e6}else var o=Date.now(),a=o;return l.utime(n,o,a),0}catch(P){if(typeof l>"u"||!(P instanceof l.ErrnoError))throw P;return-P.errno}}var cr=!0;function ur(){return cr}function fr(r){return r%4===0&&(r%100!==0||r%400===0)}var _r=[0,31,60,91,121,152,182,213,244,274,305,335],pr=[0,31,59,90,120,151,181,212,243,273,304,334];function dr(r){var n=fr(r.getFullYear()),i=n?_r:pr,s=i[r.getMonth()]+r.getDate()-1;return s}function mr(r,n){var i=new Date(Et(r)*1e3);he[n>>2]=i.getSeconds(),he[n+4>>2]=i.getMinutes(),he[n+8>>2]=i.getHours(),he[n+12>>2]=i.getDate(),he[n+16>>2]=i.getMonth(),he[n+20>>2]=i.getFullYear()-1900,he[n+24>>2]=i.getDay();var s=dr(i)|0;he[n+28>>2]=s,he[n+36>>2]=-(i.getTimezoneOffset()*60);var o=new Date(i.getFullYear(),0,1),a=new Date(i.getFullYear(),6,1).getTimezoneOffset(),b=o.getTimezoneOffset(),E=(a!=b&&i.getTimezoneOffset()==Math.min(b,a))|0;he[n+32>>2]=E}function en(r){var n=it(r)+1,i=on(n);return i&&_t(r,je,i,n),i}function hr(r,n,i){var s=new Date().getFullYear(),o=new Date(s,0,1),a=new Date(s,6,1),b=o.getTimezoneOffset(),E=a.getTimezoneOffset(),P=Math.max(b,E);Fe[r>>2]=P*60,he[n>>2]=+(b!=E);function W(h){var y=h.toTimeString().match(/\(([A-Za-z ]+)\)$/);return y?y[1]:"GMT"}var G=W(o),ee=W(a),x=en(G),q=en(ee);E<b?(Fe[i>>2]=x,Fe[i+4>>2]=q):(Fe[i>>2]=q,Fe[i+4>>2]=x)}function gr(){return Date.now()}var tn;tn=()=>performance.now();function yr(){return 2147483648}function br(r){var n=Pe.buffer;try{return Pe.grow(r-n.byteLength+65535>>>16),$t(),1}catch{}}function qr(r){var n=ot.length;r=r>>>0;var i=yr();if(r>i)return!1;let s=(P,W)=>P+(W-P%W)%W;for(var o=1;o<=4;o*=2){var a=n*(1+.2/o);a=Math.min(a,r+100663296);var b=Math.min(i,s(Math.max(r,a),65536)),E=br(b);if(E)return!0}return!1}var kt={};function wr(){return me||"./this.program"}function at(){if(!at.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:wr()};for(var i in kt)kt[i]===void 0?delete n[i]:n[i]=kt[i];var s=[];for(var i in n)s.push(i+"="+n[i]);at.strings=s}return at.strings}function xr(r,n,i){for(var s=0;s<r.length;++s)je[n++>>0]=r.charCodeAt(s);i||(je[n>>0]=0)}function vr(r,n){var i=0;return at().forEach(function(s,o){var a=n+i;Fe[r+o*4>>2]=a,xr(s,a),i+=s.length+1}),0}function Er(r,n){var i=at();Fe[r>>2]=i.length;var s=0;return i.forEach(function(o){s+=o.length+1}),Fe[n>>2]=s,0}function kr(r){try{var n=_e.getStreamFromFD(r);return l.close(n),0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return i.errno}}function Sr(r,n){try{var i=_e.getStreamFromFD(r),s=i.tty?2:l.isDir(i.mode)?3:l.isLink(i.mode)?7:4;return je[n>>0]=s,0}catch(o){if(typeof l>"u"||!(o instanceof l.ErrnoError))throw o;return o.errno}}function Ar(r,n,i,s){for(var o=0,a=0;a<i;a++){var b=Fe[n>>2],E=Fe[n+4>>2];n+=8;var P=l.read(r,je,b,E,s);if(P<0)return-1;if(o+=P,P<E)break;typeof s<"u"&&(s+=P)}return o}function Ir(r,n,i,s){try{var o=_e.getStreamFromFD(r),a=Ar(o,n,i);return Fe[s>>2]=a,0}catch(b){if(typeof l>"u"||!(b instanceof l.ErrnoError))throw b;return b.errno}}function Tr(r,n,i,s){try{if(n=Yt(n),isNaN(n))return 61;var o=_e.getStreamFromFD(r);return l.llseek(o,n,i),Le=[o.position>>>0,(ge=o.position,+Math.abs(ge)>=1?ge>0?(Math.min(+Math.floor(ge/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ge-+(~~ge>>>0))/4294967296)>>>0:0)],he[s>>2]=Le[0],he[s+4>>2]=Le[1],o.getdents&&n===0&&i===0&&(o.getdents=null),0}catch(a){if(typeof l>"u"||!(a instanceof l.ErrnoError))throw a;return a.errno}}function Fr(r){try{var n=_e.getStreamFromFD(r);return n.stream_ops&&n.stream_ops.fsync?n.stream_ops.fsync(n):0}catch(i){if(typeof l>"u"||!(i instanceof l.ErrnoError))throw i;return i.errno}}function Or(r,n,i,s){for(var o=0,a=0;a<i;a++){var b=Fe[n>>2],E=Fe[n+4>>2];n+=8;var P=l.write(r,je,b,E,s);if(P<0)return-1;o+=P,typeof s<"u"&&(s+=P)}return o}function Pr(r,n,i,s){try{var o=_e.getStreamFromFD(r),a=Or(o,n,i);return Fe[s>>2]=a,0}catch(b){if(typeof l>"u"||!(b instanceof l.ErrnoError))throw b;return b.errno}}var nn=function(r,n,i,s){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=l.nextInode++,this.name=n,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=s},dt=365,mt=146;Object.defineProperties(nn.prototype,{read:{get:function(){return(this.mode&dt)===dt},set:function(r){r?this.mode|=dt:this.mode&=~dt}},write:{get:function(){return(this.mode&mt)===mt},set:function(r){r?this.mode|=mt:this.mode&=~mt}},isFolder:{get:function(){return l.isDir(this.mode)}},isDevice:{get:function(){return l.isChrdev(this.mode)}}}),l.FSNode=nn,l.staticInit();var rn={__syscall_chmod:Un,__syscall_faccessat:Wn,__syscall_fchmod:Qn,__syscall_fchown32:$n,__syscall_fcntl64:Vn,__syscall_fstat64:Gn,__syscall_ftruncate64:Xn,__syscall_getcwd:Zn,__syscall_ioctl:Yn,__syscall_lstat64:er,__syscall_mkdirat:tr,__syscall_newfstatat:nr,__syscall_openat:rr,__syscall_readlinkat:sr,__syscall_rmdir:ir,__syscall_stat64:or,__syscall_unlinkat:lr,__syscall_utimensat:ar,_emscripten_get_now_is_monotonic:ur,_localtime_js:mr,_tzset_js:hr,emscripten_date_now:gr,emscripten_get_now:tn,emscripten_resize_heap:qr,environ_get:vr,environ_sizes_get:Er,fd_close:kr,fd_fdstat_get:Sr,fd_read:Ir,fd_seek:Tr,fd_sync:Fr,fd_write:Pr,memory:Pe};Nn(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)},t._sqlite3_status64=function(){return(t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},t._sqlite3_status=function(){return(t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},t._sqlite3_db_status=function(){return(t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},t._sqlite3_msize=function(){return(t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},t._sqlite3_vfs_find=function(){return(t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},t._sqlite3_initialize=function(){return(t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},t._sqlite3_malloc=function(){return(t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},t._sqlite3_free=function(){return(t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},t._sqlite3_vfs_register=function(){return(t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},t._sqlite3_vfs_unregister=function(){return(t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},t._sqlite3_malloc64=function(){return(t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},t._sqlite3_realloc=function(){return(t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},t._sqlite3_realloc64=function(){return(t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},t._sqlite3_value_text=function(){return(t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},t._sqlite3_randomness=function(){return(t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},t._sqlite3_stricmp=function(){return(t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},t._sqlite3_strnicmp=function(){return(t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},t._sqlite3_uri_parameter=function(){return(t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)};var sn=t.___errno_location=function(){return(sn=t.___errno_location=t.asm.__errno_location).apply(null,arguments)};t._sqlite3_uri_boolean=function(){return(t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},t._sqlite3_serialize=function(){return(t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},t._sqlite3_prepare_v2=function(){return(t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},t._sqlite3_step=function(){return(t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},t._sqlite3_column_int64=function(){return(t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},t._sqlite3_column_int=function(){return(t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},t._sqlite3_finalize=function(){return(t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},t._sqlite3_file_control=function(){return(t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},t._sqlite3_reset=function(){return(t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},t._sqlite3_deserialize=function(){return(t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},t._sqlite3_clear_bindings=function(){return(t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},t._sqlite3_value_blob=function(){return(t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},t._sqlite3_value_bytes=function(){return(t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},t._sqlite3_value_double=function(){return(t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},t._sqlite3_value_int=function(){return(t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},t._sqlite3_value_int64=function(){return(t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},t._sqlite3_value_subtype=function(){return(t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},t._sqlite3_value_pointer=function(){return(t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},t._sqlite3_value_type=function(){return(t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},t._sqlite3_value_nochange=function(){return(t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},t._sqlite3_value_frombind=function(){return(t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},t._sqlite3_value_dup=function(){return(t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},t._sqlite3_value_free=function(){return(t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},t._sqlite3_result_blob=function(){return(t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},t._sqlite3_result_error_nomem=function(){return(t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},t._sqlite3_result_error_toobig=function(){return(t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},t._sqlite3_result_double=function(){return(t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},t._sqlite3_result_error=function(){return(t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},t._sqlite3_result_int=function(){return(t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},t._sqlite3_result_int64=function(){return(t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},t._sqlite3_result_null=function(){return(t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},t._sqlite3_result_pointer=function(){return(t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},t._sqlite3_result_subtype=function(){return(t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},t._sqlite3_result_text=function(){return(t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},t._sqlite3_result_zeroblob=function(){return(t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},t._sqlite3_result_zeroblob64=function(){return(t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},t._sqlite3_result_error_code=function(){return(t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},t._sqlite3_user_data=function(){return(t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},t._sqlite3_context_db_handle=function(){return(t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},t._sqlite3_vtab_nochange=function(){return(t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},t._sqlite3_vtab_in_first=function(){return(t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},t._sqlite3_vtab_in_next=function(){return(t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},t._sqlite3_aggregate_context=function(){return(t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},t._sqlite3_get_auxdata=function(){return(t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},t._sqlite3_set_auxdata=function(){return(t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},t._sqlite3_column_count=function(){return(t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},t._sqlite3_data_count=function(){return(t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},t._sqlite3_column_blob=function(){return(t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},t._sqlite3_column_bytes=function(){return(t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},t._sqlite3_column_double=function(){return(t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},t._sqlite3_column_text=function(){return(t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},t._sqlite3_column_value=function(){return(t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},t._sqlite3_column_type=function(){return(t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},t._sqlite3_column_name=function(){return(t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},t._sqlite3_bind_blob=function(){return(t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},t._sqlite3_bind_double=function(){return(t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},t._sqlite3_bind_int=function(){return(t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},t._sqlite3_bind_int64=function(){return(t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},t._sqlite3_bind_null=function(){return(t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},t._sqlite3_bind_pointer=function(){return(t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},t._sqlite3_bind_text=function(){return(t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},t._sqlite3_bind_parameter_count=function(){return(t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},t._sqlite3_bind_parameter_index=function(){return(t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},t._sqlite3_db_handle=function(){return(t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},t._sqlite3_stmt_readonly=function(){return(t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},t._sqlite3_stmt_isexplain=function(){return(t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},t._sqlite3_stmt_status=function(){return(t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},t._sqlite3_sql=function(){return(t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},t._sqlite3_expanded_sql=function(){return(t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},t._sqlite3_preupdate_old=function(){return(t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},t._sqlite3_preupdate_count=function(){return(t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},t._sqlite3_preupdate_depth=function(){return(t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},t._sqlite3_preupdate_blobwrite=function(){return(t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},t._sqlite3_preupdate_new=function(){return(t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},t._sqlite3_value_numeric_type=function(){return(t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},t._sqlite3_errmsg=function(){return(t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},t._sqlite3_set_authorizer=function(){return(t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},t._sqlite3_strglob=function(){return(t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},t._sqlite3_strlike=function(){return(t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},t._sqlite3_exec=function(){return(t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},t._sqlite3_auto_extension=function(){return(t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},t._sqlite3_cancel_auto_extension=function(){return(t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},t._sqlite3_reset_auto_extension=function(){return(t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},t._sqlite3_prepare_v3=function(){return(t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},t._sqlite3_create_module=function(){return(t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},t._sqlite3_create_module_v2=function(){return(t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},t._sqlite3_drop_modules=function(){return(t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},t._sqlite3_declare_vtab=function(){return(t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},t._sqlite3_vtab_on_conflict=function(){return(t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},t._sqlite3_vtab_collation=function(){return(t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},t._sqlite3_vtab_in=function(){return(t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},t._sqlite3_vtab_rhs_value=function(){return(t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},t._sqlite3_vtab_distinct=function(){return(t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},t._sqlite3_keyword_name=function(){return(t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},t._sqlite3_keyword_count=function(){return(t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},t._sqlite3_keyword_check=function(){return(t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},t._sqlite3_complete=function(){return(t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},t._sqlite3_libversion=function(){return(t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},t._sqlite3_libversion_number=function(){return(t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},t._sqlite3_shutdown=function(){return(t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},t._sqlite3_last_insert_rowid=function(){return(t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},t._sqlite3_set_last_insert_rowid=function(){return(t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},t._sqlite3_changes64=function(){return(t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},t._sqlite3_changes=function(){return(t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},t._sqlite3_total_changes64=function(){return(t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},t._sqlite3_total_changes=function(){return(t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},t._sqlite3_txn_state=function(){return(t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},t._sqlite3_close_v2=function(){return(t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},t._sqlite3_busy_handler=function(){return(t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},t._sqlite3_progress_handler=function(){return(t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},t._sqlite3_busy_timeout=function(){return(t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},t._sqlite3_create_function=function(){return(t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},t._sqlite3_create_function_v2=function(){return(t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},t._sqlite3_create_window_function=function(){return(t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},t._sqlite3_overload_function=function(){return(t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},t._sqlite3_trace_v2=function(){return(t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},t._sqlite3_commit_hook=function(){return(t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},t._sqlite3_update_hook=function(){return(t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},t._sqlite3_rollback_hook=function(){return(t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},t._sqlite3_preupdate_hook=function(){return(t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},t._sqlite3_error_offset=function(){return(t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},t._sqlite3_errcode=function(){return(t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},t._sqlite3_extended_errcode=function(){return(t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},t._sqlite3_errstr=function(){return(t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},t._sqlite3_limit=function(){return(t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},t._sqlite3_open=function(){return(t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},t._sqlite3_open_v2=function(){return(t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},t._sqlite3_create_collation=function(){return(t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},t._sqlite3_create_collation_v2=function(){return(t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},t._sqlite3_collation_needed=function(){return(t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},t._sqlite3_table_column_metadata=function(){return(t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},t._sqlite3_extended_result_codes=function(){return(t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},t._sqlite3_uri_key=function(){return(t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},t._sqlite3_uri_int64=function(){return(t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},t._sqlite3_db_name=function(){return(t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},t._sqlite3_db_filename=function(){return(t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},t._sqlite3_compileoption_used=function(){return(t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},t._sqlite3_compileoption_get=function(){return(t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},t._sqlite3session_diff=function(){return(t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},t._sqlite3session_attach=function(){return(t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},t._sqlite3session_create=function(){return(t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},t._sqlite3session_delete=function(){return(t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},t._sqlite3session_table_filter=function(){return(t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},t._sqlite3session_changeset=function(){return(t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},t._sqlite3session_changeset_strm=function(){return(t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},t._sqlite3session_patchset_strm=function(){return(t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},t._sqlite3session_patchset=function(){return(t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},t._sqlite3session_enable=function(){return(t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},t._sqlite3session_indirect=function(){return(t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},t._sqlite3session_isempty=function(){return(t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},t._sqlite3session_memory_used=function(){return(t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},t._sqlite3session_object_config=function(){return(t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},t._sqlite3session_changeset_size=function(){return(t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},t._sqlite3changeset_start=function(){return(t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},t._sqlite3changeset_start_v2=function(){return(t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},t._sqlite3changeset_start_strm=function(){return(t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},t._sqlite3changeset_start_v2_strm=function(){return(t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},t._sqlite3changeset_next=function(){return(t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},t._sqlite3changeset_op=function(){return(t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},t._sqlite3changeset_pk=function(){return(t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},t._sqlite3changeset_old=function(){return(t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},t._sqlite3changeset_new=function(){return(t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},t._sqlite3changeset_conflict=function(){return(t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},t._sqlite3changeset_fk_conflicts=function(){return(t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},t._sqlite3changeset_finalize=function(){return(t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},t._sqlite3changeset_invert=function(){return(t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},t._sqlite3changeset_invert_strm=function(){return(t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},t._sqlite3changeset_apply_v2=function(){return(t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},t._sqlite3changeset_apply=function(){return(t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},t._sqlite3changeset_apply_v2_strm=function(){return(t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},t._sqlite3changeset_apply_strm=function(){return(t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},t._sqlite3changegroup_new=function(){return(t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},t._sqlite3changegroup_add=function(){return(t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},t._sqlite3changegroup_output=function(){return(t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},t._sqlite3changegroup_add_strm=function(){return(t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},t._sqlite3changegroup_output_strm=function(){return(t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},t._sqlite3changegroup_delete=function(){return(t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},t._sqlite3changeset_concat=function(){return(t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},t._sqlite3changeset_concat_strm=function(){return(t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},t._sqlite3session_config=function(){return(t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},t._sqlite3_sourceid=function(){return(t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},t._sqlite3_wasm_pstack_ptr=function(){return(t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},t._sqlite3_wasm_pstack_restore=function(){return(t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},t._sqlite3_wasm_pstack_alloc=function(){return(t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},t._sqlite3_wasm_pstack_remaining=function(){return(t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},t._sqlite3_wasm_pstack_quota=function(){return(t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},t._sqlite3_wasm_db_error=function(){return(t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)},t._sqlite3_wasm_test_struct=function(){return(t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,arguments)},t._sqlite3_wasm_enum_json=function(){return(t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)},t._sqlite3_wasm_vfs_unlink=function(){return(t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},t._sqlite3_wasm_db_vfs=function(){return(t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},t._sqlite3_wasm_db_reset=function(){return(t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)},t._sqlite3_wasm_db_export_chunked=function(){return(t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},t._sqlite3_wasm_db_serialize=function(){return(t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},t._sqlite3_wasm_vfs_create_file=function(){return(t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},t._sqlite3_wasm_kvvfs_methods=function(){return(t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},t._sqlite3_wasm_vtab_config=function(){return(t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},t._sqlite3_wasm_db_config_ip=function(){return(t._sqlite3_wasm_db_config_ip=t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},t._sqlite3_wasm_db_config_pii=function(){return(t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},t._sqlite3_wasm_db_config_s=function(){return(t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},t._sqlite3_wasm_config_i=function(){return(t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)},t._sqlite3_wasm_config_ii=function(){return(t._sqlite3_wasm_config_ii=t.asm.sqlite3_wasm_config_ii).apply(null,arguments)},t._sqlite3_wasm_config_j=function(){return(t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)},t._sqlite3_wasm_init_wasmfs=function(){return(t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},t._sqlite3_wasm_test_intptr=function(){return(t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},t._sqlite3_wasm_test_voidptr=function(){return(t._sqlite3_wasm_test_voidptr=t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},t._sqlite3_wasm_test_int64_max=function(){return(t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},t._sqlite3_wasm_test_int64_min=function(){return(t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},t._sqlite3_wasm_test_int64_times2=function(){return(t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},t._sqlite3_wasm_test_int64_minmax=function(){return(t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},t._sqlite3_wasm_test_int64ptr=function(){return(t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},t._sqlite3_wasm_test_stack_overflow=function(){return(t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},t._sqlite3_wasm_test_str_hello=function(){return(t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var on=t._malloc=function(){return(on=t._malloc=t.asm.malloc).apply(null,arguments)};t._free=function(){return(t._free=t.asm.free).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm.realloc).apply(null,arguments)},t.stackSave=function(){return(t.stackSave=t.asm.stackSave).apply(null,arguments)},t.stackRestore=function(){return(t.stackRestore=t.asm.stackRestore).apply(null,arguments)},t.stackAlloc=function(){return(t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},t.wasmMemory=Pe;var ht;lt=function r(){ht||ln(),ht||(lt=r)};function ln(r){if(tt>0||(On(),tt>0))return;function n(){ht||(ht=!0,t.calledRun=!0,!Ne&&(Pn(),g(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Ln()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return ln(),t.postRun||(t.postRun=[]),t.postRun.push(function(r){if(self.sqlite3ApiBootstrap=function n(i=self.sqlite3ApiConfig||n.defaultConfig){if(n.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),n.sqlite3;const s=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof r<"u"?!!r.HEAPU64:!!self.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},i||{});Object.assign(s,{allocExportName:s.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:s.useStdAlloc?"free":"sqlite3_free",reallocExportName:s.useStdAlloc?"realloc":"sqlite3_realloc"},s),["exports","memory","wasmfsOpfsDir"].forEach(c=>{typeof s[c]=="function"&&(s[c]=s[c]())}),s.wasmOpfsDir=!1;const o=Object.create(null),a=Object.create(null),b=c=>o.sqlite3_js_rc_str&&o.sqlite3_js_rc_str(c)||"Unknown result code #"+c,E=c=>typeof c=="number"&&c===(c|0);class P extends Error{constructor(...p){let S;if(p.length)if(E(p[0]))if(S=p[0],p.length===1)super(b(p[0]));else{const O=b(S);typeof p[1]=="object"?super(O,p[1]):(p[0]=O+":",super(p.join(" ")))}else p.length===2&&typeof p[1]=="object"?super(...p):super(p.join(" "));this.resultCode=S||o.SQLITE_ERROR,this.name="SQLite3Error"}}P.toss=(...c)=>{throw new P(...c)};const W=P.toss;s.wasmfsOpfsDir&&!/^\/[^/]+$/.test(s.wasmfsOpfsDir)&&W("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const G=c=>typeof c!="bigint"&&c===(c|0)&&c<=2147483647&&c>=-2147483648,ee=function c(p){return c._max||(c._max=BigInt("0x7fffffffffffffff"),c._min=~c._max),p>=c._min&&p<=c._max},x=c=>c>=-0x7fffffffn-1n&&c<=0x7fffffffn,q=function c(p){return c._min||(c._min=Number.MIN_SAFE_INTEGER,c._max=Number.MAX_SAFE_INTEGER),p>=c._min&&p<=c._max},h=c=>c&&c.constructor&&G(c.constructor.BYTES_PER_ELEMENT)?c:!1,y=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,w=c=>c.buffer instanceof y,v=(c,p,S)=>w(c)?c.slice(p,S):c.subarray(p,S),D=c=>c&&(c instanceof Uint8Array||c instanceof Int8Array||c instanceof ArrayBuffer),z=c=>c&&(c instanceof Uint8Array||c instanceof Int8Array||c instanceof ArrayBuffer),L=c=>D(c)||W("Value is not of a supported TypedArray type."),Q=new TextDecoder("utf-8"),H=function(c,p,S){return Q.decode(v(c,p,S))},d=function(c){return z(c)?H(c instanceof ArrayBuffer?new Uint8Array(c):c):Array.isArray(c)?c.join(""):(a.isPtr(c)&&(c=a.cstrToJs(c)),c)};class k extends Error{constructor(...p){p.length===2&&typeof p[1]=="object"?super(...p):p.length?super(p.join(" ")):super("Allocation failed."),this.resultCode=o.SQLITE_NOMEM,this.name="WasmAllocError"}}k.toss=(...c)=>{throw new k(...c)},Object.assign(o,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(c,p,S,O,C,se,te,le,pe)=>{},sqlite3_create_function:(c,p,S,O,C,se,te,le)=>{},sqlite3_create_window_function:(c,p,S,O,C,se,te,le,pe,ue)=>{},sqlite3_prepare_v3:(c,p,S,O,C,se)=>{},sqlite3_prepare_v2:(c,p,S,O,C)=>{},sqlite3_exec:(c,p,S,O,C)=>{},sqlite3_randomness:(c,p)=>{}});const A={affirmBindableTypedArray:L,flexibleString:d,bigIntFits32:x,bigIntFits64:ee,bigIntFitsDouble:q,isBindableTypedArray:D,isInt32:G,isSQLableTypedArray:z,isTypedArray:h,typedArrayToString:H,isUIThread:()=>self.window===self&&!!self.document,isSharedTypedArray:w,toss:function(...c){throw new Error(c.join(" "))},toss3:W,typedArrayPart:v};Object.assign(a,{ptrSizeof:s.wasmPtrSizeof||4,ptrIR:s.wasmPtrIR||"i32",bigIntEnabled:!!s.bigIntEnabled,exports:s.exports||W("Missing API config.exports (WASM module exports)."),memory:s.memory||s.exports.memory||W("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),a.allocFromTypedArray=function(c){c instanceof ArrayBuffer&&(c=new Uint8Array(c)),L(c);const p=a.alloc(c.byteLength||1);return a.heapForSize(c.constructor).set(c.byteLength?c:[0],p),p};{const c=s.allocExportName,p=s.deallocExportName,S=s.reallocExportName;for(const O of[c,p,S])a.exports[O]instanceof Function||W("Missing required exports[",O,"] function.");a.alloc=function O(C){return O.impl(C)||k.toss("Failed to allocate",C," bytes.")},a.alloc.impl=a.exports[c],a.realloc=function O(C,se){const te=O.impl(C,se);return se?te||k.toss("Failed to reallocate",se," bytes."):0},a.realloc.impl=a.exports[S],a.dealloc=a.exports[p]}a.compileOptionUsed=function c(p){if(arguments.length){if(Array.isArray(p)){const S={};return p.forEach(O=>{S[O]=o.sqlite3_compileoption_used(O)}),S}else if(typeof p=="object")return Object.keys(p).forEach(S=>{p[S]=o.sqlite3_compileoption_used(S)}),p}else{if(c._result)return c._result;c._opt||(c._rx=/^([^=]+)=(.+)/,c._rxInt=/^-?\d+$/,c._opt=function(te,le){const pe=c._rx.exec(te);le[0]=pe?pe[1]:te,le[1]=pe?c._rxInt.test(pe[2])?+pe[2]:pe[2]:!0});const S={},O=[0,0];let C=0,se;for(;se=o.sqlite3_compileoption_get(C++);)c._opt(se,O),S[O[0]]=O[1];return c._result=S}return typeof p=="string"?!!o.sqlite3_compileoption_used(p):!1},a.pstack=Object.assign(Object.create(null),{restore:a.exports.sqlite3_wasm_pstack_restore,alloc:function(c){return typeof c=="string"&&!(c=a.sizeofIR(c))&&k.toss("Invalid value for pstack.alloc(",arguments[0],")"),a.exports.sqlite3_wasm_pstack_alloc(c)||k.toss("Could not allocate",c,"bytes from the pstack.")},allocChunks:function(c,p){typeof p=="string"&&!(p=a.sizeofIR(p))&&k.toss("Invalid size value for allocChunks(",arguments[1],")");const S=a.pstack.alloc(c*p),O=[];let C=0,se=0;for(;C<c;++C,se+=p)O.push(S+se);return O},allocPtr:(c=1,p=!0)=>c===1?a.pstack.alloc(p?8:a.ptrSizeof):a.pstack.allocChunks(c,p?8:a.ptrSizeof)}),Object.defineProperties(a.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_remaining}}),o.sqlite3_randomness=(...c)=>{if(c.length===1&&A.isTypedArray(c[0])&&c[0].BYTES_PER_ELEMENT===1){const p=c[0];if(p.byteLength===0)return a.exports.sqlite3_randomness(0,0),p;const S=a.pstack.pointer;try{let O=p.byteLength,C=0;const se=a.exports.sqlite3_randomness,te=a.heap8u(),le=O<512?O:512,pe=a.pstack.alloc(le);do{const ue=O>le?le:O;se(ue,pe),p.set(v(te,pe,pe+ue),C),O-=ue,C+=ue}while(O>0)}catch(O){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",O)}finally{a.pstack.restore(S)}return p}a.exports.sqlite3_randomness(...c)};let N;if(o.sqlite3_wasmfs_opfs_dir=function(){if(N!==void 0)return N;const c=s.wasmfsOpfsDir;if(console.error("sqlite3_wasmfs_opfs_dir() can no longer work due to incompatible WASMFS changes. It will be removed."),!c||!self.FileSystemHandle||!self.FileSystemDirectoryHandle||!self.FileSystemFileHandle)return N="";try{return c&&a.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],c)===0?N=c:N=""}catch{return N=""}},o.sqlite3_wasmfs_filename_is_persistent=function(c){const p=o.sqlite3_wasmfs_opfs_dir();return p&&c?c.startsWith(p+"/"):!1},o.sqlite3_js_db_uses_vfs=function(c,p,S=0){try{const O=o.sqlite3_vfs_find(p);return O?c?O===o.sqlite3_js_db_vfs(c,S)?O:!1:O===o.sqlite3_vfs_find(0)?O:!1:!1}catch{return!1}},o.sqlite3_js_vfs_list=function(){const c=[];let p=o.sqlite3_vfs_find(0);for(;p;){const S=new o.sqlite3_vfs(p);c.push(a.cstrToJs(S.$zName)),p=S.$pNext,S.dispose()}return c},o.sqlite3_js_db_export=function(c,p=0){c=a.xWrap.testConvertArg("sqlite3*",c),c||W("Invalid sqlite3* argument."),a.bigIntEnabled||W("BigInt64 support is not enabled.");const S=a.scopedAllocPush();let O;try{const C=a.scopedAlloc(8+a.ptrSizeof),se=C+8,te=p?a.isPtr(p)?p:a.scopedAllocCString(""+p):0;let le=a.exports.sqlite3_wasm_db_serialize(c,te,se,C,0);le&&W("Database serialization failed with code",_.capi.sqlite3_js_rc_str(le)),O=a.peekPtr(se);const pe=a.peek(C,"i64");return le=pe?a.heap8u().slice(O,O+Number(pe)):new Uint8Array,le}finally{O&&a.exports.sqlite3_free(O),a.scopedAllocPop(S)}},o.sqlite3_js_db_vfs=(c,p=0)=>a.sqlite3_wasm_db_vfs(c,p),o.sqlite3_js_aggregate_context=(c,p)=>o.sqlite3_aggregate_context(c,p)||(p?k.toss("Cannot allocate",p,"bytes for sqlite3_aggregate_context()"):0),o.sqlite3_js_vfs_create_file=function(c,p,S,O){let C;S?(a.isPtr(S)?C=S:S instanceof ArrayBuffer&&(S=new Uint8Array(S)),S instanceof Uint8Array?(C=a.allocFromTypedArray(S),(arguments.length<4||!A.isInt32(O)||O<0)&&(O=S.byteLength)):P.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):C=0,(!A.isInt32(O)||O<0)&&(a.dealloc(C),P.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const se=a.sqlite3_wasm_vfs_create_file(c,p,C,O);se&&P.toss("Creation of file failed with sqlite3 result code",o.sqlite3_js_rc_str(se))}finally{a.dealloc(C)}},A.isUIThread()){const c=function(p){const S=Object.create(null);return S.prefix="kvvfs-"+p,S.stores=[],(p==="session"||p==="")&&S.stores.push(self.sessionStorage),(p==="local"||p==="")&&S.stores.push(self.localStorage),S};o.sqlite3_js_kvvfs_clear=function(p=""){let S=0;const O=c(p);return O.stores.forEach(C=>{const se=[];let te;for(te=0;te<C.length;++te){const le=C.key(te);le.startsWith(O.prefix)&&se.push(le)}se.forEach(le=>C.removeItem(le)),S+=se.length}),S},o.sqlite3_js_kvvfs_size=function(p=""){let S=0;const O=c(p);return O.stores.forEach(C=>{let se;for(se=0;se<C.length;++se){const te=C.key(se);te.startsWith(O.prefix)&&(S+=te.length,S+=C.getItem(te).length)}}),S*2}}o.sqlite3_db_config=function(p,S,...O){this.s||(this.s=a.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=a.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=a.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"]));const C=o;switch(S){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:return this.ip(p,S,O[0],O[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(p,S,O[0],O[1],O[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(p,S,O[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),o.sqlite3_value_to_js=function(c,p=!0){let S;const O=o.sqlite3_value_type(c);switch(O){case o.SQLITE_INTEGER:a.bigIntEnabled?(S=o.sqlite3_value_int64(c),A.bigIntFitsDouble(S)&&(S=Number(S))):S=o.sqlite3_value_double(c);break;case o.SQLITE_FLOAT:S=o.sqlite3_value_double(c);break;case o.SQLITE_TEXT:S=o.sqlite3_value_text(c);break;case o.SQLITE_BLOB:{const C=o.sqlite3_value_bytes(c),se=o.sqlite3_value_blob(c);C&&!se&&_.WasmAllocError.toss("Cannot allocate memory for blob argument of",C,"byte(s)"),S=C?a.heap8u().slice(se,se+Number(C)):null;break}case o.SQLITE_NULL:S=null;break;default:p&&W(o.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",O),S=void 0}return S},o.sqlite3_values_to_js=function(c,p,S=!0){let O;const C=[];for(O=0;O<c;++O)C.push(o.sqlite3_value_to_js(a.peekPtr(p+a.ptrSizeof*O)));return C},o.sqlite3_result_error_js=function(c,p){p instanceof k?o.sqlite3_result_error_nomem(c):o.sqlite3_result_error(c,""+p,-1)},o.sqlite3_result_js=function(c,p){if(p instanceof Error){o.sqlite3_result_error_js(c,p);return}try{switch(typeof p){case"undefined":break;case"boolean":o.sqlite3_result_int(c,p?1:0);break;case"bigint":A.bigIntFits32(p)?o.sqlite3_result_int(c,Number(p)):A.bigIntFitsDouble(p)?o.sqlite3_result_double(c,Number(p)):a.bigIntEnabled?A.bigIntFits64(p)?o.sqlite3_result_int64(c,p):W("BigInt value",p.toString(),"is too BigInt for int64."):W("BigInt value",p.toString(),"is too BigInt.");break;case"number":{let S;A.isInt32(p)?S=o.sqlite3_result_int:a.bigIntEnabled&&Number.isInteger(p)&&A.bigIntFits64(BigInt(p))?S=o.sqlite3_result_int64:S=o.sqlite3_result_double,S(c,p);break}case"string":{const[S,O]=a.allocCString(p,!0);o.sqlite3_result_text(c,S,O,o.SQLITE_WASM_DEALLOC);break}case"object":if(p===null){o.sqlite3_result_null(c);break}else if(A.isBindableTypedArray(p)){const S=a.allocFromTypedArray(p);o.sqlite3_result_blob(c,S,p.byteLength,o.SQLITE_WASM_DEALLOC);break}default:W("Don't not how to handle this UDF result value:",typeof p,p)}}catch(S){o.sqlite3_result_error_js(c,S)}},o.sqlite3_column_js=function(c,p,S=!0){const O=o.sqlite3_column_value(c,p);return O===0?void 0:o.sqlite3_value_to_js(O,S)};const m=function(c,p,S){S=o[S],this.ptr?a.pokePtr(this.ptr,0):this.ptr=a.allocPtr();const O=S(c,p,this.ptr);if(O)return P.toss(O,arguments[2]+"() failed with code "+O);const C=a.peekPtr(this.ptr);return C?o.sqlite3_value_to_js(C,!0):void 0}.bind(Object.create(null));o.sqlite3_preupdate_new_js=(c,p)=>m(c,p,"sqlite3_preupdate_new"),o.sqlite3_preupdate_old_js=(c,p)=>m(c,p,"sqlite3_preupdate_old"),o.sqlite3changeset_new_js=(c,p)=>m(c,p,"sqlite3changeset_new"),o.sqlite3changeset_old_js=(c,p)=>m(c,p,"sqlite3changeset_old");const _={WasmAllocError:k,SQLite3Error:P,capi:o,util:A,wasm:a,config:s,version:Object.create(null),client:void 0,asyncPostInit:async function(){let c=n.initializersAsync;if(delete n.initializersAsync,!c||!c.length)return Promise.resolve(_);c=c.map(S=>(S instanceof Promise?S:S(_)).catch(C=>{throw console.error("an async sqlite3 initializer failed:",C),C}));const p=()=>(_.__isUnderTest||(delete _.util,delete _.StructBinder),_);{let S=c.shift();for(;c.length;)S=S.then(c.shift());return S.then(p)}},scriptInfo:void 0};try{n.initializers.forEach(c=>{c(_)})}catch(c){throw console.error("sqlite3 bootstrap initializer threw:",c),c}return delete n.initializers,n.sqlite3=_,_},self.sqlite3ApiBootstrap.initializers=[],self.sqlite3ApiBootstrap.initializersAsync=[],self.sqlite3ApiBootstrap.defaultConfig=Object.create(null),self.sqlite3ApiBootstrap.sqlite3=void 0,self.WhWasmUtilInstaller=function(n){n.bigIntEnabled===void 0&&(n.bigIntEnabled=!!self.BigInt64Array);const i=(...d)=>{throw new Error(d.join(" "))};n.exports||Object.defineProperty(n,"exports",{enumerable:!0,configurable:!0,get:()=>n.instance&&n.instance.exports});const s=n.pointerIR||"i32",o=n.ptrSizeof=s==="i32"?4:s==="i64"?8:i("Unhandled ptrSizeof:",s),a=Object.create(null);a.heapSize=0,a.memory=null,a.freeFuncIndexes=[],a.scopedAlloc=[],a.utf8Decoder=new TextDecoder,a.utf8Encoder=new TextEncoder("utf-8"),n.sizeofIR=d=>{switch(d){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return o;default:return(""+d).endsWith("*")?o:void 0}};const b=function(){if(!a.memory)a.memory=n.memory instanceof WebAssembly.Memory?n.memory:n.exports.memory;else if(a.heapSize===a.memory.buffer.byteLength)return a;const d=a.memory.buffer;return a.HEAP8=new Int8Array(d),a.HEAP8U=new Uint8Array(d),a.HEAP16=new Int16Array(d),a.HEAP16U=new Uint16Array(d),a.HEAP32=new Int32Array(d),a.HEAP32U=new Uint32Array(d),n.bigIntEnabled&&(a.HEAP64=new BigInt64Array(d),a.HEAP64U=new BigUint64Array(d)),a.HEAP32F=new Float32Array(d),a.HEAP64F=new Float64Array(d),a.heapSize=d.byteLength,a};n.heap8=()=>b().HEAP8,n.heap8u=()=>b().HEAP8U,n.heap16=()=>b().HEAP16,n.heap16u=()=>b().HEAP16U,n.heap32=()=>b().HEAP32,n.heap32u=()=>b().HEAP32U,n.heapForSize=function(d,k=!0){const A=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:b();switch(d){case Int8Array:return A.HEAP8;case Uint8Array:return A.HEAP8U;case Int16Array:return A.HEAP16;case Uint16Array:return A.HEAP16U;case Int32Array:return A.HEAP32;case Uint32Array:return A.HEAP32U;case 8:return k?A.HEAP8U:A.HEAP8;case 16:return k?A.HEAP16U:A.HEAP16;case 32:return k?A.HEAP32U:A.HEAP32;case 64:if(A.HEAP64)return k?A.HEAP64U:A.HEAP64;break;default:if(n.bigIntEnabled){if(d===self.BigUint64Array)return A.HEAP64U;if(d===self.BigInt64Array)return A.HEAP64;break}}i("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},n.functionTable=function(){return n.exports.__indirect_function_table},n.functionEntry=function(d){const k=n.functionTable();return d<k.length?k.get(d):void 0},n.jsFuncToWasm=function d(k,A){if(d._||(d._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(_,c,p){p<128?_[c](p):_[c](p%128|128,p>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(_){const c=d._.rxJSig.exec(_);return c?c[2]:_.substr(1)},letterType:_=>d._.sigTypes[_]||i("Invalid signature letter:",_),pushSigType:(_,c)=>_.push(d._.typeCodes[d._.letterType(c)])}),typeof k=="string"){const _=A;A=k,k=_}const N=d._.sigParams(A),m=[1,96];d._.uleb128Encode(m,"push",N.length);for(const _ of N)d._.pushSigType(m,_);return A[0]==="v"?m.push(0):(m.push(1),d._.pushSigType(m,A[0])),d._.uleb128Encode(m,"unshift",m.length),m.unshift(0,97,115,109,1,0,0,0,1),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(m)),{e:{f:k}}).exports.f};const E=function(k,A,N){if(N&&!a.scopedAlloc.length&&i("No scopedAllocPush() scope is active."),typeof k=="string"){const p=A;A=k,k=p}(typeof A!="string"||!(k instanceof Function))&&i("Invalid arguments: expecting (function,signature) or (signature,function).");const m=n.functionTable(),_=m.length;let c;for(;a.freeFuncIndexes.length&&(c=a.freeFuncIndexes.pop(),m.get(c));){c=null;continue}c||(c=_,m.grow(1));try{return m.set(c,k),N&&a.scopedAlloc[a.scopedAlloc.length-1].push(c),c}catch(p){if(!(p instanceof TypeError))throw c===_&&a.freeFuncIndexes.push(_),p}try{const p=n.jsFuncToWasm(k,A);m.set(c,p),N&&a.scopedAlloc[a.scopedAlloc.length-1].push(c)}catch(p){throw c===_&&a.freeFuncIndexes.push(_),p}return c};n.installFunction=(d,k)=>E(d,k,!1),n.scopedInstallFunction=(d,k)=>E(d,k,!0),n.uninstallFunction=function(d){if(!d&&d!==0)return;const k=a.freeFuncIndexes,A=n.functionTable();k.push(d);const N=A.get(d);return A.set(d,null),N},n.peek=function(k,A="i8"){A.endsWith("*")&&(A=s);const N=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:b(),m=Array.isArray(k)?[]:void 0;let _;do{switch(m&&(k=arguments[0].shift()),A){case"i1":case"i8":_=N.HEAP8[k>>0];break;case"i16":_=N.HEAP16[k>>1];break;case"i32":_=N.HEAP32[k>>2];break;case"float":case"f32":_=N.HEAP32F[k>>2];break;case"double":case"f64":_=Number(N.HEAP64F[k>>3]);break;case"i64":if(n.bigIntEnabled){_=BigInt(N.HEAP64[k>>3]);break}default:i("Invalid type for peek():",A)}m&&m.push(_)}while(m&&arguments[0].length);return m||_},n.poke=function(d,k,A="i8"){A.endsWith("*")&&(A=s);const N=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:b();for(const m of Array.isArray(d)?d:[d])switch(A){case"i1":case"i8":N.HEAP8[m>>0]=k;continue;case"i16":N.HEAP16[m>>1]=k;continue;case"i32":N.HEAP32[m>>2]=k;continue;case"float":case"f32":N.HEAP32F[m>>2]=k;continue;case"double":case"f64":N.HEAP64F[m>>3]=k;continue;case"i64":if(N.HEAP64){N.HEAP64[m>>3]=BigInt(k);continue}default:i("Invalid type for poke(): "+A)}return this},n.peekPtr=(...d)=>n.peek(d.length===1?d[0]:d,s),n.pokePtr=(d,k=0)=>n.poke(d,k,s),n.peek8=(...d)=>n.peek(d.length===1?d[0]:d,"i8"),n.poke8=(d,k)=>n.poke(d,k,"i8"),n.peek16=(...d)=>n.peek(d.length===1?d[0]:d,"i16"),n.poke16=(d,k)=>n.poke(d,k,"i16"),n.peek32=(...d)=>n.peek(d.length===1?d[0]:d,"i32"),n.poke32=(d,k)=>n.poke(d,k,"i32"),n.peek64=(...d)=>n.peek(d.length===1?d[0]:d,"i64"),n.poke64=(d,k)=>n.poke(d,k,"i64"),n.peek32f=(...d)=>n.peek(d.length===1?d[0]:d,"f32"),n.poke32f=(d,k)=>n.poke(d,k,"f32"),n.peek64f=(...d)=>n.peek(d.length===1?d[0]:d,"f64"),n.poke64f=(d,k)=>n.poke(d,k,"f64"),n.getMemValue=n.peek,n.getPtrValue=n.peekPtr,n.setMemValue=n.poke,n.setPtrValue=n.pokePtr,n.isPtr32=d=>typeof d=="number"&&d===(d|0)&&d>=0,n.isPtr=n.isPtr32,n.cstrlen=function(d){if(!d||!n.isPtr(d))return null;const k=b().HEAP8U;let A=d;for(;k[A]!==0;++A);return A-d};const P=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,W=function(d,k,A){return a.utf8Decoder.decode(d.buffer instanceof P?d.slice(k,A):d.subarray(k,A))};n.cstrToJs=function(d){const k=n.cstrlen(d);return k?W(b().HEAP8U,d,d+k):k===null?k:""},n.jstrlen=function(d){if(typeof d!="string")return null;const k=d.length;let A=0;for(let N=0;N<k;++N){let m=d.charCodeAt(N);m>=55296&&m<=57343&&(m=65536+((m&1023)<<10)|d.charCodeAt(++N)&1023),m<=127?++A:m<=2047?A+=2:m<=65535?A+=3:A+=4}return A},n.jstrcpy=function(d,k,A=0,N=-1,m=!0){if((!k||!(k instanceof Int8Array)&&!(k instanceof Uint8Array))&&i("jstrcpy() target must be an Int8Array or Uint8Array."),N<0&&(N=k.length-A),!(N>0)||!(A>=0))return 0;let _=0,c=d.length;const p=A,S=A+N-(m?1:0);for(;_<c&&A<S;++_){let O=d.charCodeAt(_);if(O>=55296&&O<=57343&&(O=65536+((O&1023)<<10)|d.charCodeAt(++_)&1023),O<=127){if(A>=S)break;k[A++]=O}else if(O<=2047){if(A+1>=S)break;k[A++]=192|O>>6,k[A++]=128|O&63}else if(O<=65535){if(A+2>=S)break;k[A++]=224|O>>12,k[A++]=128|O>>6&63,k[A++]=128|O&63}else{if(A+3>=S)break;k[A++]=240|O>>18,k[A++]=128|O>>12&63,k[A++]=128|O>>6&63,k[A++]=128|O&63}}return m&&(k[A++]=0),A-p},n.cstrncpy=function(d,k,A){if((!d||!k)&&i("cstrncpy() does not accept NULL strings."),A<0)A=n.cstrlen(strPtr)+1;else if(!(A>0))return 0;const N=n.heap8u();let m=0,_;for(;m<A&&(_=N[k+m]);++m)N[d+m]=_;return m<A&&(N[d+m++]=0),m},n.jstrToUintArray=(d,k=!1)=>a.utf8Encoder.encode(k?d+"\0":d);const G=(d,k)=>{(!(d.alloc instanceof Function)||!(d.dealloc instanceof Function))&&i("Object is missing alloc() and/or dealloc() function(s)","required by",k+"().")},ee=function(d,k,A,N){if(G(n,N),typeof d!="string")return null;{const m=a.utf8Encoder.encode(d),_=A(m.length+1),c=b().HEAP8U;return c.set(m,_),c[_+m.length]=0,k?[_,m.length]:_}};n.allocCString=(d,k=!1)=>ee(d,k,n.alloc,"allocCString()"),n.scopedAllocPush=function(){G(n,"scopedAllocPush");const d=[];return a.scopedAlloc.push(d),d},n.scopedAllocPop=function(d){G(n,"scopedAllocPop");const k=arguments.length?a.scopedAlloc.indexOf(d):a.scopedAlloc.length-1;k<0&&i("Invalid state object for scopedAllocPop()."),arguments.length===0&&(d=a.scopedAlloc[k]),a.scopedAlloc.splice(k,1);for(let A;A=d.pop();)n.functionEntry(A)?n.uninstallFunction(A):n.dealloc(A)},n.scopedAlloc=function(d){a.scopedAlloc.length||i("No scopedAllocPush() scope is active.");const k=n.alloc(d);return a.scopedAlloc[a.scopedAlloc.length-1].push(k),k},Object.defineProperty(n.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>a.scopedAlloc.length,set:()=>i("The 'active' property is read-only.")}),n.scopedAllocCString=(d,k=!1)=>ee(d,k,n.scopedAlloc,"scopedAllocCString()");const x=function(d,k){const A=n[d?"scopedAlloc":"alloc"]((k.length+1)*n.ptrSizeof);let N=0;return k.forEach(m=>{n.pokePtr(A+n.ptrSizeof*N++,n[d?"scopedAllocCString":"allocCString"](""+m))}),n.pokePtr(A+n.ptrSizeof*N,0),A};n.scopedAllocMainArgv=d=>x(!0,d),n.allocMainArgv=d=>x(!1,d),n.cArgvToJs=(d,k)=>{const A=[];for(let N=0;N<d;++N){const m=n.peekPtr(k+n.ptrSizeof*N);A.push(m?n.cstrToJs(m):null)}return A},n.scopedAllocCall=function(d){n.scopedAllocPush();try{return d()}finally{n.scopedAllocPop()}};const q=function(d,k,A){G(n,A);const N=k?"i64":s;let m=n[A](d*(k?8:o));if(n.poke(m,0,N),d===1)return m;const _=[m];for(let c=1;c<d;++c)m+=k?8:o,_[c]=m,n.poke(m,0,N);return _};n.allocPtr=(d=1,k=!0)=>q(d,k,"alloc"),n.scopedAllocPtr=(d=1,k=!0)=>q(d,k,"scopedAlloc"),n.xGet=function(d){return n.exports[d]||i("Cannot find exported symbol:",d)};const h=(d,k)=>i(d+"() requires",k,"argument(s).");n.xCall=function(d,...k){const A=n.xGet(d);return A instanceof Function||i("Exported symbol",d,"is not a function."),A.length!==k.length&&h(d,A.length),arguments.length===2&&Array.isArray(arguments[1])?A.apply(null,arguments[1]):A.apply(null,k)},a.xWrap=Object.create(null),a.xWrap.convert=Object.create(null),a.xWrap.convert.arg=new Map,a.xWrap.convert.result=new Map;const y=a.xWrap.convert.arg,w=a.xWrap.convert.result;n.bigIntEnabled&&y.set("i64",d=>BigInt(d));const v=s==="i32"?d=>d|0:d=>BigInt(d)|BigInt(0);y.set("i32",v).set("i16",d=>(d|0)&65535).set("i8",d=>(d|0)&255).set("f32",d=>Number(d).valueOf()).set("float",y.get("f32")).set("f64",y.get("f32")).set("double",y.get("f64")).set("int",y.get("i32")).set("null",d=>d).set(null,y.get("null")).set("**",v).set("*",v),w.set("*",v).set("pointer",v).set("number",d=>Number(d)).set("void",d=>{}).set("null",d=>d).set(null,w.get("null"));{const d=["i8","i16","i32","int","f32","float","f64","double"];n.bigIntEnabled&&d.push("i64");const k=y.get(s);for(const A of d)y.set(A+"*",k),w.set(A+"*",k),w.set(A,y.get(A)||i("Missing arg converter:",A))}const D=function(d){return typeof d=="string"?n.scopedAllocCString(d):d?v(d):null};y.set("string",D).set("utf8",D).set("pointer",D),w.set("string",d=>n.cstrToJs(d)).set("utf8",w.get("string")).set("string:dealloc",d=>{try{return d?n.cstrToJs(d):null}finally{n.dealloc(d)}}).set("utf8:dealloc",w.get("string:dealloc")).set("json",d=>JSON.parse(n.cstrToJs(d))).set("json:dealloc",d=>{try{return d?JSON.parse(n.cstrToJs(d)):null}finally{n.dealloc(d)}});const z=class{constructor(d){this.name=d.name||"unnamed adapter"}convertArg(d,k,A){i("AbstractArgAdapter must be subclassed.")}};y.FuncPtrAdapter=class Je extends z{constructor(k){super(k),y.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",k),this.signature=k.signature,k.contextKey instanceof Function&&(this.contextKey=k.contextKey,k.bindScope||(k.bindScope="context")),this.bindScope=k.bindScope||i("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Je.bindScopes.indexOf(k.bindScope)<0&&i("Invalid options.bindScope ("+k.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Je.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=k.callProxy instanceof Function?k.callProxy:void 0}static warnOnUse=!1;static debugFuncInstall=!1;static debugOut=console.debug.bind(console);static bindScopes=["transient","context","singleton","permanent"];contextKey(k,A){return this}contextMap(k){const A=this.__cmap||(this.__cmap=new Map);let N=A.get(k);return N===void 0&&A.set(k,N=[]),N}convertArg(k,A,N){let m=this.singleton;if(!m&&this.isContext&&(m=this.contextMap(this.contextKey(A,N))),m&&m[0]===k)return m[1];if(k instanceof Function){this.callProxy&&(k=this.callProxy(k));const _=E(k,this.signature,this.isTransient);if(Je.debugFuncInstall&&Je.debugOut("FuncPtrAdapter installed",this,this.contextKey(A,N),"@"+_,k),m){if(m[1]){Je.debugFuncInstall&&Je.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(A,N),"@"+m[1],k);try{n.uninstallFunction(m[1])}catch{}}m[0]=k,m[1]=_}return _}else if(n.isPtr(k)||k===null||k===void 0){if(m&&m[1]&&m[1]!==k){Je.debugFuncInstall&&Je.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(A,N),"@"+m[1],k);try{n.uninstallFunction(m[1])}catch{}m[0]=m[1]=k|0}return k||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}};const L=d=>y.get(d)||i("Argument adapter not found:",d),Q=d=>w.get(d)||i("Result adapter not found:",d);a.xWrap.convertArg=(d,...k)=>L(d)(...k),a.xWrap.convertArgNoCheck=(d,...k)=>y.get(d)(...k),a.xWrap.convertResult=(d,k)=>d===null?k:d?Q(d)(k):void 0,a.xWrap.convertResultNoCheck=(d,k)=>d===null?k:d?w.get(d)(k):void 0,n.xWrap=function(d,k,...A){arguments.length===3&&Array.isArray(arguments[2])&&(A=arguments[2]),n.isPtr(d)&&(d=n.functionEntry(d)||i("Function pointer not found in WASM function table."));const N=d instanceof Function,m=N?d:n.xGet(d);if(N&&(d=m.name||"unnamed function"),A.length!==m.length&&h(d,m.length),k===null&&m.length===0)return m;k!=null&&Q(k);for(const c of A)c instanceof z?y.set(c,(...p)=>c.convertArg(...p)):L(c);const _=a.xWrap;return m.length===0?(...c)=>c.length?h(d,m.length):_.convertResult(k,m.call(null)):function(...c){c.length!==m.length&&h(d,m.length);const p=n.scopedAllocPush();try{for(const S in c)c[S]=_.convertArgNoCheck(A[S],c[S],c,S);return _.convertResultNoCheck(k,m.apply(null,c))}finally{n.scopedAllocPop(p)}}};const H=function(d,k,A,N,m,_){if(typeof A=="string"){if(k===1)return _.get(A);if(k===2){if(N)N instanceof Function||i(m,"requires a function argument.");else return delete _.get(A),d;return _.set(A,N),d}}i("Invalid arguments to",m)};return n.xWrap.resultAdapter=function d(k,A){return H(d,arguments.length,k,A,"resultAdapter()",w)},n.xWrap.argAdapter=function d(k,A){return H(d,arguments.length,k,A,"argAdapter()",y)},n.xWrap.FuncPtrAdapter=y.FuncPtrAdapter,n.xCallWrapped=function(d,k,A,...N){return Array.isArray(arguments[3])&&(N=arguments[3]),n.xWrap(d,k,A||[]).apply(null,N||[])},n.xWrap.testConvertArg=a.xWrap.convertArg,n.xWrap.testConvertResult=a.xWrap.convertResult,n},self.WhWasmUtilInstaller.yawl=function(n){const i=()=>fetch(n.uri,{credentials:"same-origin"}),s=this,o=function(b){if(n.wasmUtilTarget){const E=(...W)=>{throw new Error(W.join(" "))},P=n.wasmUtilTarget;if(P.module=b.module,P.instance=b.instance,P.instance.exports.memory||(P.memory=n.imports&&n.imports.env&&n.imports.env.memory||E("Missing 'memory' object!")),!P.alloc&&b.instance.exports.malloc){const W=b.instance.exports;P.alloc=function(G){return W.malloc(G)||E("Allocation of",G,"bytes failed.")},P.dealloc=function(G){W.free(G)}}s(P)}return n.onload&&n.onload(b,n),b};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(i(),n.imports||{}).then(o)}:function(){return i().then(E=>E.arrayBuffer()).then(E=>WebAssembly.instantiate(E,n.imports||{})).then(o)}}.bind(self.WhWasmUtilInstaller),self.Jaccwabyt=function n(i){const s=(...F)=>{throw new Error(F.join(" "))};!(i.heap instanceof WebAssembly.Memory)&&!(i.heap instanceof Function)&&s("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(F){i[F]instanceof Function||s("Config option '"+F+"' must be a function.")});const o=n,a=i.heap instanceof Function?i.heap:()=>new Uint8Array(i.heap.buffer),b=i.alloc,E=i.dealloc,P=i.log||console.log.bind(console),W=i.memberPrefix||"",G=i.memberSuffix||"",ee=i.bigIntEnabled===void 0?!!self.BigInt64Array:!!i.bigIntEnabled,x=self.BigInt,q=self.BigInt64Array,h=i.ptrSizeof||4,y=i.ptrIR||"i32";o.debugFlags||(o.__makeDebugFlags=function(F=null){F&&F.__flags&&(F=F.__flags);const $=function K(Y){return arguments.length===0?K.__flags:(Y<0?(delete K.__flags.getter,delete K.__flags.setter,delete K.__flags.alloc,delete K.__flags.dealloc):(K.__flags.getter=(1&Y)!==0,K.__flags.setter=(2&Y)!==0,K.__flags.alloc=(4&Y)!==0,K.__flags.dealloc=(8&Y)!==0),K._flags)};return Object.defineProperty($,"__flags",{iterable:!1,writable:!1,value:Object.create(F)}),F||$(0),$},o.debugFlags=o.__makeDebugFlags());const w=function(){const F=new ArrayBuffer(2);return new DataView(F).setInt16(0,256,!0),new Int16Array(F)[0]===256}(),v=F=>F[1]==="(",D=F=>F==="P",z=F=>v(F)?"p":F[0],L=function(F){switch(z(F)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return y;case"j":return"i64";case"f":return"float";case"d":return"double"}s("Unhandled signature IR:",F)},Q=q?()=>!0:()=>s("BigInt64Array is not available."),H=function(F){switch(z(F)){case"p":case"P":case"s":{switch(h){case 4:return"getInt32";case 8:return Q()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Q()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}s("Unhandled DataView getter for signature:",F)},d=function(F){switch(z(F)){case"p":case"P":case"s":{switch(h){case 4:return"setInt32";case 8:return Q()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Q()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}s("Unhandled DataView setter for signature:",F)},k=function(F){switch(z(F)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Q()&&x;case"p":case"P":case"s":switch(h){case 4:return Number;case 8:return Q()&&x}break}s("Unhandled DataView set wrapper for signature:",F)},A=(F,$)=>F+"::"+$,N=function(F,$){return()=>s(A(F,$),"is read-only.")},m=new WeakMap,_="(pointer-is-external)",c=function(F,$,K){if(K||(K=m.get($)),K){if(m.delete($),Array.isArray($.ondispose)){let Y;for(;Y=$.ondispose.shift();)try{Y instanceof Function?Y.call($):Y instanceof Te?Y.dispose():typeof Y=="number"&&E(Y)}catch(Ee){console.warn("ondispose() for",F.structName,"@",K,"threw. NOT propagating it.",Ee)}}else if($.ondispose instanceof Function)try{$.ondispose()}catch(Y){console.warn("ondispose() for",F.structName,"@",K,"threw. NOT propagating it.",Y)}delete $.ondispose,F.debugFlags.__flags.dealloc&&P("debug.dealloc:",$[_]?"EXTERNAL":"",F.structName,"instance:",F.structInfo.sizeof,"bytes @"+K),$[_]||E(K)}},p=F=>({configurable:!1,writable:!1,iterable:!1,value:F}),S=function(F,$,K){let Y=!K;K?Object.defineProperty($,_,p(K)):(K=b(F.structInfo.sizeof),K||s("Allocation of",F.structName,"structure failed."));try{F.debugFlags.__flags.alloc&&P("debug.alloc:",Y?"":"EXTERNAL",F.structName,"instance:",F.structInfo.sizeof,"bytes @"+K),Y&&a().fill(0,K,K+F.structInfo.sizeof),m.set($,K)}catch(Ee){throw c(F,$,K),Ee}},O=function(){const F=this.pointer;return F?new Uint8Array(a().slice(F,F+this.structInfo.sizeof)):null},se=p(F=>W+F+G),te=function(F,$,K=!0){let Y=F.members[$];if(!Y&&(W||G)){for(const Ee of Object.values(F.members))if(Ee.key===$){Y=Ee;break}!Y&&K&&s(A(F.name,$),"is not a mapped struct member.")}return Y},le=function F($,K,Y=!1){F._||(F._=Ie=>Ie.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const Ee=te($.structInfo,K,!0);return Y?F._(Ee.signature):Ee.signature},pe={configurable:!1,enumerable:!1,get:function(){return m.get(this)},set:()=>s("Cannot assign the 'pointer' property of a struct.")},ue=p(function(){const F=[];for(const $ of Object.keys(this.structInfo.members))F.push(this.memberKey($));return F}),ke=new TextDecoder("utf-8"),I=new TextEncoder,U=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,j=function(F,$,K){return ke.decode(F.buffer instanceof U?F.slice($,K):F.subarray($,K))},J=function(F,$,K=!1){const Y=te(F.structInfo,$,K);return Y&&Y.signature.length===1&&Y.signature[0]==="s"?Y:!1},V=function(F){F.signature!=="s"&&s("Invalid member type signature for C-string value:",JSON.stringify(F))},ye=function($,K){const Y=te($.structInfo,K,!0);V(Y);const Ee=$[Y.key];if(!Ee)return null;let Ie=Ee;const Se=a();for(;Se[Ie]!==0;++Ie);return Ee===Ie?"":j(Se,Ee,Ie)},we=function(F,...$){F.ondispose?Array.isArray(F.ondispose)||(F.ondispose=[F.ondispose]):F.ondispose=[],F.ondispose.push(...$)},re=function(F){const $=I.encode(F),K=b($.length+1);K||s("Allocation error while duplicating string:",F);const Y=a();return Y.set($,K),Y[K+$.length]=0,K},He=function(F,$,K){const Y=te(F.structInfo,$,!0);V(Y);const Ee=re(K);return F[Y.key]=Ee,we(F,Ee),F},Te=function($,K){arguments[2]!==p&&s("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:p($),structInfo:p(K)})};Te.prototype=Object.create(null,{dispose:p(function(){c(this.constructor,this)}),lookupMember:p(function(F,$=!0){return te(this.structInfo,F,$)}),memberToJsString:p(function(F){return ye(this,F)}),memberIsString:p(function(F,$=!0){return J(this,F,$)}),memberKey:se,memberKeys:ue,memberSignature:p(function(F,$=!1){return le(this,F,$)}),memoryDump:p(O),pointer:pe,setMemberCString:p(function(F,$){return He(this,F,$)})}),Object.assign(Te.prototype,{addOnDispose:function(...F){return we(this,...F),this}}),Object.defineProperties(Te,{allocCString:p(re),isA:p(F=>F instanceof Te),hasExternalPointer:p(F=>F instanceof Te&&!!F[_]),memberKey:se});const De=F=>Number.isFinite(F)||F instanceof(x||Number),Be=function F($,K,Y){if(!F._){F._={getters:{},setters:{},sw:{}};const Ce=["i","c","C","p","P","s","f","d","v()"];ee&&Ce.push("j"),Ce.forEach(function(Ve){F._.getters[Ve]=H(Ve),F._.setters[Ve]=d(Ve),F._.sw[Ve]=k(Ve)});const Lr=/^[ipPsjfdcC]$/,Rr=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;F.sigCheck=function(Ve,Dr,an,St){Object.prototype.hasOwnProperty.call(Ve,an)&&s(Ve.structName,"already has a property named",an+"."),Lr.test(St)||Rr.test(St)||s("Malformed signature for",A(Ve.structName,Dr)+":",St)}}const Ee=$.memberKey(K);F.sigCheck($.prototype,K,Ee,Y.signature),Y.key=Ee,Y.name=K;const Ie=z(Y.signature),Se=A($.prototype.structName,Ee),Ae=$.prototype.debugFlags.__flags,st=Object.create(null);st.configurable=!1,st.enumerable=!1,st.get=function(){Ae.getter&&P("debug.getter:",F._.getters[Ie],"for",L(Ie),Se,"@",this.pointer,"+",Y.offset,"sz",Y.sizeof);let Ce=new DataView(a().buffer,this.pointer+Y.offset,Y.sizeof)[F._.getters[Ie]](0,w);return Ae.getter&&P("debug.getter:",Se,"result =",Ce),Ce},Y.readOnly?st.set=N($.prototype.structName,Ee):st.set=function(Ce){if(Ae.setter&&P("debug.setter:",F._.setters[Ie],"for",L(Ie),Se,"@",this.pointer,"+",Y.offset,"sz",Y.sizeof,Ce),this.pointer||s("Cannot set struct property on disposed instance."),Ce===null)Ce=0;else for(;!De(Ce);){if(D(Y.signature)&&Ce instanceof Te){Ce=Ce.pointer||0,Ae.setter&&P("debug.setter:",Se,"resolved to",Ce);break}s("Invalid value for pointer-type",Se+".")}new DataView(a().buffer,this.pointer+Y.offset,Y.sizeof)[F._.setters[Ie]](0,F._.sw[Ie](Ce),w)},Object.defineProperty($.prototype,Ee,st)},Oe=function F($,K){arguments.length===1?(K=$,$=K.name):K.name||(K.name=$),$||s("Struct name is required.");let Y=!1;Object.keys(K.members).forEach(Se=>{const Ae=K.members[Se];Ae.sizeof?Ae.sizeof===1?Ae.signature==="c"||Ae.signature==="C"||s("Unexpected sizeof==1 member",A(K.name,Se),"with signature",Ae.signature):(Ae.sizeof%4!==0&&(console.warn("Invalid struct member description =",Ae,"from",K),s($,"member",Se,"sizeof is not aligned. sizeof="+Ae.sizeof)),Ae.offset%4!==0&&(console.warn("Invalid struct member description =",Ae,"from",K),s($,"member",Se,"offset is not aligned. offset="+Ae.offset))):s($,"member",Se,"is missing sizeof."),(!Y||Y.offset<Ae.offset)&&(Y=Ae)}),Y?K.sizeof<Y.offset+Y.sizeof&&s("Invalid struct config:",$,"max member offset ("+Y.offset+") ","extends past end of struct (sizeof="+K.sizeof+")."):s("No member property descriptions found.");const Ee=p(o.__makeDebugFlags(F.debugFlags)),Ie=function Se(Ae){this instanceof Se?arguments.length?((Ae!==(Ae|0)||Ae<=0)&&s("Invalid pointer value for",$,"constructor."),S(Se,this,Ae)):S(Se,this):s("The",$,"constructor may only be called via 'new'.")};return Object.defineProperties(Ie,{debugFlags:Ee,isA:p(Se=>Se instanceof Ie),memberKey:se,memberKeys:ue,methodInfoForKey:p(function(Se){}),structInfo:p(K),structName:p($)}),Ie.prototype=new Te($,K,p),Object.defineProperties(Ie.prototype,{debugFlags:Ee,constructor:p(Ie)}),Object.keys(K.members).forEach(Se=>Be(Ie,Se,K.members[Se])),Ie};return Oe.StructType=Te,Oe.config=i,Oe.allocCString=re,Oe.debugFlags||(Oe.debugFlags=o.__makeDebugFlags(o.debugFlags)),Oe},self.sqlite3ApiBootstrap.initializers.push(function(n){const i=(...x)=>{throw new Error(x.join(" "))};n.SQLite3Error.toss;const s=n.capi,o=n.wasm,a=n.util;if(self.WhWasmUtilInstaller(o),delete self.WhWasmUtilInstaller,o.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(x,q)=>x[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:x=>x[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new o.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:x=>{let q;return(h,y,w,v)=>{try{const D=o.cArgvToJs(y,w);return q||(q=o.cArgvToJs(y,v)),x(D,q)|0}catch(D){return D.resultCode||s.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new o.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(x,q)=>x[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:x=>x[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(x,q)=>x[0],callProxy:x=>(q,h,y,w,v,D)=>{try{return y=y&&o.cstrToJs(y),w=w&&o.cstrToJs(w),v=v&&o.cstrToJs(v),D=D&&o.cstrToJs(D),x(q,h,y,w,v,D)||0}catch(z){return z.resultCode||s.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new o.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(x,q)=>x[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new o.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(x,q)=>x[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],o.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:x=>x[0],callProxy:x=>(q,h,y,w,v,D,z)=>{x(q,h,y,o.cstrToJs(w),o.cstrToJs(v),D,z)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:x=>x[0],callProxy:x=>(q,h,y,w,v)=>{x(q,h,o.cstrToJs(y),o.cstrToJs(w),v)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],o.bigIntEnabled&&o.exports.sqlite3changegroup_add){const x={signature:"i(ps)",callProxy:q=>(h,y)=>{try{return q(h,o.cstrToJs(y))|0}catch(w){return w.resultCode||s.SQLITE_ERROR}}};o.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...x}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...x}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...x}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...x}),new o.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new o.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new o.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new o.xWrap.FuncPtrAdapter({name:"xFilter",...x,contextKey:(q,h)=>q[0]}),"*"]])}o.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],n.StructBinder=self.Jaccwabyt({heap:o.heap8u,alloc:o.alloc,dealloc:o.dealloc,bigIntEnabled:o.bigIntEnabled,memberPrefix:"$"}),delete self.Jaccwabyt;{const x=o.xWrap.argAdapter("string");o.xWrap.argAdapter("string:flexible",v=>x(a.flexibleString(v))),o.xWrap.argAdapter("string:static",function(v){return o.isPtr(v)?v:(v=""+v,this[v]||(this[v]=o.allocCString(v)))}.bind(Object.create(null)));const q=o.xWrap.argAdapter("*"),h=function(){};o.xWrap.argAdapter("sqlite3_filename",q)("sqlite3_context*",q)("sqlite3_value*",q)("void*",q)("sqlite3_changegroup*",q)("sqlite3_changeset_iter*",q)("sqlite3_session*",q)("sqlite3_stmt*",v=>q(v instanceof(n?.oo1?.Stmt||h)?v.pointer:v))("sqlite3*",v=>q(v instanceof(n?.oo1?.DB||h)?v.pointer:v))("sqlite3_index_info*",v=>q(v instanceof(s.sqlite3_index_info||h)?v.pointer:v))("sqlite3_module*",v=>q(v instanceof(s.sqlite3_module||h)?v.pointer:v))("sqlite3_vfs*",v=>typeof v=="string"?s.sqlite3_vfs_find(v)||n.SQLite3Error.toss(s.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",v):q(v instanceof(s.sqlite3_vfs||h)?v.pointer:v));const y=o.xWrap.resultAdapter("*");o.xWrap.resultAdapter("sqlite3*",y)("sqlite3_context*",y)("sqlite3_stmt*",y)("sqlite3_value*",y)("sqlite3_vfs*",y)("void*",y);for(const v of o.bindingSignatures)s[v[0]]=o.xWrap.apply(null,v);for(const v of o.bindingSignatures.wasm)o[v[0]]=o.xWrap.apply(null,v);const w=function(v){return()=>i(v+"() is unavailable due to lack","of BigInt support in this build.")};for(const v of o.bindingSignatures.int64)s[v[0]]=o.bigIntEnabled?o.xWrap.apply(null,v):w(v[0]);if(delete o.bindingSignatures,o.exports.sqlite3_wasm_db_error){const v=o.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");a.sqlite3_wasm_db_error=function(D,z,L){return z instanceof n.WasmAllocError?(z=s.SQLITE_NOMEM,L=0):z instanceof Error&&(L=L||""+z,z=z.resultCode||s.SQLITE_ERROR),D?v(D,z,L):z}}else a.sqlite3_wasm_db_error=function(v,D,z){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),D}}{const x=o.xCall("sqlite3_wasm_enum_json");x||i("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),o.ctype=JSON.parse(o.cstrToJs(x));const q=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];o.bigIntEnabled&&q.push("serialize","session","vtab");for(const w of q)for(const v of Object.entries(o.ctype[w]))s[v[0]]=v[1];o.functionEntry(s.SQLITE_WASM_DEALLOC)||i("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+s.SQLITE_WASM_DEALLOC+").");const h=Object.create(null);for(const w of["resultCodes"])for(const v of Object.entries(o.ctype[w]))h[v[1]]=v[0];s.sqlite3_js_rc_str=w=>h[w];const y=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!a.isUIThread(),sqlite3_index_info:!o.bigIntEnabled,sqlite3_index_constraint:!o.bigIntEnabled,sqlite3_index_orderby:!o.bigIntEnabled,sqlite3_index_constraint_usage:!o.bigIntEnabled});for(const w of o.ctype.structs)y[w.name]||(s[w.name]=n.StructBinder(w));if(s.sqlite3_index_info){for(const w of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])s.sqlite3_index_info[w]=s[w],delete s[w];s.sqlite3_vtab_config=o.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const b=(x,q,h)=>n.util.sqlite3_wasm_db_error(x,s.SQLITE_MISUSE,q+"() requires "+h+" argument"+(h===1?"":"s")+"."),E=x=>a.sqlite3_wasm_db_error(x,s.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),P=x=>o.xWrap.argAdapter("sqlite3*")(x),W=x=>o.isPtr(x)?o.cstrToJs(x):x,G=function(x,q){x=P(x);let h=this.dbMap.get(x);if(q)!h&&q>0&&this.dbMap.set(x,h=Object.create(null));else return this.dbMap.delete(x),h;return h}.bind(Object.assign(Object.create(null),{dbMap:new Map}));G.addCollation=function(x,q){const h=G(x,1);h.collation||(h.collation=new Set),h.collation.add(W(q).toLowerCase())},G._addUDF=function(x,q,h,y){q=W(q).toLowerCase();let w=y.get(q);w||y.set(q,w=new Set),w.add(h<0?-1:h)},G.addFunction=function(x,q,h){const y=G(x,1);y.udf||(y.udf=new Map),this._addUDF(x,q,h,y.udf)},G.addWindowFunc=function(x,q,h){const y=G(x,1);y.wudf||(y.wudf=new Map),this._addUDF(x,q,h,y.wudf)},G.cleanup=function(x){x=P(x);const q=[x];for(const w of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const v=o.exports[w];q.length=v.length;try{s[w](...q)}catch(D){console.warn("close-time call of",w+"(",q,") threw:",D)}}const h=G(x,0);if(!h)return;if(h.collation){for(const w of h.collation)try{s.sqlite3_create_collation_v2(x,w,s.SQLITE_UTF8,0,0,0)}catch{}delete h.collation}let y;for(y=0;y<2;++y){const w=y?h.wudf:h.udf;if(!w)continue;const v=y?s.sqlite3_create_window_function:s.sqlite3_create_function_v2;for(const D of w){const z=D[0],L=D[1],Q=[x,z,0,s.SQLITE_UTF8,0,0,0,0,0];y&&Q.push(0);for(const H of L)try{Q[2]=H,v.apply(null,Q)}catch{}L.clear()}w.clear()}delete h.udf,delete h.wudf};{const x=o.xWrap("sqlite3_close_v2","int","sqlite3*");s.sqlite3_close_v2=function(q){if(arguments.length!==1)return b(q,"sqlite3_close_v2",1);if(q)try{G.cleanup(q)}catch{}return x(q)}}if(s.sqlite3session_table_filter){const x=o.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);s.sqlite3session_delete=function(q){if(arguments.length!==1)return b(pDb,"sqlite3session_delete",1);q&&s.sqlite3session_table_filter(q,0,0),x(q)}}{const x=(h,y)=>"argv["+y+"]:"+h[0]+":"+o.cstrToJs(h[1]).toLowerCase(),q=o.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new o.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:x}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:x})]);s.sqlite3_create_collation_v2=function(h,y,w,v,D,z){if(arguments.length!==6)return b(h,"sqlite3_create_collation_v2",6);if(!(w&15))w|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(w&15))return E(h);try{const L=q(h,y,w,v,D,z);return L===0&&D instanceof Function&&G.addCollation(h,y),L}catch(L){return a.sqlite3_wasm_db_error(h,L)}},s.sqlite3_create_collation=(h,y,w,v,D)=>arguments.length===5?s.sqlite3_create_collation_v2(h,y,w,v,D,0):b(h,"sqlite3_create_collation",5)}{const x=function(w,v){return w[0]+":"+(w[2]<0?-1:w[2])+":"+v+":"+o.cstrToJs(w[1]).toLowerCase()},q=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:x,callProxy:w=>(v,D,z)=>{try{w(v,...s.sqlite3_values_to_js(D,z))}catch(L){s.sqlite3_result_error_js(v,L)}}},xFinalAndValue:{signature:"v(p)",contextKey:x,callProxy:w=>v=>{try{s.sqlite3_result_js(v,w(v))}catch(D){s.sqlite3_result_error_js(v,D)}}},xFunc:{signature:"v(pip)",contextKey:x,callProxy:w=>(v,D,z)=>{try{s.sqlite3_result_js(v,w(v,...s.sqlite3_values_to_js(D,z)))}catch(L){s.sqlite3_result_error_js(v,L)}}},xDestroy:{signature:"v(p)",contextKey:x,callProxy:w=>v=>{try{w(v)}catch(D){console.error("UDF xDestroy method threw:",D)}}}}),h=o.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new o.xWrap.FuncPtrAdapter({name:"xFunc",...q.xFunc}),new o.xWrap.FuncPtrAdapter({name:"xStep",...q.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xFinal",...q.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",...q.xDestroy})]),y=o.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new o.xWrap.FuncPtrAdapter({name:"xStep",...q.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xFinal",...q.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xValue",...q.xFinalAndValue}),new o.xWrap.FuncPtrAdapter({name:"xInverse",...q.xInverseAndStep}),new o.xWrap.FuncPtrAdapter({name:"xDestroy",...q.xDestroy})]);s.sqlite3_create_function_v2=function w(v,D,z,L,Q,H,d,k,A){if(w.length!==arguments.length)return b(v,"sqlite3_create_function_v2",w.length);if(!(L&15))L|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(L&15))return E(v);try{const N=h(v,D,z,L,Q,H,d,k,A);return N===0&&(H instanceof Function||d instanceof Function||k instanceof Function||A instanceof Function)&&G.addFunction(v,D,z),N}catch(N){return console.error("sqlite3_create_function_v2() setup threw:",N),a.sqlite3_wasm_db_error(v,N,"Creation of UDF threw: "+N)}},s.sqlite3_create_function=function w(v,D,z,L,Q,H,d,k){return w.length===arguments.length?s.sqlite3_create_function_v2(v,D,z,L,Q,H,d,k,0):b(v,"sqlite3_create_function",w.length)},s.sqlite3_create_window_function=function w(v,D,z,L,Q,H,d,k,A,N){if(w.length!==arguments.length)return b(v,"sqlite3_create_window_function",w.length);if(!(L&15))L|=s.SQLITE_UTF8;else if(s.SQLITE_UTF8!==(L&15))return E(v);try{const m=y(v,D,z,L,Q,H,d,k,A,N);return m===0&&(H instanceof Function||d instanceof Function||k instanceof Function||A instanceof Function||N instanceof Function)&&G.addWindowFunc(v,D,z),m}catch(m){return console.error("sqlite3_create_window_function() setup threw:",m),a.sqlite3_wasm_db_error(v,m,"Creation of UDF threw: "+m)}},s.sqlite3_create_function_v2.udfSetResult=s.sqlite3_create_function.udfSetResult=s.sqlite3_create_window_function.udfSetResult=s.sqlite3_result_js,s.sqlite3_create_function_v2.udfConvertArgs=s.sqlite3_create_function.udfConvertArgs=s.sqlite3_create_window_function.udfConvertArgs=s.sqlite3_values_to_js,s.sqlite3_create_function_v2.udfSetError=s.sqlite3_create_function.udfSetError=s.sqlite3_create_window_function.udfSetError=s.sqlite3_result_error_js}{const x=(h,y)=>(typeof h=="string"?y=-1:a.isSQLableTypedArray(h)?(y=h.byteLength,h=a.typedArrayToString(h instanceof ArrayBuffer?new Uint8Array(h):h)):Array.isArray(h)&&(h=h.join(""),y=-1),[h,y]),q={basic:o.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:o.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};s.sqlite3_prepare_v3=function h(y,w,v,D,z,L){if(h.length!==arguments.length)return b(y,"sqlite3_prepare_v3",h.length);const[Q,H]=x(w,v);switch(typeof Q){case"string":return q.basic(y,Q,H,D,z,null);case"number":return q.full(y,Q,H,D,z,L);default:return a.sqlite3_wasm_db_error(y,s.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},s.sqlite3_prepare_v2=function h(y,w,v,D,z){return h.length===arguments.length?s.sqlite3_prepare_v3(y,w,v,0,D,z):b(y,"sqlite3_prepare_v2",h.length)}}{const x=o.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),q=o.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);s.sqlite3_bind_text=function h(y,w,v,D,z){if(h.length!==arguments.length)return b(s.sqlite3_db_handle(y),"sqlite3_bind_text",h.length);if(o.isPtr(v)||v===null)return x(y,w,v,D,z);v instanceof ArrayBuffer?v=new Uint8Array(v):Array.isArray(pMem)&&(v=pMem.join(""));let L,Q;try{if(a.isSQLableTypedArray(v))L=o.allocFromTypedArray(v),Q=v.byteLength;else if(typeof v=="string")[L,Q]=o.allocCString(v);else return a.sqlite3_wasm_db_error(s.sqlite3_db_handle(y),s.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return x(y,w,L,Q,s.SQLITE_WASM_DEALLOC)}catch(H){return o.dealloc(L),a.sqlite3_wasm_db_error(s.sqlite3_db_handle(y),H)}},s.sqlite3_bind_blob=function h(y,w,v,D,z){if(h.length!==arguments.length)return b(s.sqlite3_db_handle(y),"sqlite3_bind_blob",h.length);if(o.isPtr(v)||v===null)return q(y,w,v,D,z);v instanceof ArrayBuffer?v=new Uint8Array(v):Array.isArray(v)&&(v=v.join(""));let L,Q;try{if(a.isBindableTypedArray(v))L=o.allocFromTypedArray(v),Q=D>=0?D:v.byteLength;else if(typeof v=="string")[L,Q]=o.allocCString(v);else return a.sqlite3_wasm_db_error(s.sqlite3_db_handle(y),s.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return q(y,w,L,Q,s.SQLITE_WASM_DEALLOC)}catch(H){return o.dealloc(L),a.sqlite3_wasm_db_error(s.sqlite3_db_handle(y),H)}}}s.sqlite3_config=function(x,...q){if(arguments.length<2)return s.SQLITE_MISUSE;switch(x){case s.SQLITE_CONFIG_COVERING_INDEX_SCAN:case s.SQLITE_CONFIG_MEMSTATUS:case s.SQLITE_CONFIG_SMALL_MALLOC:case s.SQLITE_CONFIG_SORTERREF_SIZE:case s.SQLITE_CONFIG_STMTJRNL_SPILL:case s.SQLITE_CONFIG_URI:return o.exports.sqlite3_wasm_config_i(x,q[0]);case s.SQLITE_CONFIG_LOOKASIDE:return o.exports.sqlite3_wasm_config_ii(x,q[0],q[1]);case s.SQLITE_CONFIG_MEMDB_MAXSIZE:return o.exports.sqlite3_wasm_config_j(x,q[0]);case s.SQLITE_CONFIG_GETMALLOC:case s.SQLITE_CONFIG_GETMUTEX:case s.SQLITE_CONFIG_GETPCACHE2:case s.SQLITE_CONFIG_GETPCACHE:case s.SQLITE_CONFIG_HEAP:case s.SQLITE_CONFIG_LOG:case s.SQLITE_CONFIG_MALLOC:case s.SQLITE_CONFIG_MMAP_SIZE:case s.SQLITE_CONFIG_MULTITHREAD:case s.SQLITE_CONFIG_MUTEX:case s.SQLITE_CONFIG_PAGECACHE:case s.SQLITE_CONFIG_PCACHE2:case s.SQLITE_CONFIG_PCACHE:case s.SQLITE_CONFIG_PCACHE_HDRSZ:case s.SQLITE_CONFIG_PMASZ:case s.SQLITE_CONFIG_SERIALIZED:case s.SQLITE_CONFIG_SINGLETHREAD:case s.SQLITE_CONFIG_SQLLOG:case s.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return s.SQLITE_NOTFOUND}};{const x=new Set;s.sqlite3_auto_extension=function(q){if(q instanceof Function)q=o.installFunction("i(ppp)",q);else if(arguments.length!==1||!o.isPtr(q))return s.SQLITE_MISUSE;const h=o.exports.sqlite3_auto_extension(q);return q!==arguments[0]&&(h===0?x.add(q):o.uninstallFunction(q)),h},s.sqlite3_cancel_auto_extension=function(q){return!q||arguments.length!==1||!o.isPtr(q)?0:o.exports.sqlite3_cancel_auto_extension(q)},s.sqlite3_reset_auto_extension=function(){o.exports.sqlite3_reset_auto_extension();for(const q of x)o.uninstallFunction(q);x.clear()}}const ee=s.sqlite3_vfs_find("kvvfs");if(ee)if(a.isUIThread()){const x=new s.sqlite3_kvvfs_methods(o.exports.sqlite3_wasm_kvvfs_methods());delete s.sqlite3_kvvfs_methods;const q=o.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,h=o.pstack,y=v=>o.peek(v)===115?sessionStorage:localStorage,w={xRead:(v,D,z,L)=>{const Q=h.pointer,H=o.scopedAllocPush();try{const d=q(v,D);if(!d)return-3;const k=o.cstrToJs(d),A=y(v).getItem(k);if(!A)return-1;const N=A.length;if(L<=0)return N;if(L===1)return o.poke(z,0),N;const m=o.scopedAllocCString(A);return L>N+1&&(L=N+1),o.heap8u().copyWithin(z,m,m+L-1),o.poke(z+L-1,0),L-1}catch(d){return console.error("kvstorageRead()",d),-2}finally{h.restore(Q),o.scopedAllocPop(H)}},xWrite:(v,D,z)=>{const L=h.pointer;try{const Q=q(v,D);if(!Q)return 1;const H=o.cstrToJs(Q);return y(v).setItem(H,o.cstrToJs(z)),0}catch(Q){return console.error("kvstorageWrite()",Q),s.SQLITE_IOERR}finally{h.restore(L)}},xDelete:(v,D)=>{const z=h.pointer;try{const L=q(v,D);return L?(y(v).removeItem(o.cstrToJs(L)),0):1}catch(L){return console.error("kvstorageDelete()",L),s.SQLITE_IOERR}finally{h.restore(z)}}};for(const v of Object.keys(w))x[x.memberKey(v)]=o.installFunction(x.memberSignature(v),w[v])}else s.sqlite3_vfs_unregister(ee);o.xWrap.FuncPtrAdapter.warnOnUse=!0}),self.sqlite3ApiBootstrap.initializers.push(function(n){n.version={libVersion:"3.41.2",libVersionNumber:3041002,sourceId:"2023-03-22 11:56:21 0d1fc92f94cb6b76bffe3ec34d69cffde2924203304e8ffc4155597af0c191da",downloadVersion:3410200}}),self.sqlite3ApiBootstrap.initializers.push(function(n){const i=(...m)=>{throw new n.SQLite3Error(...m)},s=n.capi,o=n.wasm,a=n.util,b=new WeakMap,E=new WeakMap,P=(m,_,c)=>{const p=Object.getOwnPropertyDescriptor(m,_);return p?p.value:c},W=function(m,_){return _&&(m instanceof q&&(m=m.pointer),i("sqlite3 result code",_+":",m?s.sqlite3_errmsg(m):s.sqlite3_errstr(_))),arguments[0]},G=o.installFunction("i(ippp)",function(m,_,c,p){s.SQLITE_TRACE_STMT===m&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+_+":",o.cstrToJs(p))}.bind({counter:0})),ee=Object.create(null),x=function m(..._){if(!m._name2vfs){m._name2vfs=Object.create(null);const ue=typeof importScripts=="function"?ke=>i("The VFS for",ke,"is only available in the main window thread."):!1;m._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ue||(()=>"local")},m._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ue||(()=>"session")}}const c=m.normalizeArgs(..._);let p=c.filename,S=c.vfs,O=c.flags;(typeof p!="string"&&typeof p!="number"||typeof O!="string"||S&&typeof S!="string"&&typeof S!="number")&&(n.config.error("Invalid DB ctor args",c,arguments),i("Invalid arguments for DB constructor."));let C=typeof p=="number"?o.cstrToJs(p):p;const se=m._name2vfs[C];se&&(S=se.vfs,p=C=se.filename(C));let te,le=0;O.indexOf("c")>=0&&(le|=s.SQLITE_OPEN_CREATE|s.SQLITE_OPEN_READWRITE),O.indexOf("w")>=0&&(le|=s.SQLITE_OPEN_READWRITE),le===0&&(le|=s.SQLITE_OPEN_READONLY),le|=s.SQLITE_OPEN_EXRESCODE;const pe=o.pstack.pointer;try{const ue=o.pstack.allocPtr();let ke=s.sqlite3_open_v2(p,ue,le,S||0);te=o.peekPtr(ue),W(te,ke),s.sqlite3_extended_result_codes(te,1),O.indexOf("t")>=0&&s.sqlite3_trace_v2(te,s.SQLITE_TRACE_STMT,G,te)}catch(ue){throw te&&s.sqlite3_close_v2(te),ue}finally{o.pstack.restore(pe)}this.filename=C,b.set(this,te),E.set(this,Object.create(null));try{const ue=s.sqlite3_js_db_vfs(te);ue||i("Internal error: cannot get VFS for new db handle.");const ke=ee[ue];ke instanceof Function?ke(this,n):ke&&W(te,s.sqlite3_exec(te,ke,0,0,0))}catch(ue){throw this.close(),ue}};x.setVfsPostOpenSql=function(m,_){ee[m]=_},x.normalizeArgs=function(m=":memory:",_="c",c=null){const p={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(p,arguments[0]),p.flags===void 0&&(p.flags="c"),p.vfs===void 0&&(p.vfs=null),p.filename===void 0&&(p.filename=":memory:")):(p.filename=m,p.flags=_,p.vfs=c),p};const q=function(...m){x.apply(this,m)};q.dbCtorHelper=x;const h={null:1,number:2,string:3,boolean:4,blob:5};h.undefined==h.null,o.bigIntEnabled&&(h.bigint=h.number);const y=function(){h!==arguments[2]&&i(s.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],b.set(this,arguments[1]),this.columnCount=s.sqlite3_column_count(this.pointer),this.parameterCount=s.sqlite3_bind_parameter_count(this.pointer)},w=function(m){return m.pointer||i("DB has been closed."),m},v=function(m,_){return(_!==(_|0)||_<0||_>=m.columnCount)&&i("Column index",_,"is out of range."),m},D=function(m,_){const c=Object.create(null);switch(c.opt=Object.create(null),_.length){case 1:typeof _[0]=="string"||a.isSQLableTypedArray(_[0])||Array.isArray(_[0])?c.sql=_[0]:_[0]&&typeof _[0]=="object"&&(c.opt=_[0],c.sql=c.opt.sql);break;case 2:c.sql=_[0],c.opt=_[1];break;default:i("Invalid argument count for exec().")}c.sql=a.flexibleString(c.sql),typeof c.sql!="string"&&i("Missing SQL argument or unsupported SQL value type.");const p=c.opt;switch(p.returnValue){case"resultRows":p.resultRows||(p.resultRows=[]),c.returnVal=()=>p.resultRows;break;case"saveSql":p.saveSql||(p.saveSql=[]),c.returnVal=()=>p.saveSql;break;case void 0:case"this":c.returnVal=()=>m;break;default:i("Invalid returnValue value:",p.returnValue)}if(!p.callback&&!p.returnValue&&p.rowMode!==void 0&&(p.resultRows||(p.resultRows=[]),c.returnVal=()=>p.resultRows),p.callback||p.resultRows)switch(p.rowMode===void 0?"array":p.rowMode){case"object":c.cbArg=S=>S.get(Object.create(null));break;case"array":c.cbArg=S=>S.get([]);break;case"stmt":Array.isArray(p.resultRows)&&i("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),c.cbArg=S=>S;break;default:if(a.isInt32(p.rowMode)){c.cbArg=S=>S.get(p.rowMode);break}else if(typeof p.rowMode=="string"&&p.rowMode.length>1&&p.rowMode[0]==="$"){const S=p.rowMode.substr(1);c.cbArg=O=>{const C=O.get(Object.create(null))[S];return C===void 0?i(s.SQLITE_NOTFOUND,"exec(): unknown result column:",S):C};break}i("Invalid rowMode:",p.rowMode)}return c},z=(m,_,c,...p)=>{const S=m.prepare(_);try{return S.bind(c).step()?S.get(...p):void 0}finally{S.finalize()}},L=(m,_,c,p)=>m.exec({sql:_,bind:c,rowMode:p,returnValue:"resultRows"});q.checkRc=(m,_)=>W(m,_),q.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return w(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const m=this.pointer;if(Object.keys(E.get(this)).forEach((_,c)=>{c&&c.pointer&&c.finalize()}),b.delete(this),E.delete(this),s.sqlite3_close_v2(m),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(m=!1,_=!1){const c=w(this).pointer;return m?_?s.sqlite3_total_changes64(c):s.sqlite3_total_changes(c):_?s.sqlite3_changes64(c):s.sqlite3_changes(c)},dbFilename:function(m="main"){return s.sqlite3_db_filename(w(this).pointer,m)},dbName:function(m=0){return s.sqlite3_db_name(w(this).pointer,m)},dbVfsName:function(m=0){let _;const c=s.sqlite3_js_db_vfs(w(this).pointer,m);if(c){const p=new s.sqlite3_vfs(c);try{_=o.cstrToJs(p.$zName)}finally{p.dispose()}}return _},prepare:function(m){w(this);const _=o.pstack.pointer;let c,p;try{c=o.pstack.alloc(8),q.checkRc(this,s.sqlite3_prepare_v2(this.pointer,m,-1,c,null)),p=o.peekPtr(c)}finally{o.pstack.restore(_)}p||i("Cannot prepare empty SQL.");const S=new y(this,p,h);return E.get(this)[p]=S,S},exec:function(){w(this);const m=D(this,arguments);if(!m.sql)return i("exec() requires an SQL string.");const _=m.opt,c=_.callback,p=Array.isArray(_.resultRows)?_.resultRows:void 0;let S,O=_.bind,C=!!(m.cbArg||_.columnNames||p);const se=o.scopedAllocPush(),te=Array.isArray(_.saveSql)?_.saveSql:void 0;try{const le=a.isSQLableTypedArray(m.sql);let pe=le?m.sql.byteLength:o.jstrlen(m.sql);const ue=o.scopedAlloc(2*o.ptrSizeof+(pe+1)),ke=ue+o.ptrSizeof;let I=ke+o.ptrSizeof;const U=I+pe;for(le?o.heap8().set(m.sql,I):o.jstrcpy(m.sql,o.heap8(),I,pe,!1),o.poke(I+pe,0);I&&o.peek(I,"i8");){o.pokePtr([ue,ke],0),q.checkRc(this,s.sqlite3_prepare_v3(this.pointer,I,pe,0,ue,ke));const j=o.peekPtr(ue);if(I=o.peekPtr(ke),pe=U-I,!!j){if(te&&te.push(s.sqlite3_sql(j).trim()),S=new y(this,j,h),O&&S.parameterCount&&(S.bind(O),O=null),C&&S.columnCount){if(C=!1,Array.isArray(_.columnNames)&&S.getColumnNames(_.columnNames),m.cbArg||p){for(;S.step();S._isLocked=!1){S._isLocked=!0;const J=m.cbArg(S);if(p&&p.push(J),c&&c.call(_,J,S)===!1)break}S._isLocked=!1}}else S.step();S.finalize(),S=null}}}finally{S&&(delete S._isLocked,S.finalize()),o.scopedAllocPop(se)}return m.returnVal()},createFunction:function(_,c,p){const S=V=>V instanceof Function;switch(arguments.length){case 1:p=_,_=p.name,c=p.xFunc||0;break;case 2:S(c)||(p=c,c=p.xFunc||0);break}p||(p={}),typeof _!="string"&&i("Invalid arguments: missing function name.");let O=p.xStep||0,C=p.xFinal||0;const se=p.xValue||0,te=p.xInverse||0;let le;S(c)?(le=!1,(S(O)||S(C))&&i("Ambiguous arguments: scalar or aggregate?"),O=C=null):S(O)?(S(C)||i("Missing xFinal() callback for aggregate or window UDF."),c=null):S(C)?i("Missing xStep() callback for aggregate or window UDF."):i("Missing function-type properties."),le===!1?(S(se)||S(te))&&i("xValue and xInverse are not permitted for non-window UDFs."):S(se)?(S(te)||i("xInverse must be provided if xValue is."),le=!0):S(te)&&i("xValue must be provided if xInverse is.");const pe=p.pApp;pe!=null&&(typeof pe!="number"||!a.isInt32(pe))&&i("Invalid value for pApp property. Must be a legal WASM pointer value.");const ue=p.xDestroy||0;ue&&!S(ue)&&i("xDestroy property must be a function.");let ke=0;P(p,"deterministic")&&(ke|=s.SQLITE_DETERMINISTIC),P(p,"directOnly")&&(ke|=s.SQLITE_DIRECTONLY),P(p,"innocuous")&&(ke|=s.SQLITE_INNOCUOUS),_=_.toLowerCase();const I=c||O,U=P(p,"arity"),j=typeof U=="number"?U:I.length?I.length-1:0;let J;return le?J=s.sqlite3_create_window_function(this.pointer,_,j,s.SQLITE_UTF8|ke,pe||0,O,C,se,te,ue):J=s.sqlite3_create_function_v2(this.pointer,_,j,s.SQLITE_UTF8|ke,pe||0,c,O,C,ue),q.checkRc(this,J),this},selectValue:function(m,_,c){return z(this,m,_,0,c)},selectValues:function(m,_,c){const p=this.prepare(m),S=[];try{for(p.bind(_);p.step();)S.push(p.get(0,c))}finally{p.finalize()}return S},selectArray:function(m,_){return z(this,m,_,[])},selectObject:function(m,_){return z(this,m,_,{})},selectArrays:function(m,_){return L(this,m,_,"array")},selectObjects:function(m,_){return L(this,m,_,"object")},openStatementCount:function(){return this.pointer?Object.keys(E.get(this)).length:0},transaction:function(m){let _="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&i(s.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),_+=" "+arguments[0],m=arguments[1]),w(this).exec(_);try{const c=m(this);return this.exec("COMMIT"),c}catch(c){throw this.exec("ROLLBACK"),c}},savepoint:function(m){w(this).exec("SAVEPOINT oo1");try{const _=m(this);return this.exec("RELEASE oo1"),_}catch(_){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),_}},checkRc:function(m){return q.checkRc(this,m)}};const Q=function(m){return m.pointer||i("Stmt has been closed."),m},H=function(m){let _=h[m==null?"null":typeof m];switch(_){case h.boolean:case h.null:case h.number:case h.string:return _;case h.bigint:if(o.bigIntEnabled)return _;default:return a.isBindableTypedArray(m)?h.blob:void 0}},d=function(m){return H(m)||i("Unsupported bind() argument type:",typeof m)},k=function(m,_){const c=typeof _=="number"?_:s.sqlite3_bind_parameter_index(m.pointer,_);return c===0||!a.isInt32(c)?i("Invalid bind() parameter name: "+_):(c<1||c>m.parameterCount)&&i("Bind index",_,"is out of range."),c},A=function(m,_){return m._isLocked&&i("Operation is illegal when statement is locked:",_),m},N=function m(_,c,p,S){A(Q(_),"bind()"),m._||(m._tooBigInt=C=>i("BigInt value is too big to store without precision loss:",C),m._={string:function(C,se,te,le){const[pe,ue]=o.allocCString(te,!0);return(le?s.sqlite3_bind_blob:s.sqlite3_bind_text)(C.pointer,se,pe,ue,s.SQLITE_WASM_DEALLOC)}}),d(S),c=k(_,c);let O=0;switch(S==null?h.null:p){case h.null:O=s.sqlite3_bind_null(_.pointer,c);break;case h.string:O=m._.string(_,c,S,!1);break;case h.number:{let C;a.isInt32(S)?C=s.sqlite3_bind_int:typeof S=="bigint"?a.bigIntFits64(S)?o.bigIntEnabled?C=s.sqlite3_bind_int64:a.bigIntFitsDouble(S)?(S=Number(S),C=s.sqlite3_bind_double):m._tooBigInt(S):m._tooBigInt(S):(S=Number(S),o.bigIntEnabled&&Number.isInteger(S)?C=s.sqlite3_bind_int64:C=s.sqlite3_bind_double),O=C(_.pointer,c,S);break}case h.boolean:O=s.sqlite3_bind_int(_.pointer,c,S?1:0);break;case h.blob:{if(typeof S=="string"){O=m._.string(_,c,S,!0);break}else S instanceof ArrayBuffer?S=new Uint8Array(S):a.isBindableTypedArray(S)||i("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const C=o.alloc(S.byteLength||1);o.heap8().set(S.byteLength?S:[0],C),O=s.sqlite3_bind_blob(_.pointer,c,C,S.byteLength,s.SQLITE_WASM_DEALLOC);break}default:n.config.warn("Unsupported bind() argument type:",S),i("Unsupported bind() argument type: "+typeof S)}return O&&q.checkRc(_.db.pointer,O),_._mayGet=!1,_};y.prototype={finalize:function(){this.pointer&&(A(this,"finalize()"),delete E.get(this.db)[this.pointer],s.sqlite3_finalize(this.pointer),b.delete(this),delete this._mayGet,delete this.columnCount,delete this.parameterCount,delete this.db,delete this._isLocked)},clearBindings:function(){return A(Q(this),"clearBindings()"),s.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(m){return A(this,"reset()"),m&&this.clearBindings(),s.sqlite3_reset(Q(this).pointer),this._mayGet=!1,this},bind:function(){Q(this);let m,_;switch(arguments.length){case 1:m=1,_=arguments[0];break;case 2:m=arguments[0],_=arguments[1];break;default:i("Invalid bind() arguments.")}return _===void 0?this:(this.parameterCount||i("This statement has no bindable parameters."),this._mayGet=!1,_===null?N(this,m,h.null,_):Array.isArray(_)?(arguments.length!==1&&i("When binding an array, an index argument is not permitted."),_.forEach((c,p)=>N(this,p+1,d(c),c)),this):(_ instanceof ArrayBuffer&&(_=new Uint8Array(_)),typeof _=="object"&&!a.isBindableTypedArray(_)?(arguments.length!==1&&i("When binding an object, an index argument is not permitted."),Object.keys(_).forEach(c=>N(this,c,d(_[c]),_[c])),this):N(this,m,d(_),_)))},bindAsBlob:function(m,_){Q(this),arguments.length===1&&(_=m,m=1);const c=d(_);return h.string!==c&&h.blob!==c&&h.null!==c&&i("Invalid value type for bindAsBlob()"),N(this,m,h.blob,_)},step:function(){A(this,"step()");const m=s.sqlite3_step(Q(this).pointer);switch(m){case s.SQLITE_DONE:return this._mayGet=!1;case s.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,n.config.warn("sqlite3_step() rc=",m,s.sqlite3_js_rc_str(m),"SQL =",s.sqlite3_sql(this.pointer)),q.checkRc(this.db.pointer,m)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){const m=this.step();return this.finalize(),m},get:function(m,_){if(Q(this)._mayGet||i("Stmt.step() has not (recently) returned true."),Array.isArray(m)){let c=0;for(;c<this.columnCount;)m[c]=this.get(c++);return m}else if(m&&typeof m=="object"){let c=0;for(;c<this.columnCount;)m[s.sqlite3_column_name(this.pointer,c)]=this.get(c++);return m}switch(v(this,m),_===void 0?s.sqlite3_column_type(this.pointer,m):_){case s.SQLITE_NULL:return null;case s.SQLITE_INTEGER:if(o.bigIntEnabled){const c=s.sqlite3_column_int64(this.pointer,m);return c>=Number.MIN_SAFE_INTEGER&&c<=Number.MAX_SAFE_INTEGER?Number(c).valueOf():c}else{const c=s.sqlite3_column_double(this.pointer,m);return(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&i("Integer is out of range for JS integer range: "+c),a.isInt32(c)?c|0:c}case s.SQLITE_FLOAT:return s.sqlite3_column_double(this.pointer,m);case s.SQLITE_TEXT:return s.sqlite3_column_text(this.pointer,m);case s.SQLITE_BLOB:{const c=s.sqlite3_column_bytes(this.pointer,m),p=s.sqlite3_column_blob(this.pointer,m),S=new Uint8Array(c);return c&&S.set(o.heap8u().slice(p,p+c),0),c&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(S.buffer),S}default:i("Don't know how to translate","type of result column #"+m+".")}i("Not reached.")},getInt:function(m){return this.get(m,s.SQLITE_INTEGER)},getFloat:function(m){return this.get(m,s.SQLITE_FLOAT)},getString:function(m){return this.get(m,s.SQLITE_TEXT)},getBlob:function(m){return this.get(m,s.SQLITE_BLOB)},getJSON:function(m){const _=this.get(m,s.SQLITE_STRING);return _===null?_:JSON.parse(_)},getColumnName:function(m){return s.sqlite3_column_name(v(Q(this),m).pointer,m)},getColumnNames:function(m=[]){v(Q(this),0);for(let _=0;_<this.columnCount;++_)m.push(s.sqlite3_column_name(this.pointer,_));return m},getParamIndex:function(m){return Q(this).parameterCount?s.sqlite3_bind_parameter_index(this.pointer,m):void 0}};{const m={enumerable:!0,get:function(){return b.get(this)},set:()=>i("The pointer property is read-only.")};Object.defineProperty(y.prototype,"pointer",m),Object.defineProperty(q.prototype,"pointer",m)}if(n.oo1={DB:q,Stmt:y},a.isUIThread()){n.oo1.JsStorageDb=function(_="session"){_!=="session"&&_!=="local"&&i("JsStorageDb db name must be one of 'session' or 'local'."),x.call(this,{filename:_,flags:"c",vfs:"kvvfs"})};const m=n.oo1.JsStorageDb;m.prototype=Object.create(q.prototype),m.clearStorage=s.sqlite3_js_kvvfs_clear,m.prototype.clearStorage=function(){return m.clearStorage(w(this).filename)},m.storageSize=s.sqlite3_js_kvvfs_size,m.prototype.storageSize=function(){return m.storageSize(w(this).filename)}}}),self.sqlite3ApiBootstrap.initializers.push(function(n){n.initWorker1API=function(){const i=(...h)=>{throw new Error(h.join(" "))};typeof importScripts!="function"&&i("initWorker1API() must be run from a Worker thread.");const s=this.self,o=this.sqlite3||i("Missing this.sqlite3 object."),a=o.oo1.DB,b=function(h){let y=E.idMap.get(h);return y||(y="db#"+ ++E.idSeq+"@"+h.pointer,E.idMap.set(h,y),y)},E={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(h){const y=new a(h);return this.dbs[b(y)]=y,this.dbList.indexOf(y)<0&&this.dbList.push(y),y},close:function(h,y){if(h){delete this.dbs[b(h)];const w=h.filename,v=o.wasm.sqlite3_wasm_db_vfs(h.pointer,0);h.close();const D=this.dbList.indexOf(h);D>=0&&this.dbList.splice(D,1),y&&w&&v&&o.wasm.sqlite3_wasm_vfs_unlink(v,w)}},post:function(h,y){y&&y.length?(s.postMessage(h,Array.from(y)),y.length=0):s.postMessage(h)},dbs:Object.create(null),getDb:function(h,y=!0){return this.dbs[h]||(y?i("Unknown (or closed) DB ID:",h):void 0)}},P=function(h=E.dbList[0]){return h&&h.pointer?h:i("DB is not opened.")},W=function(h,y=!0){const w=E.getDb(h.dbId,!1)||E.dbList[0];return y?P(w):w},G=function(){return E.dbList[0]&&b(E.dbList[0])},ee=function(h){const y=/^file:.+(vfs=(\w+))/.exec(h);return o.capi.sqlite3_vfs_find(y?y[2]:0)},x=h=>h===""||h[0]===":",q={open:function(h){const y=Object.create(null),w=h.args||Object.create(null);w.simulateError&&i("Throwing because of simulateError flag.");const v=Object.create(null);let D,z;if(y.vfs=w.vfs,x(w.filename)?y.filename=w.filename||"":(y.filename=w.filename,D=w.byteArray,D&&(z=ee(w.filename))),z){let Q;try{Q=o.wasm.allocFromTypedArray(D);const H=o.wasm.sqlite3_wasm_vfs_create_file(z,y.filename,Q,D.byteLength);H&&o.SQLite3Error.toss(H)}catch(H){throw new o.SQLite3Error(H.name+" creating "+w.filename+": "+H.message,{cause:H})}finally{Q&&o.wasm.dealloc(Q)}}const L=E.open(y);return v.filename=L.filename,v.persistent=!!o.capi.sqlite3_js_db_uses_vfs(L.pointer,"opfs"),v.dbId=b(L),v.vfs=L.dbVfsName(),v},close:function(h){const y=W(h,!1),w={filename:y&&y.filename};if(y){const v=h.args&&typeof h.args=="object"?!!h.args.unlink:!1;E.close(y,v)}return w},exec:function(h){const y=typeof h.args=="string"?{sql:h.args}:h.args||Object.create(null);y.rowMode==="stmt"?i("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):y.sql||i("'exec' requires input SQL.");const w=W(h);(y.callback||Array.isArray(y.resultRows))&&(w._blobXfer=E.xfer);const v=y.callback;let D=0;const z=!!y.columnNames;typeof v=="string"&&(z||(y.columnNames=[]),y.callback=function(L,Q){E.post({type:v,columnNames:y.columnNames,rowNumber:++D,row:L},E.xfer)});try{w.exec(y),y.callback instanceof Function&&(y.callback=v,E.post({type:v,columnNames:y.columnNames,rowNumber:null,row:void 0}))}finally{delete w._blobXfer,y.callback&&(y.callback=v)}return y},"config-get":function(){const h=Object.create(null),y=o.config;return["bigIntEnabled"].forEach(function(w){Object.getOwnPropertyDescriptor(y,w)&&(h[w]=y[w])}),h.version=o.version,h.vfsList=o.capi.sqlite3_js_vfs_list(),h.opfsEnabled=!!o.opfs,h},export:function(h){const y=W(h),w={byteArray:o.capi.sqlite3_js_db_export(y.pointer),filename:y.filename,mimetype:"application/x-sqlite3"};return E.xfer.push(w.byteArray.buffer),w},toss:function(h){i("Testing worker exception")},"opfs-tree":async function(h){return o.opfs||i("OPFS support is unavailable."),await o.opfs.treeList()}};s.onmessage=async function(h){h=h.data;let y,w=h.dbId,v=h.type;const D=performance.now();try{q.hasOwnProperty(v)&&q[v]instanceof Function?y=await q[v](h):i("Unknown db worker message type:",h.type)}catch(z){v="error",y={operation:h.type,message:z.message,errorClass:z.name,input:h},z.stack&&(y.stack=typeof z.stack=="string"?z.stack.split(/\n\s*/):z.stack)}w||(w=y.dbId||G()),E.post({type:v,dbId:w,messageId:h.messageId,workerReceivedTime:D,workerRespondTime:performance.now(),departureTime:h.departureTime,result:y},E.xfer)},s.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:n})}),self.sqlite3ApiBootstrap.initializers.push(function(n){const i=n.wasm,s=n.capi,o=n.util.toss3,a=Object.create(null),b=Object.create(null);n.vfs=a,n.vtab=b;const E=s.sqlite3_index_info;E.prototype.nthConstraint=function(x,q=!1){if(x<0||x>=this.$nConstraint)return!1;const h=this.$aConstraint+E.sqlite3_index_constraint.structInfo.sizeof*x;return q?h:new E.sqlite3_index_constraint(h)},E.prototype.nthConstraintUsage=function(x,q=!1){if(x<0||x>=this.$nConstraint)return!1;const h=this.$aConstraintUsage+E.sqlite3_index_constraint_usage.structInfo.sizeof*x;return q?h:new E.sqlite3_index_constraint_usage(h)},E.prototype.nthOrderBy=function(x,q=!1){if(x<0||x>=this.$nOrderBy)return!1;const h=this.$aOrderBy+E.sqlite3_index_orderby.structInfo.sizeof*x;return q?h:new E.sqlite3_index_orderby(h)};const P=function x(q,h,y,w=x.installMethodArgcCheck){if(q instanceof n.StructBinder.StructType?!(y instanceof Function)&&!i.isPtr(y)&&o("Usage errror: expecting a Function or WASM pointer to one."):o("Usage error: target object is-not-a StructType."),arguments.length===1)return(L,Q)=>x(q,L,Q,w);x.argcProxy||(x.argcProxy=function(L,Q,H,d){return function(...k){return H.length!==arguments.length&&o("Argument mismatch for",L.structInfo.name+"::"+Q+": Native signature is:",d),H.apply(this,k)}},x.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((L,Q)=>{if(typeof L=="number")try{i.uninstallFunction(L)}catch{}}),delete this.ondispose.__removeFuncList)});const v=q.memberSignature(h);v.length<2&&o("Member",h,"does not have a function pointer signature:",v);const D=q.memberKey(h),z=w&&!i.isPtr(y)?x.argcProxy(q,D,y,v):y;if(i.isPtr(z))z&&!i.functionEntry(z)&&o("Pointer",z,"is not a WASM function table entry."),q[D]=z;else{const L=i.installFunction(z,q.memberSignature(h,!0));q[D]=L,(!q.ondispose||!q.ondispose.__removeFuncList)&&(q.addOnDispose("ondispose.__removeFuncList handler",x.removeFuncList),q.ondispose.__removeFuncList=[]),q.ondispose.__removeFuncList.push(D,L)}return(L,Q)=>x(q,L,Q,w)};P.installMethodArgcCheck=!1;const W=function(x,q,h=P.installMethodArgcCheck){const y=new Map;for(const w of Object.keys(q)){const v=q[w],D=y.get(v);if(D){const z=x.memberKey(w);x[z]=x[x.memberKey(D)]}else P(x,w,v,h),y.set(v,w)}return x};n.StructBinder.StructType.prototype.installMethod=function(q,h,y=P.installMethodArgcCheck){return arguments.length<3&&q&&typeof q=="object"?W(this,...arguments):P(this,...arguments)},n.StructBinder.StructType.prototype.installMethods=function(x,q=P.installMethodArgcCheck){return W(this,x,q)},s.sqlite3_vfs.prototype.registerVfs=function(x=!1){this instanceof n.capi.sqlite3_vfs||o("Expecting a sqlite3_vfs-type argument.");const q=s.sqlite3_vfs_register(this,x?1:0);return q&&o("sqlite3_vfs_register(",this,") failed with rc",q),this.pointer!==s.sqlite3_vfs_find(this.$zName)&&o("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},a.installVfs=function(x){let q=0;const h=["io","vfs"];for(const y of h){const w=x[y];w&&(++q,W(w.struct,w.methods,!!w.applyArgcCheck),y==="vfs"&&(!w.struct.$zName&&typeof w.name=="string"&&w.struct.addOnDispose(w.struct.$zName=i.allocCString(w.name)),w.struct.registerVfs(!!w.asDefault)))}return q||o("Misuse: installVfs() options object requires at least","one of:",h),this};const G=function(x,q){return function(h,y=!1){if(arguments.length===0&&(h=new q),h instanceof q)return this.set(h.pointer,h),h;i.isPtr(h)||n.SQLite3Error.toss("Invalid argument to",x+"()");let w=this.get(h);return y&&this.delete(h),w}.bind(new Map)},ee=function(x,q){const h=G(x,q);return Object.assign(Object.create(null),{StructType:q,create:y=>{const w=h();return i.pokePtr(y,w.pointer),w},get:y=>h(y),unget:y=>h(y,!0),dispose:y=>{const w=h(y,!0);w&&w.dispose()}})};b.xVtab=ee("xVtab",s.sqlite3_vtab),b.xCursor=ee("xCursor",s.sqlite3_vtab_cursor),b.xIndexInfo=x=>new s.sqlite3_index_info(x),b.xError=function x(q,h,y){if(x.errorReporter instanceof Function)try{x.errorReporter("sqlite3_module::"+q+"(): "+h.message)}catch{}let w;return h instanceof n.WasmAllocError?w=s.SQLITE_NOMEM:arguments.length>2?w=y:h instanceof n.SQLite3Error&&(w=h.resultCode),w||s.SQLITE_ERROR},b.xError.errorReporter=console.error.bind(console),b.xRowid=(x,q)=>i.poke(x,q,"i64"),b.setupModule=function(x){let q=!1;const h=this instanceof s.sqlite3_module?this:x.struct||(q=new s.sqlite3_module);try{const y=x.methods||o("Missing 'methods' object.");for(const w of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const v=w[0],D=w[1];y[v]===!0?y[v]=y[D]:y[D]===!0&&(y[D]=y[v])}if(x.catchExceptions){const w=function(z,L){return["xConnect","xCreate"].indexOf(z)>=0?function(Q,H,d,k,A,N){try{return L(...arguments)||0}catch(m){return m instanceof n.WasmAllocError||(i.dealloc(i.peekPtr(N)),i.pokePtr(N,i.allocCString(m.message))),b.xError(z,m)}}:function(...Q){try{return L(...Q)||0}catch(H){return b.xError(z,H)}}},v=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],D=Object.create(null);for(const z of v){const L=y[z];if(L instanceof Function)z==="xConnect"&&y.xCreate===L?D[z]=y.xCreate:z==="xCreate"&&y.xConnect===L?D[z]=y.xConnect:D[z]=w(z,L);else continue}W(h,D,!1)}else W(h,y,!!x.applyArgcCheck);if(h.$iVersion===0){let w;typeof x.iVersion=="number"?w=x.iVersion:h.$xShadowName?w=3:h.$xSavePoint||h.$xRelease||h.$xRollbackTo?w=2:w=1,h.$iVersion=w}}catch(y){throw q&&q.dispose(),y}return h},s.sqlite3_module.prototype.setupModule=function(x){return b.setupModule.call(this,x)}}),self.sqlite3ApiBootstrap.initializers.push(function(n){const i=function s(o){if(!self.SharedArrayBuffer||!self.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(self.window===self&&self.document)return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!self.FileSystemHandle||!self.FileSystemDirectoryHandle||!self.FileSystemFileHandle||!self.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator.storage.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!o||typeof o!="object")&&(o=Object.create(null));const a=new URL(self.location.href).searchParams;return o.verbose===void 0&&(o.verbose=a.has("opfs-verbose")?+a.get("opfs-verbose")||2:1),o.sanityChecks===void 0&&(o.sanityChecks=a.has("opfs-sanity-check")),o.proxyUri===void 0&&(o.proxyUri=s.defaultProxyUri),typeof o.proxyUri=="function"&&(o.proxyUri=o.proxyUri()),new Promise(function(E,P){const W={0:n.config.error.bind(console),1:n.config.warn.bind(console),2:n.config.log.bind(console)},G=(I,...U)=>{o.verbose>I&&W[I]("OPFS syncer:",...U)},ee=(...I)=>G(2,...I),x=(...I)=>G(1,...I),q=(...I)=>G(0,...I),h=n.util.toss,y=n.capi,w=n.wasm,v=y.sqlite3_vfs,D=y.sqlite3_file,z=y.sqlite3_io_methods,L=Object.create(null),Q=()=>self.FileSystemHandle&&self.FileSystemDirectoryHandle&&self.FileSystemFileHandle&&self.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator.storage.getDirectory;L.metrics={dump:function(){let I,U=0,j=0,J=0;for(I in _.opIds){const V=c[I];U+=V.count,j+=V.time,J+=V.wait,V.avgTime=V.count&&V.time?V.time/V.count:0,V.avgWait=V.count&&V.wait?V.wait/V.count:0}n.config.log(self.location.href,"metrics for",self.location.href,":",c,`
Total of`,U,"op(s) for",j,"ms (incl. "+J+" ms of waiting on the async side)"),n.config.log("Serialization metrics:",c.s11n),A.postMessage({type:"opfs-async-metrics"})},reset:function(){let I;const U=J=>J.count=J.time=J.wait=0;for(I in _.opIds)U(c[I]=Object.create(null));let j=c.s11n=Object.create(null);j=j.serialize=Object.create(null),j.count=j.time=0,j=c.s11n.deserialize=Object.create(null),j.count=j.time=0}};const H=new v,d=new z,k=function(I){return H.dispose(),P(I)},A=new Worker(new URL("/sqlite-wiki/assets/sqlite3-opfs-async-proxy-7336debb.js",self.location));A._originalOnError=A.onerror,A.onerror=function(I){q("Error initializing OPFS asyncer:",I),k(new Error("Loading OPFS async Worker failed for unknown reasons."))};const N=y.sqlite3_vfs_find(null),m=N?new v(N):null;H.$iVersion=2,H.$szOsFile=y.sqlite3_file.structInfo.sizeof,H.$mxPathname=1024,H.$zName=w.allocCString("opfs"),H.$xDlOpen=H.$xDlError=H.$xDlSym=H.$xDlClose=null,H.ondispose=["$zName",H.$zName,"cleanup default VFS wrapper",()=>m?m.dispose():null,"cleanup opfsIoMethods",()=>d.dispose()];const _=Object.create(null);_.verbose=o.verbose,_.littleEndian=(()=>{const I=new ArrayBuffer(2);return new DataView(I).setInt16(0,256,!0),new Int16Array(I)[0]===256})(),_.asyncIdleWaitTime=150,_.asyncS11nExceptions=1,_.fileBufferSize=1024*64,_.sabS11nOffset=_.fileBufferSize,_.sabS11nSize=H.$mxPathname*2,_.sabIO=new SharedArrayBuffer(_.fileBufferSize+_.sabS11nSize),_.opIds=Object.create(null);const c=Object.create(null);{let I=0;_.opIds.whichOp=I++,_.opIds.rc=I++,_.opIds.xAccess=I++,_.opIds.xClose=I++,_.opIds.xDelete=I++,_.opIds.xDeleteNoWait=I++,_.opIds.xFileControl=I++,_.opIds.xFileSize=I++,_.opIds.xLock=I++,_.opIds.xOpen=I++,_.opIds.xRead=I++,_.opIds.xSleep=I++,_.opIds.xSync=I++,_.opIds.xTruncate=I++,_.opIds.xUnlock=I++,_.opIds.xWrite=I++,_.opIds.mkdir=I++,_.opIds["opfs-async-metrics"]=I++,_.opIds["opfs-async-shutdown"]=I++,_.opIds.retry=I++,_.sabOP=new SharedArrayBuffer(I*4),L.metrics.reset()}_.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(I=>{(_.sq3Codes[I]=y[I])===void 0&&h("Maintenance required: not found:",I)}),_.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const p=(I,...U)=>{const j=_.opIds[I]||h("Invalid op ID:",I);_.s11n.serialize(...U),Atomics.store(_.sabOPView,_.opIds.rc,-1),Atomics.store(_.sabOPView,_.opIds.whichOp,j),Atomics.notify(_.sabOPView,_.opIds.whichOp);const J=performance.now();Atomics.wait(_.sabOPView,_.opIds.rc,-1);const V=Atomics.load(_.sabOPView,_.opIds.rc);if(c[I].wait+=performance.now()-J,V&&_.asyncS11nExceptions){const ye=_.s11n.deserialize();ye&&q(I+"() async error:",...ye)}return V};L.debug={asyncShutdown:()=>{x("Shutting down OPFS async listener. The OPFS VFS will no longer work."),p("opfs-async-shutdown")},asyncRestart:()=>{x("Attempting to restart OPFS VFS async listener. Might work, might not."),A.postMessage({type:"opfs-async-restart"})}};const S=()=>{if(_.s11n)return _.s11n;const I=new TextDecoder,U=new TextEncoder("utf-8"),j=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),J=new DataView(_.sabIO,_.sabS11nOffset,_.sabS11nSize);_.s11n=Object.create(null);const V=Object.create(null);V.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},V.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},V.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},V.string={id:4};const ye=re=>V[typeof re]||h("Maintenance required: this value type cannot be serialized.",re),we=re=>{switch(re){case V.number.id:return V.number;case V.bigint.id:return V.bigint;case V.boolean.id:return V.boolean;case V.string.id:return V.string;default:h("Invalid type ID:",re)}};return _.s11n.deserialize=function(re=!1){++c.s11n.deserialize.count;const He=performance.now(),Te=j[0],De=Te?[]:null;if(Te){const Be=[];let Oe=1,F,$,K;for(F=0;F<Te;++F,++Oe)Be.push(we(j[Oe]));for(F=0;F<Te;++F){const Y=Be[F];Y.getter?(K=J[Y.getter](Oe,_.littleEndian),Oe+=Y.size):($=J.getInt32(Oe,_.littleEndian),Oe+=4,K=I.decode(j.slice(Oe,Oe+$)),Oe+=$),De.push(K)}}return re&&(j[0]=0),c.s11n.deserialize.time+=performance.now()-He,De},_.s11n.serialize=function(...re){const He=performance.now();if(++c.s11n.serialize.count,re.length){const Te=[];let De=0,Be=1;for(j[0]=re.length&255;De<re.length;++De,++Be)Te.push(ye(re[De])),j[Be]=Te[De].id;for(De=0;De<re.length;++De){const Oe=Te[De];if(Oe.setter)J[Oe.setter](Be,re[De],_.littleEndian),Be+=Oe.size;else{const F=U.encode(re[De]);J.setInt32(Be,F.byteLength,_.littleEndian),Be+=4,j.set(F,Be),Be+=F.byteLength}}}else j[0]=0;c.s11n.serialize.time+=performance.now()-He},_.s11n},O=function I(U=16){I._chars||(I._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",I._n=I._chars.length);const j=[];let J=0;for(;J<U;++J){const V=Math.random()*(I._n*64)%I._n|0;j[J]=I._chars[V]}return j.join("")},C=Object.create(null),se=Object.create(null);se.op=void 0,se.start=void 0;const te=I=>{se.start=performance.now(),se.op=I,++c[I].count},le=()=>c[se.op].time+=performance.now()-se.start,pe={xCheckReservedLock:function(I,U){const j=C[I];return w.poke(U,j.lockType?1:0,"i32"),0},xClose:function(I){te("xClose");let U=0;const j=C[I];return j&&(delete C[I],U=p("xClose",I),j.sq3File&&j.sq3File.dispose()),le(),U},xDeviceCharacteristics:function(I){return y.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(I,U,j){te("xFileControl");const J=y.SQLITE_FCNTL_SYNC===U?p("xSync",I,0):y.SQLITE_NOTFOUND;return le(),J},xFileSize:function(I,U){te("xFileSize");let j=p("xFileSize",I);if(j==0)try{const J=_.s11n.deserialize()[0];w.poke(U,J,"i64")}catch(J){q("Unexpected error reading xFileSize() result:",J),j=_.sq3Codes.SQLITE_IOERR}return le(),j},xLock:function(I,U){te("xLock");const j=C[I];let J=0;return j.lockType?j.lockType=U:(J=p("xLock",I,U),J===0&&(j.lockType=U)),le(),J},xRead:function(I,U,j,J){te("xRead");const V=C[I];let ye;try{ye=p("xRead",I,j,Number(J)),(ye===0||y.SQLITE_IOERR_SHORT_READ===ye)&&w.heap8u().set(V.sabView.subarray(0,j),U)}catch(we){q("xRead(",arguments,") failed:",we,V),ye=y.SQLITE_IOERR_READ}return le(),ye},xSync:function(I,U){return++c.xSync.count,0},xTruncate:function(I,U){te("xTruncate");const j=p("xTruncate",I,Number(U));return le(),j},xUnlock:function(I,U){te("xUnlock");const j=C[I];let J=0;return y.SQLITE_LOCK_NONE===U&&j.lockType&&(J=p("xUnlock",I,U)),J===0&&(j.lockType=U),le(),J},xWrite:function(I,U,j,J){te("xWrite");const V=C[I];let ye;try{V.sabView.set(w.heap8u().subarray(U,U+j)),ye=p("xWrite",I,j,Number(J))}catch(we){q("xWrite(",arguments,") failed:",we,V),ye=y.SQLITE_IOERR_WRITE}return le(),ye}},ue={xAccess:function(I,U,j,J){te("xAccess");const V=p("xAccess",w.cstrToJs(U));return w.poke(J,V?0:1,"i32"),le(),0},xCurrentTime:function(I,U){return w.poke(U,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(I,U){return w.poke(U,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(I,U,j){return te("xDelete"),p("xDelete",w.cstrToJs(U),j,!1),le(),0},xFullPathname:function(I,U,j,J){return w.cstrncpy(J,U,j)<j?0:y.SQLITE_CANTOPEN},xGetLastError:function(I,U,j){return x("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(U,j,J,V,ye){te("xOpen");let we=0;j===0?j=O():typeof j=="number"&&(y.sqlite3_uri_boolean(j,"opfs-unlock-asap",0)&&(we|=_.opfsFlags.OPFS_UNLOCK_ASAP),j=w.cstrToJs(j));const re=Object.create(null);re.fid=J,re.filename=j,re.sab=new SharedArrayBuffer(_.fileBufferSize),re.flags=V;const He=p("xOpen",J,j,V,we);return He||(re.readOnly&&w.poke(ye,y.SQLITE_OPEN_READONLY,"i32"),C[J]=re,re.sabView=_.sabFileBufView,re.sq3File=new D(J),re.sq3File.$pMethods=d.pointer,re.lockType=y.SQLITE_LOCK_NONE),le(),He}};if(m&&(H.$xRandomness=m.$xRandomness,H.$xSleep=m.$xSleep),H.$xRandomness||(ue.xRandomness=function(I,U,j){const J=w.heap8u();let V=0;for(;V<U;++V)J[j+V]=Math.random()*255e3&255;return V}),H.$xSleep||(ue.xSleep=function(I,U){return Atomics.wait(_.sabOPView,_.opIds.xSleep,0,U),0}),L.getResolvedPath=function(I,U){const j=new URL(I,"file://irrelevant").pathname;return U?j.split("/").filter(J=>!!J):j},L.getDirForFilename=async function(U,j=!1){const J=L.getResolvedPath(U,!0),V=J.pop();let ye=L.rootDirectory;for(const we of J)we&&(ye=await ye.getDirectoryHandle(we,{create:!!j}));return[ye,V]},L.mkdir=async function(I){try{return await L.getDirForFilename(I+"/filepart",!0),!0}catch{return!1}},L.entryExists=async function(I){try{const[U,j]=await L.getDirForFilename(I);return await U.getFileHandle(j),!0}catch{return!1}},L.randomFilename=O,L.registerVfs=(I=!1)=>w.exports.sqlite3_vfs_register(H.pointer,I?1:0),L.treeList=async function(){const I=async function j(J,V){V.name=J.name,V.dirs=[],V.files=[];for await(const ye of J.values())if(ye.kind==="directory"){const we=Object.create(null);V.dirs.push(we),await j(ye,we)}else V.files.push(ye.name)},U=Object.create(null);return await I(L.rootDirectory,U),U},L.rmfr=async function(){const I=L.rootDirectory,U={recurse:!0};for await(const j of I.values())I.removeEntry(j.name,U)},L.unlink=async function(I,U=!1,j=!1){try{const[J,V]=await L.getDirForFilename(I,!1);return await J.removeEntry(V,{recursive:U}),!0}catch(J){if(j)throw new Error("unlink(",arguments[0],") failed: "+J.message,{cause:J});return!1}},L.traverse=async function(I){const U={recursive:!0,directory:L.rootDirectory};typeof I=="function"&&(I={callback:I}),I=Object.assign(U,I||{}),async function J(V,ye){for await(const we of V.values()){if(I.callback(we,V,ye)===!1)return!1;if(I.recursive&&we.kind==="directory"&&await J(we,ye+1)===!1)break}}(I.directory,0)},n.oo1){const I=function(...U){const j=n.oo1.DB.dbCtorHelper.normalizeArgs(...U);j.vfs=H.$zName,n.oo1.DB.dbCtorHelper.call(this,j)};I.prototype=Object.create(n.oo1.DB.prototype),n.oo1.OpfsDb=I,n.oo1.DB.dbCtorHelper.setVfsPostOpenSql(H.pointer,function(U,j){j.capi.sqlite3_busy_timeout(U,1e4),j.capi.sqlite3_exec(U,["pragma journal_mode=persist;","pragma cache_size=-16384;"],0,0,0)})}const ke=function(){const I=w.scopedAllocPush(),U=new D;try{const j=U.pointer,J=y.SQLITE_OPEN_CREATE|y.SQLITE_OPEN_READWRITE|y.SQLITE_OPEN_MAIN_DB,V=w.scopedAlloc(8),ye="/sanity/check/file"+O(8),we=w.scopedAllocCString(ye);let re;if(_.s11n.serialize("This is  string."),re=_.s11n.deserialize(),ee("deserialize() says:",re),re[0]!=="This is  string."&&h("String d13n error."),ue.xAccess(H.pointer,we,0,V),re=w.peek(V,"i32"),ee("xAccess(",ye,") exists ?=",re),re=ue.xOpen(H.pointer,we,j,J,V),ee("open rc =",re,"state.sabOPView[xOpen] =",_.sabOPView[_.opIds.xOpen]),re!==0){q("open failed with code",re);return}ue.xAccess(H.pointer,we,0,V),re=w.peek(V,"i32"),re||h("xAccess() failed to detect file."),re=pe.xSync(U.pointer,0),re&&h("sync failed w/ rc",re),re=pe.xTruncate(U.pointer,1024),re&&h("truncate failed w/ rc",re),w.poke(V,0,"i64"),re=pe.xFileSize(U.pointer,V),re&&h("xFileSize failed w/ rc",re),ee("xFileSize says:",w.peek(V,"i64")),re=pe.xWrite(U.pointer,we,10,1),re&&h("xWrite() failed!");const He=w.scopedAlloc(16);re=pe.xRead(U.pointer,He,6,2),w.poke(He+6,0);let Te=w.cstrToJs(He);ee("xRead() got:",Te),Te!=="sanity"&&h("Unexpected xRead() value."),ue.xSleep&&(ee("xSleep()ing before close()ing..."),ue.xSleep(H.pointer,2e3),ee("waking up from xSleep()")),re=pe.xClose(j),ee("xClose rc =",re,"sabOPView =",_.sabOPView),ee("Deleting file:",ye),ue.xDelete(H.pointer,we,4660),ue.xAccess(H.pointer,we,0,V),re=w.peek(V,"i32"),re&&h("Expecting 0 from xAccess(",ye,") after xDelete()."),x("End of OPFS sanity checks.")}finally{U.dispose(),w.scopedAllocPop(I)}};A.onmessage=function({data:I}){switch(I.type){case"opfs-unavailable":k(new Error(I.payload.join(" ")));break;case"opfs-async-loaded":A.postMessage({type:"opfs-async-init",args:_});break;case"opfs-async-inited":{try{n.vfs.installVfs({io:{struct:d,methods:pe},vfs:{struct:H,methods:ue}}),_.sabOPView=new Int32Array(_.sabOP),_.sabFileBufView=new Uint8Array(_.sabIO,0,_.fileBufferSize),_.sabS11nView=new Uint8Array(_.sabIO,_.sabS11nOffset,_.sabS11nSize),S(),o.sanityChecks&&(x("Running sanity checks because of opfs-sanity-check URL arg..."),ke()),Q()?navigator.storage.getDirectory().then(U=>{A.onerror=A._originalOnError,delete A._originalOnError,n.opfs=L,L.rootDirectory=U,ee("End of OPFS sqlite3_vfs setup.",H),E(n)}).catch(k):E(n)}catch(U){q(U),k(U)}break}default:k(e),q("Unexpected message from the async worker:",I);break}}})};i.defaultProxyUri="sqlite3-opfs-async-proxy.js",self.sqlite3ApiBootstrap.initializersAsync.push(async s=>{try{let o=i.defaultProxyUri;return s.scriptInfo.sqlite3Dir&&(i.defaultProxyUri=s.scriptInfo.sqlite3Dir+o),i().catch(a=>{s.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",a.message)})}catch(o){throw s.config.error("installOpfsVfs() exception:",o),o}})}),typeof r<"u"){const n=Object.assign(Object.create(null),{exports:r.asm,memory:r.wasmMemory},self.sqlite3ApiConfig||{});self.sqlite3ApiConfig=n;let i;try{i=self.sqlite3ApiBootstrap()}catch(s){throw console.error("sqlite3ApiBootstrap() error:",s),s}finally{delete self.sqlite3ApiBootstrap,delete self.sqlite3ApiConfig}r.sqlite3=i}else console.warn("This is not running in an Emscripten module context, so","self.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),f.ready}})();const un=function(){const R=cn;if(!R)throw new Error("Expecting self.sqlite3InitModule to be defined by the Emscripten build.");const u=self.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:self?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:self.location,urlParams:new URL(self.location.href).searchParams});if(u.debugModule=u.urlParams.has("sqlite3.debugModule")?(...f)=>console.warn("sqlite3.debugModule:",...f):()=>{},u.urlParams.has("sqlite3.dir"))u.sqlite3Dir=u.urlParams.get("sqlite3.dir")+"/";else if(u.moduleScript){const f=u.moduleScript.src.split("/");f.pop(),u.sqlite3Dir=f.join("/")+"/"}if(self.sqlite3InitModule=function f(...t){return R(...t).then(g=>{if(self.window!==self&&(g.ENVIRONMENT_IS_PTHREAD||g._pthread_self||typeof threadAlert=="function"||self.location.pathname.endsWith(".worker.js")))return g;const T=g.sqlite3;T.scriptInfo=u,f.__isUnderTest&&(T.__isUnderTest=!0);const M=T.asyncPostInit;return delete T.asyncPostInit,M()}).catch(g=>{throw console.error("Exception loading sqlite3 module:",g),g})},self.sqlite3InitModule.ready=R.ready,self.sqlite3InitModuleState.moduleScript){const f=self.sqlite3InitModuleState;let t=f.moduleScript.src.split("/");t.pop(),f.scriptDir=t.join("/")+"/"}return u.debugModule("sqlite3InitModuleState =",u),self.sqlite3InitModule}();function At(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let et=At();function fn(R){et=R}const It=/[&<>"']/,_n=new RegExp(It.source,"g"),Tt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pn=new RegExp(Tt.source,"g"),dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ft=R=>dn[R];function Re(R,u){if(u){if(It.test(R))return R.replace(_n,Ft)}else if(Tt.test(R))return R.replace(pn,Ft);return R}const mn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Ot(R){return R.replace(mn,(u,f)=>(f=f.toLowerCase(),f==="colon"?":":f.charAt(0)==="#"?f.charAt(1)==="x"?String.fromCharCode(parseInt(f.substring(2),16)):String.fromCharCode(+f.substring(1)):""))}const hn=/(^|[^\[])\^/g;function xe(R,u){R=typeof R=="string"?R:R.source,u=u||"";const f={replace:(t,g)=>(g=g.source||g,g=g.replace(hn,"$1"),R=R.replace(t,g),f),getRegex:()=>new RegExp(R,u)};return f}const gn=/[^\w:]/g,yn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Pt(R,u,f){if(R){let t;try{t=decodeURIComponent(Ot(f)).replace(gn,"").toLowerCase()}catch{return null}if(t.indexOf("javascript:")===0||t.indexOf("vbscript:")===0||t.indexOf("data:")===0)return null}u&&!yn.test(f)&&(f=xn(u,f));try{f=encodeURI(f).replace(/%25/g,"%")}catch{return null}return f}const ct={},bn=/^[^:]+:\/*[^/]*$/,qn=/^([^:]+:)[\s\S]*$/,wn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function xn(R,u){ct[" "+R]||(bn.test(R)?ct[" "+R]=R+"/":ct[" "+R]=ft(R,"/",!0)),R=ct[" "+R];const f=R.indexOf(":")===-1;return u.substring(0,2)==="//"?f?u:R.replace(qn,"$1")+u:u.charAt(0)==="/"?f?u:R.replace(wn,"$1")+u:R+u}const ut={exec:function(){}};function Lt(R,u){const f=R.replace(/\|/g,(T,M,B)=>{let X=!1,me=M;for(;--me>=0&&B[me]==="\\";)X=!X;return X?"|":" |"}),t=f.split(/ \|/);let g=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),t.length>u)t.splice(u);else for(;t.length<u;)t.push("");for(;g<t.length;g++)t[g]=t[g].trim().replace(/\\\|/g,"|");return t}function ft(R,u,f){const t=R.length;if(t===0)return"";let g=0;for(;g<t;){const T=R.charAt(t-g-1);if(T===u&&!f)g++;else if(T!==u&&f)g++;else break}return R.slice(0,t-g)}function vn(R,u){if(R.indexOf(u[1])===-1)return-1;const f=R.length;let t=0,g=0;for(;g<f;g++)if(R[g]==="\\")g++;else if(R[g]===u[0])t++;else if(R[g]===u[1]&&(t--,t<0))return g;return-1}function En(R,u){!R||R.silent||(u&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(R.sanitize||R.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(R.highlight||R.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),R.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),R.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),R.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),R.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(R.headerIds||R.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Rt(R,u){if(u<1)return"";let f="";for(;u>1;)u&1&&(f+=R),u>>=1,R+=R;return f+R}function Dt(R,u,f,t){const g=u.href,T=u.title?Re(u.title):null,M=R[1].replace(/\\([\[\]])/g,"$1");if(R[0].charAt(0)!=="!"){t.state.inLink=!0;const B={type:"link",raw:f,href:g,title:T,text:M,tokens:t.inlineTokens(M)};return t.state.inLink=!1,B}return{type:"image",raw:f,href:g,title:T,text:Re(M)}}function kn(R,u){const f=R.match(/^(\s+)(?:```)/);if(f===null)return u;const t=f[1];return u.split(`
`).map(g=>{const T=g.match(/^\s+/);if(T===null)return g;const[M]=T;return M.length>=t.length?g.slice(t.length):g}).join(`
`)}class gt{constructor(u){this.options=u||et}space(u){const f=this.rules.block.newline.exec(u);if(f&&f[0].length>0)return{type:"space",raw:f[0]}}code(u){const f=this.rules.block.code.exec(u);if(f){const t=f[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:f[0],codeBlockStyle:"indented",text:this.options.pedantic?t:ft(t,`
`)}}}fences(u){const f=this.rules.block.fences.exec(u);if(f){const t=f[0],g=kn(t,f[3]||"");return{type:"code",raw:t,lang:f[2]?f[2].trim().replace(this.rules.inline._escapes,"$1"):f[2],text:g}}}heading(u){const f=this.rules.block.heading.exec(u);if(f){let t=f[2].trim();if(/#$/.test(t)){const g=ft(t,"#");(this.options.pedantic||!g||/ $/.test(g))&&(t=g.trim())}return{type:"heading",raw:f[0],depth:f[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(u){const f=this.rules.block.hr.exec(u);if(f)return{type:"hr",raw:f[0]}}blockquote(u){const f=this.rules.block.blockquote.exec(u);if(f){const t=f[0].replace(/^ *>[ \t]?/gm,""),g=this.lexer.state.top;this.lexer.state.top=!0;const T=this.lexer.blockTokens(t);return this.lexer.state.top=g,{type:"blockquote",raw:f[0],tokens:T,text:t}}}list(u){let f=this.rules.block.list.exec(u);if(f){let t,g,T,M,B,X,me,fe,ce,ae,ne,Me,ze=f[1].trim();const Ue=ze.length>1,qe={type:"list",raw:"",ordered:Ue,start:Ue?+ze.slice(0,-1):"",loose:!1,items:[]};ze=Ue?`\\d{1,9}\\${ze.slice(-1)}`:`\\${ze}`,this.options.pedantic&&(ze=Ue?ze:"[*+-]");const ve=new RegExp(`^( {0,3}${ze})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;u&&(Me=!1,!(!(f=ve.exec(u))||this.rules.block.hr.test(u)));){if(t=f[0],u=u.substring(t.length),fe=f[2].split(`
`,1)[0].replace(/^\t+/,Pe=>" ".repeat(3*Pe.length)),ce=u.split(`
`,1)[0],this.options.pedantic?(M=2,ne=fe.trimLeft()):(M=f[2].search(/[^ ]/),M=M>4?1:M,ne=fe.slice(M),M+=f[1].length),X=!1,!fe&&/^ *$/.test(ce)&&(t+=ce+`
`,u=u.substring(ce.length+1),Me=!0),!Me){const Pe=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Ne=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Qe=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),Ye=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);for(;u&&(ae=u.split(`
`,1)[0],ce=ae,this.options.pedantic&&(ce=ce.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Qe.test(ce)||Ye.test(ce)||Pe.test(ce)||Ne.test(u)));){if(ce.search(/[^ ]/)>=M||!ce.trim())ne+=`
`+ce.slice(M);else{if(X||fe.search(/[^ ]/)>=4||Qe.test(fe)||Ye.test(fe)||Ne.test(fe))break;ne+=`
`+ce}!X&&!ce.trim()&&(X=!0),t+=ae+`
`,u=u.substring(ae.length+1),fe=ce.slice(M)}}qe.loose||(me?qe.loose=!0:/\n *\n *$/.test(t)&&(me=!0)),this.options.gfm&&(g=/^\[[ xX]\] /.exec(ne),g&&(T=g[0]!=="[ ] ",ne=ne.replace(/^\[[ xX]\] +/,""))),qe.items.push({type:"list_item",raw:t,task:!!g,checked:T,loose:!1,text:ne}),qe.raw+=t}qe.items[qe.items.length-1].raw=t.trimRight(),qe.items[qe.items.length-1].text=ne.trimRight(),qe.raw=qe.raw.trimRight();const We=qe.items.length;for(B=0;B<We;B++)if(this.lexer.state.top=!1,qe.items[B].tokens=this.lexer.blockTokens(qe.items[B].text,[]),!qe.loose){const Pe=qe.items[B].tokens.filter(Qe=>Qe.type==="space"),Ne=Pe.length>0&&Pe.some(Qe=>/\n.*\n/.test(Qe.raw));qe.loose=Ne}if(qe.loose)for(B=0;B<We;B++)qe.items[B].loose=!0;return qe}}html(u){const f=this.rules.block.html.exec(u);if(f){const t={type:"html",block:!0,raw:f[0],pre:!this.options.sanitizer&&(f[1]==="pre"||f[1]==="script"||f[1]==="style"),text:f[0]};if(this.options.sanitize){const g=this.options.sanitizer?this.options.sanitizer(f[0]):Re(f[0]);t.type="paragraph",t.text=g,t.tokens=this.lexer.inline(g)}return t}}def(u){const f=this.rules.block.def.exec(u);if(f){const t=f[1].toLowerCase().replace(/\s+/g," "),g=f[2]?f[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",T=f[3]?f[3].substring(1,f[3].length-1).replace(this.rules.inline._escapes,"$1"):f[3];return{type:"def",tag:t,raw:f[0],href:g,title:T}}}table(u){const f=this.rules.block.table.exec(u);if(f){const t={type:"table",header:Lt(f[1]).map(g=>({text:g})),align:f[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:f[3]&&f[3].trim()?f[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(t.header.length===t.align.length){t.raw=f[0];let g=t.align.length,T,M,B,X;for(T=0;T<g;T++)/^ *-+: *$/.test(t.align[T])?t.align[T]="right":/^ *:-+: *$/.test(t.align[T])?t.align[T]="center":/^ *:-+ *$/.test(t.align[T])?t.align[T]="left":t.align[T]=null;for(g=t.rows.length,T=0;T<g;T++)t.rows[T]=Lt(t.rows[T],t.header.length).map(me=>({text:me}));for(g=t.header.length,M=0;M<g;M++)t.header[M].tokens=this.lexer.inline(t.header[M].text);for(g=t.rows.length,M=0;M<g;M++)for(X=t.rows[M],B=0;B<X.length;B++)X[B].tokens=this.lexer.inline(X[B].text);return t}}}lheading(u){const f=this.rules.block.lheading.exec(u);if(f)return{type:"heading",raw:f[0],depth:f[2].charAt(0)==="="?1:2,text:f[1],tokens:this.lexer.inline(f[1])}}paragraph(u){const f=this.rules.block.paragraph.exec(u);if(f){const t=f[1].charAt(f[1].length-1)===`
`?f[1].slice(0,-1):f[1];return{type:"paragraph",raw:f[0],text:t,tokens:this.lexer.inline(t)}}}text(u){const f=this.rules.block.text.exec(u);if(f)return{type:"text",raw:f[0],text:f[0],tokens:this.lexer.inline(f[0])}}escape(u){const f=this.rules.inline.escape.exec(u);if(f)return{type:"escape",raw:f[0],text:Re(f[1])}}tag(u){const f=this.rules.inline.tag.exec(u);if(f)return!this.lexer.state.inLink&&/^<a /i.test(f[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(f[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(f[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(f[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:f[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):Re(f[0]):f[0]}}link(u){const f=this.rules.inline.link.exec(u);if(f){const t=f[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const M=ft(t.slice(0,-1),"\\");if((t.length-M.length)%2===0)return}else{const M=vn(f[2],"()");if(M>-1){const X=(f[0].indexOf("!")===0?5:4)+f[1].length+M;f[2]=f[2].substring(0,M),f[0]=f[0].substring(0,X).trim(),f[3]=""}}let g=f[2],T="";if(this.options.pedantic){const M=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(g);M&&(g=M[1],T=M[3])}else T=f[3]?f[3].slice(1,-1):"";return g=g.trim(),/^</.test(g)&&(this.options.pedantic&&!/>$/.test(t)?g=g.slice(1):g=g.slice(1,-1)),Dt(f,{href:g&&g.replace(this.rules.inline._escapes,"$1"),title:T&&T.replace(this.rules.inline._escapes,"$1")},f[0],this.lexer)}}reflink(u,f){let t;if((t=this.rules.inline.reflink.exec(u))||(t=this.rules.inline.nolink.exec(u))){let g=(t[2]||t[1]).replace(/\s+/g," ");if(g=f[g.toLowerCase()],!g){const T=t[0].charAt(0);return{type:"text",raw:T,text:T}}return Dt(t,g,t[0],this.lexer)}}emStrong(u,f,t=""){let g=this.rules.inline.emStrong.lDelim.exec(u);if(!g||g[3]&&t.match(/[\p{L}\p{N}]/u))return;const T=g[1]||g[2]||"";if(!T||T&&(t===""||this.rules.inline.punctuation.exec(t))){const M=g[0].length-1;let B,X,me=M,fe=0;const ce=g[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ce.lastIndex=0,f=f.slice(-1*u.length+M);(g=ce.exec(f))!=null;){if(B=g[1]||g[2]||g[3]||g[4]||g[5]||g[6],!B)continue;if(X=B.length,g[3]||g[4]){me+=X;continue}else if((g[5]||g[6])&&M%3&&!((M+X)%3)){fe+=X;continue}if(me-=X,me>0)continue;X=Math.min(X,X+me+fe);const ae=u.slice(0,M+g.index+(g[0].length-B.length)+X);if(Math.min(M,X)%2){const Me=ae.slice(1,-1);return{type:"em",raw:ae,text:Me,tokens:this.lexer.inlineTokens(Me)}}const ne=ae.slice(2,-2);return{type:"strong",raw:ae,text:ne,tokens:this.lexer.inlineTokens(ne)}}}}codespan(u){const f=this.rules.inline.code.exec(u);if(f){let t=f[2].replace(/\n/g," ");const g=/[^ ]/.test(t),T=/^ /.test(t)&&/ $/.test(t);return g&&T&&(t=t.substring(1,t.length-1)),t=Re(t,!0),{type:"codespan",raw:f[0],text:t}}}br(u){const f=this.rules.inline.br.exec(u);if(f)return{type:"br",raw:f[0]}}del(u){const f=this.rules.inline.del.exec(u);if(f)return{type:"del",raw:f[0],text:f[2],tokens:this.lexer.inlineTokens(f[2])}}autolink(u,f){const t=this.rules.inline.autolink.exec(u);if(t){let g,T;return t[2]==="@"?(g=Re(this.options.mangle?f(t[1]):t[1]),T="mailto:"+g):(g=Re(t[1]),T=g),{type:"link",raw:t[0],text:g,href:T,tokens:[{type:"text",raw:g,text:g}]}}}url(u,f){let t;if(t=this.rules.inline.url.exec(u)){let g,T;if(t[2]==="@")g=Re(this.options.mangle?f(t[0]):t[0]),T="mailto:"+g;else{let M;do M=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0];while(M!==t[0]);g=Re(t[0]),t[1]==="www."?T="http://"+t[0]:T=t[0]}return{type:"link",raw:t[0],text:g,href:T,tokens:[{type:"text",raw:g,text:g}]}}}inlineText(u,f){const t=this.rules.inline.text.exec(u);if(t){let g;return this.lexer.state.inRawBlock?g=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Re(t[0]):t[0]:g=Re(this.options.smartypants?f(t[0]):t[0]),{type:"text",raw:t[0],text:g}}}}const ie={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ut,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ie._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ie._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ie.def=xe(ie.def).replace("label",ie._label).replace("title",ie._title).getRegex(),ie.bullet=/(?:[*+-]|\d{1,9}[.)])/,ie.listItemStart=xe(/^( *)(bull) */).replace("bull",ie.bullet).getRegex(),ie.list=xe(ie.list).replace(/bull/g,ie.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ie.def.source+")").getRegex(),ie._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ie._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ie.html=xe(ie.html,"i").replace("comment",ie._comment).replace("tag",ie._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ie.paragraph=xe(ie._paragraph).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex(),ie.blockquote=xe(ie.blockquote).replace("paragraph",ie.paragraph).getRegex(),ie.normal={...ie},ie.gfm={...ie.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},ie.gfm.table=xe(ie.gfm.table).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex(),ie.gfm.paragraph=xe(ie._paragraph).replace("hr",ie.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ie.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ie._tag).getRegex(),ie.pedantic={...ie.normal,html:xe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ie._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ut,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xe(ie.normal._paragraph).replace("hr",ie.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ie.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ut,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ut,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Z._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Z.punctuation=xe(Z.punctuation).replace(/punctuation/g,Z._punctuation).getRegex(),Z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Z.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Z._comment=xe(ie._comment).replace("(?:-->|$)","-->").getRegex(),Z.emStrong.lDelim=xe(Z.emStrong.lDelim).replace(/punct/g,Z._punctuation).getRegex(),Z.emStrong.rDelimAst=xe(Z.emStrong.rDelimAst,"g").replace(/punct/g,Z._punctuation).getRegex(),Z.emStrong.rDelimUnd=xe(Z.emStrong.rDelimUnd,"g").replace(/punct/g,Z._punctuation).getRegex(),Z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Z.autolink=xe(Z.autolink).replace("scheme",Z._scheme).replace("email",Z._email).getRegex(),Z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Z.tag=xe(Z.tag).replace("comment",Z._comment).replace("attribute",Z._attribute).getRegex(),Z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Z.link=xe(Z.link).replace("label",Z._label).replace("href",Z._href).replace("title",Z._title).getRegex(),Z.reflink=xe(Z.reflink).replace("label",Z._label).replace("ref",ie._label).getRegex(),Z.nolink=xe(Z.nolink).replace("ref",ie._label).getRegex(),Z.reflinkSearch=xe(Z.reflinkSearch,"g").replace("reflink",Z.reflink).replace("nolink",Z.nolink).getRegex(),Z.normal={...Z},Z.pedantic={...Z.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:xe(/^!?\[(label)\]\((.*?)\)/).replace("label",Z._label).getRegex(),reflink:xe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Z._label).getRegex()},Z.gfm={...Z.normal,escape:xe(Z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Z.gfm.url=xe(Z.gfm.url,"i").replace("email",Z.gfm._extended_email).getRegex(),Z.breaks={...Z.gfm,br:xe(Z.br).replace("{2,}","*").getRegex(),text:xe(Z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Sn(R){return R.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Ct(R){let u="",f,t;const g=R.length;for(f=0;f<g;f++)t=R.charCodeAt(f),Math.random()>.5&&(t="x"+t.toString(16)),u+="&#"+t+";";return u}class Xe{constructor(u){this.tokens=[],this.tokens.links=Object.create(null),this.options=u||et,this.options.tokenizer=this.options.tokenizer||new gt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const f={block:ie.normal,inline:Z.normal};this.options.pedantic?(f.block=ie.pedantic,f.inline=Z.pedantic):this.options.gfm&&(f.block=ie.gfm,this.options.breaks?f.inline=Z.breaks:f.inline=Z.gfm),this.tokenizer.rules=f}static get rules(){return{block:ie,inline:Z}}static lex(u,f){return new Xe(f).lex(u)}static lexInline(u,f){return new Xe(f).inlineTokens(u)}lex(u){u=u.replace(/\r\n|\r/g,`
`),this.blockTokens(u,this.tokens);let f;for(;f=this.inlineQueue.shift();)this.inlineTokens(f.src,f.tokens);return this.tokens}blockTokens(u,f=[]){this.options.pedantic?u=u.replace(/\t/g,"    ").replace(/^ +$/gm,""):u=u.replace(/^( *)(\t+)/gm,(B,X,me)=>X+"    ".repeat(me.length));let t,g,T,M;for(;u;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(B=>(t=B.call({lexer:this},u,f))?(u=u.substring(t.raw.length),f.push(t),!0):!1))){if(t=this.tokenizer.space(u)){u=u.substring(t.raw.length),t.raw.length===1&&f.length>0?f[f.length-1].raw+=`
`:f.push(t);continue}if(t=this.tokenizer.code(u)){u=u.substring(t.raw.length),g=f[f.length-1],g&&(g.type==="paragraph"||g.type==="text")?(g.raw+=`
`+t.raw,g.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=g.text):f.push(t);continue}if(t=this.tokenizer.fences(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.heading(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.hr(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.blockquote(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.list(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.html(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.def(u)){u=u.substring(t.raw.length),g=f[f.length-1],g&&(g.type==="paragraph"||g.type==="text")?(g.raw+=`
`+t.raw,g.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=g.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.lheading(u)){u=u.substring(t.raw.length),f.push(t);continue}if(T=u,this.options.extensions&&this.options.extensions.startBlock){let B=1/0;const X=u.slice(1);let me;this.options.extensions.startBlock.forEach(function(fe){me=fe.call({lexer:this},X),typeof me=="number"&&me>=0&&(B=Math.min(B,me))}),B<1/0&&B>=0&&(T=u.substring(0,B+1))}if(this.state.top&&(t=this.tokenizer.paragraph(T))){g=f[f.length-1],M&&g.type==="paragraph"?(g.raw+=`
`+t.raw,g.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=g.text):f.push(t),M=T.length!==u.length,u=u.substring(t.raw.length);continue}if(t=this.tokenizer.text(u)){u=u.substring(t.raw.length),g=f[f.length-1],g&&g.type==="text"?(g.raw+=`
`+t.raw,g.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=g.text):f.push(t);continue}if(u){const B="Infinite loop on byte: "+u.charCodeAt(0);if(this.options.silent){console.error(B);break}else throw new Error(B)}}return this.state.top=!0,f}inline(u,f=[]){return this.inlineQueue.push({src:u,tokens:f}),f}inlineTokens(u,f=[]){let t,g,T,M=u,B,X,me;if(this.tokens.links){const fe=Object.keys(this.tokens.links);if(fe.length>0)for(;(B=this.tokenizer.rules.inline.reflinkSearch.exec(M))!=null;)fe.includes(B[0].slice(B[0].lastIndexOf("[")+1,-1))&&(M=M.slice(0,B.index)+"["+Rt("a",B[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(B=this.tokenizer.rules.inline.blockSkip.exec(M))!=null;)M=M.slice(0,B.index)+"["+Rt("a",B[0].length-2)+"]"+M.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(B=this.tokenizer.rules.inline.escapedEmSt.exec(M))!=null;)M=M.slice(0,B.index+B[0].length-2)+"++"+M.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;u;)if(X||(me=""),X=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(fe=>(t=fe.call({lexer:this},u,f))?(u=u.substring(t.raw.length),f.push(t),!0):!1))){if(t=this.tokenizer.escape(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.tag(u)){u=u.substring(t.raw.length),g=f[f.length-1],g&&t.type==="text"&&g.type==="text"?(g.raw+=t.raw,g.text+=t.text):f.push(t);continue}if(t=this.tokenizer.link(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.reflink(u,this.tokens.links)){u=u.substring(t.raw.length),g=f[f.length-1],g&&t.type==="text"&&g.type==="text"?(g.raw+=t.raw,g.text+=t.text):f.push(t);continue}if(t=this.tokenizer.emStrong(u,M,me)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.codespan(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.br(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.del(u)){u=u.substring(t.raw.length),f.push(t);continue}if(t=this.tokenizer.autolink(u,Ct)){u=u.substring(t.raw.length),f.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(u,Ct))){u=u.substring(t.raw.length),f.push(t);continue}if(T=u,this.options.extensions&&this.options.extensions.startInline){let fe=1/0;const ce=u.slice(1);let ae;this.options.extensions.startInline.forEach(function(ne){ae=ne.call({lexer:this},ce),typeof ae=="number"&&ae>=0&&(fe=Math.min(fe,ae))}),fe<1/0&&fe>=0&&(T=u.substring(0,fe+1))}if(t=this.tokenizer.inlineText(T,Sn)){u=u.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(me=t.raw.slice(-1)),X=!0,g=f[f.length-1],g&&g.type==="text"?(g.raw+=t.raw,g.text+=t.text):f.push(t);continue}if(u){const fe="Infinite loop on byte: "+u.charCodeAt(0);if(this.options.silent){console.error(fe);break}else throw new Error(fe)}}return f}}class yt{constructor(u){this.options=u||et}code(u,f,t){const g=(f||"").match(/\S*/)[0];if(this.options.highlight){const T=this.options.highlight(u,g);T!=null&&T!==u&&(t=!0,u=T)}return u=u.replace(/\n$/,"")+`
`,g?'<pre><code class="'+this.options.langPrefix+Re(g)+'">'+(t?u:Re(u,!0))+`</code></pre>
`:"<pre><code>"+(t?u:Re(u,!0))+`</code></pre>
`}blockquote(u){return`<blockquote>
${u}</blockquote>
`}html(u,f){return u}heading(u,f,t,g){if(this.options.headerIds){const T=this.options.headerPrefix+g.slug(t);return`<h${f} id="${T}">${u}</h${f}>
`}return`<h${f}>${u}</h${f}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(u,f,t){const g=f?"ol":"ul",T=f&&t!==1?' start="'+t+'"':"";return"<"+g+T+`>
`+u+"</"+g+`>
`}listitem(u){return`<li>${u}</li>
`}checkbox(u){return"<input "+(u?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(u){return`<p>${u}</p>
`}table(u,f){return f&&(f=`<tbody>${f}</tbody>`),`<table>
<thead>
`+u+`</thead>
`+f+`</table>
`}tablerow(u){return`<tr>
${u}</tr>
`}tablecell(u,f){const t=f.header?"th":"td";return(f.align?`<${t} align="${f.align}">`:`<${t}>`)+u+`</${t}>
`}strong(u){return`<strong>${u}</strong>`}em(u){return`<em>${u}</em>`}codespan(u){return`<code>${u}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(u){return`<del>${u}</del>`}link(u,f,t){if(u=Pt(this.options.sanitize,this.options.baseUrl,u),u===null)return t;let g='<a href="'+u+'"';return f&&(g+=' title="'+f+'"'),g+=">"+t+"</a>",g}image(u,f,t){if(u=Pt(this.options.sanitize,this.options.baseUrl,u),u===null)return t;let g=`<img src="${u}" alt="${t}"`;return f&&(g+=` title="${f}"`),g+=this.options.xhtml?"/>":">",g}text(u){return u}}class zt{strong(u){return u}em(u){return u}codespan(u){return u}del(u){return u}html(u){return u}text(u){return u}link(u,f,t){return""+t}image(u,f,t){return""+t}br(){return""}}class Mt{constructor(){this.seen={}}serialize(u){return u.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(u,f){let t=u,g=0;if(this.seen.hasOwnProperty(t)){g=this.seen[u];do g++,t=u+"-"+g;while(this.seen.hasOwnProperty(t))}return f||(this.seen[u]=g,this.seen[t]=0),t}slug(u,f={}){const t=this.serialize(u);return this.getNextSafeSlug(t,f.dryrun)}}class Ze{constructor(u){this.options=u||et,this.options.renderer=this.options.renderer||new yt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zt,this.slugger=new Mt}static parse(u,f){return new Ze(f).parse(u)}static parseInline(u,f){return new Ze(f).parseInline(u)}parse(u,f=!0){let t="",g,T,M,B,X,me,fe,ce,ae,ne,Me,ze,Ue,qe,ve,We,Pe,Ne,Qe;const Ye=u.length;for(g=0;g<Ye;g++){if(ne=u[g],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ne.type]&&(Qe=this.options.extensions.renderers[ne.type].call({parser:this},ne),Qe!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ne.type))){t+=Qe||"";continue}switch(ne.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{t+=this.renderer.heading(this.parseInline(ne.tokens),ne.depth,Ot(this.parseInline(ne.tokens,this.textRenderer)),this.slugger);continue}case"code":{t+=this.renderer.code(ne.text,ne.lang,ne.escaped);continue}case"table":{for(ce="",fe="",B=ne.header.length,T=0;T<B;T++)fe+=this.renderer.tablecell(this.parseInline(ne.header[T].tokens),{header:!0,align:ne.align[T]});for(ce+=this.renderer.tablerow(fe),ae="",B=ne.rows.length,T=0;T<B;T++){for(me=ne.rows[T],fe="",X=me.length,M=0;M<X;M++)fe+=this.renderer.tablecell(this.parseInline(me[M].tokens),{header:!1,align:ne.align[M]});ae+=this.renderer.tablerow(fe)}t+=this.renderer.table(ce,ae);continue}case"blockquote":{ae=this.parse(ne.tokens),t+=this.renderer.blockquote(ae);continue}case"list":{for(Me=ne.ordered,ze=ne.start,Ue=ne.loose,B=ne.items.length,ae="",T=0;T<B;T++)ve=ne.items[T],We=ve.checked,Pe=ve.task,qe="",ve.task&&(Ne=this.renderer.checkbox(We),Ue?ve.tokens.length>0&&ve.tokens[0].type==="paragraph"?(ve.tokens[0].text=Ne+" "+ve.tokens[0].text,ve.tokens[0].tokens&&ve.tokens[0].tokens.length>0&&ve.tokens[0].tokens[0].type==="text"&&(ve.tokens[0].tokens[0].text=Ne+" "+ve.tokens[0].tokens[0].text)):ve.tokens.unshift({type:"text",text:Ne}):qe+=Ne),qe+=this.parse(ve.tokens,Ue),ae+=this.renderer.listitem(qe,Pe,We);t+=this.renderer.list(ae,Me,ze);continue}case"html":{t+=this.renderer.html(ne.text,ne.block);continue}case"paragraph":{t+=this.renderer.paragraph(this.parseInline(ne.tokens));continue}case"text":{for(ae=ne.tokens?this.parseInline(ne.tokens):ne.text;g+1<Ye&&u[g+1].type==="text";)ne=u[++g],ae+=`
`+(ne.tokens?this.parseInline(ne.tokens):ne.text);t+=f?this.renderer.paragraph(ae):ae;continue}default:{const Ge='Token with "'+ne.type+'" type was not found.';if(this.options.silent){console.error(Ge);return}else throw new Error(Ge)}}}return t}parseInline(u,f){f=f||this.renderer;let t="",g,T,M;const B=u.length;for(g=0;g<B;g++){if(T=u[g],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type]&&(M=this.options.extensions.renderers[T.type].call({parser:this},T),M!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(T.type))){t+=M||"";continue}switch(T.type){case"escape":{t+=f.text(T.text);break}case"html":{t+=f.html(T.text);break}case"link":{t+=f.link(T.href,T.title,this.parseInline(T.tokens,f));break}case"image":{t+=f.image(T.href,T.title,T.text);break}case"strong":{t+=f.strong(this.parseInline(T.tokens,f));break}case"em":{t+=f.em(this.parseInline(T.tokens,f));break}case"codespan":{t+=f.codespan(T.text);break}case"br":{t+=f.br();break}case"del":{t+=f.del(this.parseInline(T.tokens,f));break}case"text":{t+=f.text(T.text);break}default:{const X='Token with "'+T.type+'" type was not found.';if(this.options.silent){console.error(X);return}else throw new Error(X)}}}return t}}class bt{constructor(u){this.options=u||et}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(u){return u}postprocess(u){return u}}function An(R,u,f){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,R){const g="<p>An error occurred:</p><pre>"+Re(t.message+"",!0)+"</pre>";if(u)return Promise.resolve(g);if(f){f(null,g);return}return g}if(u)return Promise.reject(t);if(f){f(t);return}throw t}}function Nt(R,u){return(f,t,g)=>{typeof t=="function"&&(g=t,t=null);const T={...t};t={...oe.defaults,...T};const M=An(t.silent,t.async,g);if(typeof f>"u"||f===null)return M(new Error("marked(): input parameter is undefined or null"));if(typeof f!="string")return M(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(f)+", string expected"));if(En(t,g),t.hooks&&(t.hooks.options=t),g){const B=t.highlight;let X;try{t.hooks&&(f=t.hooks.preprocess(f)),X=R(f,t)}catch(ce){return M(ce)}const me=function(ce){let ae;if(!ce)try{t.walkTokens&&oe.walkTokens(X,t.walkTokens),ae=u(X,t),t.hooks&&(ae=t.hooks.postprocess(ae))}catch(ne){ce=ne}return t.highlight=B,ce?M(ce):g(null,ae)};if(!B||B.length<3||(delete t.highlight,!X.length))return me();let fe=0;oe.walkTokens(X,function(ce){ce.type==="code"&&(fe++,setTimeout(()=>{B(ce.text,ce.lang,function(ae,ne){if(ae)return me(ae);ne!=null&&ne!==ce.text&&(ce.text=ne,ce.escaped=!0),fe--,fe===0&&me()})},0))}),fe===0&&me();return}if(t.async)return Promise.resolve(t.hooks?t.hooks.preprocess(f):f).then(B=>R(B,t)).then(B=>t.walkTokens?Promise.all(oe.walkTokens(B,t.walkTokens)).then(()=>B):B).then(B=>u(B,t)).then(B=>t.hooks?t.hooks.postprocess(B):B).catch(M);try{t.hooks&&(f=t.hooks.preprocess(f));const B=R(f,t);t.walkTokens&&oe.walkTokens(B,t.walkTokens);let X=u(B,t);return t.hooks&&(X=t.hooks.postprocess(X)),X}catch(B){return M(B)}}}function oe(R,u,f){return Nt(Xe.lex,Ze.parse)(R,u,f)}oe.options=oe.setOptions=function(R){return oe.defaults={...oe.defaults,...R},fn(oe.defaults),oe},oe.getDefaults=At,oe.defaults=et,oe.use=function(...R){const u=oe.defaults.extensions||{renderers:{},childTokens:{}};R.forEach(f=>{const t={...f};if(t.async=oe.defaults.async||t.async||!1,f.extensions&&(f.extensions.forEach(g=>{if(!g.name)throw new Error("extension name required");if(g.renderer){const T=u.renderers[g.name];T?u.renderers[g.name]=function(...M){let B=g.renderer.apply(this,M);return B===!1&&(B=T.apply(this,M)),B}:u.renderers[g.name]=g.renderer}if(g.tokenizer){if(!g.level||g.level!=="block"&&g.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");u[g.level]?u[g.level].unshift(g.tokenizer):u[g.level]=[g.tokenizer],g.start&&(g.level==="block"?u.startBlock?u.startBlock.push(g.start):u.startBlock=[g.start]:g.level==="inline"&&(u.startInline?u.startInline.push(g.start):u.startInline=[g.start]))}g.childTokens&&(u.childTokens[g.name]=g.childTokens)}),t.extensions=u),f.renderer){const g=oe.defaults.renderer||new yt;for(const T in f.renderer){const M=g[T];g[T]=(...B)=>{let X=f.renderer[T].apply(g,B);return X===!1&&(X=M.apply(g,B)),X}}t.renderer=g}if(f.tokenizer){const g=oe.defaults.tokenizer||new gt;for(const T in f.tokenizer){const M=g[T];g[T]=(...B)=>{let X=f.tokenizer[T].apply(g,B);return X===!1&&(X=M.apply(g,B)),X}}t.tokenizer=g}if(f.hooks){const g=oe.defaults.hooks||new bt;for(const T in f.hooks){const M=g[T];bt.passThroughHooks.has(T)?g[T]=B=>{if(oe.defaults.async)return Promise.resolve(f.hooks[T].call(g,B)).then(me=>M.call(g,me));const X=f.hooks[T].call(g,B);return M.call(g,X)}:g[T]=(...B)=>{let X=f.hooks[T].apply(g,B);return X===!1&&(X=M.apply(g,B)),X}}t.hooks=g}if(f.walkTokens){const g=oe.defaults.walkTokens;t.walkTokens=function(T){let M=[];return M.push(f.walkTokens.call(this,T)),g&&(M=M.concat(g.call(this,T))),M}}oe.setOptions(t)})},oe.walkTokens=function(R,u){let f=[];for(const t of R)switch(f=f.concat(u.call(oe,t)),t.type){case"table":{for(const g of t.header)f=f.concat(oe.walkTokens(g.tokens,u));for(const g of t.rows)for(const T of g)f=f.concat(oe.walkTokens(T.tokens,u));break}case"list":{f=f.concat(oe.walkTokens(t.items,u));break}default:oe.defaults.extensions&&oe.defaults.extensions.childTokens&&oe.defaults.extensions.childTokens[t.type]?oe.defaults.extensions.childTokens[t.type].forEach(function(g){f=f.concat(oe.walkTokens(t[g],u))}):t.tokens&&(f=f.concat(oe.walkTokens(t.tokens,u)))}return f},oe.parseInline=Nt(Xe.lexInline,Ze.parseInline),oe.Parser=Ze,oe.parser=Ze.parse,oe.Renderer=yt,oe.TextRenderer=zt,oe.Lexer=Xe,oe.lexer=Xe.lex,oe.Tokenizer=gt,oe.Slugger=Mt,oe.Hooks=bt,oe.parse=oe,oe.options,oe.setOptions,oe.use,oe.walkTokens,oe.parseInline,Ze.parse,Xe.lex;let qt;const jt=async R=>{try{const f=await(await navigator.storage.getDirectory()).getFileHandle(R);await In(f)}catch(u){console.log(u.name,u.message),u.name==="NotFoundError"&&self.postMessage({showOpenFilePicker:!0})}},In=async R=>{const u=await un({print:(...f)=>console.log(...f),printErr:(...f)=>console.error(...f)});qt=new u.oo1.OpfsDb(R.name),self.postMessage({ready:R.name})};self.addEventListener("message",async R=>{if(R.data.handle)try{const f=await(await root.getFileHandle(R.data.handle.name,{create:!0})).createWritable();await(await R.data.handle.getFile()).stream().pipeTo(f),await jt(R.data.handle.name)}catch(u){self.postMessage({error:`${u.name}: ${u.message}`})}else R.data.search?await Ut(R.data.search):R.data.searchRandom?await Tn():R.data.checkIfFileExists&&await jt(R.data.checkIfFileExists)});const Bt=async({title:R,text:u,redirect:f})=>{if(f)return await Ut(f);const t=oe.parse(u,{mangle:!1,headerIds:!1}).replaceAll(/<img[^>]*>/g,"");self.postMessage({html:t,title:R})},Tn=async()=>{const R="SELECT * FROM wiki_articles LIMIT 1 OFFSET ABS(RANDOM()) % MAX((SELECT COUNT(*) FROM wiki_articles), 1)";console.log(R),qt.exec({sql:R,rowMode:"object",callback:Bt})},Ut=async R=>{const u=`SELECT * FROM wiki_articles WHERE title = '${R}' COLLATE NOCASE`;console.log(u),qt.exec({sql:u,rowMode:"object",callback:Bt})}})();
